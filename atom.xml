<?xml version="1.0"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://anoxiahub.github.io</id>
    <title></title>
    <subtitle>æ¬¢è¿æ¥åˆ°æ™ºæ…§ç¬”è®°~è¿™é‡Œä¸»è¦ä¼šè®°å½•ç¼–ç¨‹å­¦ä¹ ç¬”è®°ğŸŒ¸</subtitle>
    <icon>https://anoxiahub.github.io/images/favicon.ico</icon>
    <link href="https://anoxiahub.github.io" />
    <author>
      <name>anoxia</name>
    </author>
    <updated>2023-08-14T16:00:00.000Z</updated>
    <category term="èµ·æº" />
    <entry>
        <id>https://anoxiahub.github.io/interview/%E5%A4%9A%E7%BA%BF%E7%A8%8B%E7%9B%B8%E5%85%B3%E9%9D%A2%E8%AF%95%E9%A2%98/</id>
        <title>å¤šçº¿ç¨‹ç›¸å…³é¢è¯•é¢˜</title>
        <link rel="alternate" href="https://anoxiahub.github.io/interview/%E5%A4%9A%E7%BA%BF%E7%A8%8B%E7%9B%B8%E5%85%B3%E9%9D%A2%E8%AF%95%E9%A2%98/"/>
        <content type="html">&lt;blockquote&gt;
&lt;p&gt;æœ‰å…³å¤šçº¿ç¨‹å†…å®¹å¯ä»¥çœ‹&lt;a href=&#34;/java/JUC%E8%AF%A6%E8%A7%A3&#34;&gt;JUCè¯¦è§£&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜ï¼šèŠä¸€ä¸‹å¹¶è¡Œå’Œå¹¶å‘æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ&#34;&gt;&lt;a href=&#34;#é¢è¯•å®˜ï¼šèŠä¸€ä¸‹å¹¶è¡Œå’Œå¹¶å‘æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ&#34; class=&#34;headerlink&#34; title=&#34;é¢è¯•å®˜ï¼šèŠä¸€ä¸‹å¹¶è¡Œå’Œå¹¶å‘æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ&#34;&gt;&lt;/a&gt;é¢è¯•å®˜ï¼šèŠä¸€ä¸‹å¹¶è¡Œå’Œå¹¶å‘æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äººï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æ˜¯è¿™æ ·çš„~~&lt;/p&gt;
&lt;p&gt;ç°åœ¨éƒ½æ˜¯å¤šæ ¸CPUï¼Œåœ¨å¤šæ ¸CPUä¸‹&lt;/p&gt;
&lt;p&gt;å¹¶å‘æ˜¯åŒä¸€æ—¶é—´åº”å¯¹å¤šä»¶äº‹æƒ…çš„èƒ½åŠ›ï¼Œå¤šä¸ªçº¿ç¨‹è½®æµä½¿ç”¨ä¸€ä¸ªæˆ–å¤šä¸ªCPU&lt;/p&gt;
&lt;p&gt;å¹¶è¡Œæ˜¯åŒä¸€æ—¶é—´åŠ¨æ‰‹åšå¤šä»¶äº‹æƒ…çš„èƒ½åŠ›ï¼Œ4æ ¸CPUåŒæ—¶æ‰§è¡Œ4ä¸ªçº¿ç¨‹&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜ï¼šè¯´ä¸€ä¸‹çº¿ç¨‹å’Œè¿›ç¨‹çš„åŒºåˆ«ï¼Ÿ&#34;&gt;&lt;a href=&#34;#é¢è¯•å®˜ï¼šè¯´ä¸€ä¸‹çº¿ç¨‹å’Œè¿›ç¨‹çš„åŒºåˆ«ï¼Ÿ&#34; class=&#34;headerlink&#34; title=&#34;é¢è¯•å®˜ï¼šè¯´ä¸€ä¸‹çº¿ç¨‹å’Œè¿›ç¨‹çš„åŒºåˆ«ï¼Ÿ&#34;&gt;&lt;/a&gt;é¢è¯•å®˜ï¼šè¯´ä¸€ä¸‹çº¿ç¨‹å’Œè¿›ç¨‹çš„åŒºåˆ«ï¼Ÿ&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äººï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å—¯ï¼Œå¥½~&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è¿›ç¨‹æ˜¯æ­£åœ¨è¿è¡Œç¨‹åºçš„å®ä¾‹ï¼Œè¿›ç¨‹ä¸­åŒ…å«äº†çº¿ç¨‹ï¼Œæ¯ä¸ªçº¿ç¨‹æ‰§è¡Œä¸åŒçš„ä»»åŠ¡&lt;/li&gt;
&lt;li&gt;ä¸åŒçš„è¿›ç¨‹ä½¿ç”¨ä¸åŒçš„å†…å­˜ç©ºé—´ï¼Œåœ¨å½“å‰è¿›ç¨‹ä¸‹çš„æ‰€æœ‰çº¿ç¨‹å¯ä»¥å…±äº«å†…å­˜ç©ºé—´&lt;/li&gt;
&lt;li&gt;çº¿ç¨‹æ›´è½»é‡ï¼Œçº¿ç¨‹ä¸Šä¸‹æ–‡åˆ‡æ¢æˆæœ¬ä¸€èˆ¬ä¸Šè¦æ¯”è¿›ç¨‹ä¸Šä¸‹æ–‡åˆ‡æ¢ä½(ä¸Šä¸‹æ–‡åˆ‡æ¢æŒ‡çš„æ˜¯ä»ä¸€ä¸ªçº¿ç¨‹åˆ‡æ¢åˆ°å¦ä¸€ä¸ªçº¿ç¨‹)&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜ï¼šå¦‚æœåœ¨javaä¸­åˆ›å»ºçº¿ç¨‹æœ‰å“ªäº›æ–¹å¼ï¼Ÿ&#34;&gt;&lt;a href=&#34;#é¢è¯•å®˜ï¼šå¦‚æœåœ¨javaä¸­åˆ›å»ºçº¿ç¨‹æœ‰å“ªäº›æ–¹å¼ï¼Ÿ&#34; class=&#34;headerlink&#34; title=&#34;é¢è¯•å®˜ï¼šå¦‚æœåœ¨javaä¸­åˆ›å»ºçº¿ç¨‹æœ‰å“ªäº›æ–¹å¼ï¼Ÿ&#34;&gt;&lt;/a&gt;é¢è¯•å®˜ï¼šå¦‚æœåœ¨javaä¸­åˆ›å»ºçº¿ç¨‹æœ‰å“ªäº›æ–¹å¼ï¼Ÿ&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äººï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;åœ¨javaä¸­ä¸€å…±æœ‰å››ç§å¸¸è§çš„åˆ›å»ºæ–¹å¼ï¼Œåˆ†åˆ«æ˜¯ï¼šç»§æ‰¿Threadç±»ã€å®ç°runnableæ¥å£ã€å®ç°Callableæ¥å£ã€çº¿ç¨‹æ± åˆ›å»ºçº¿ç¨‹ã€‚é€šå¸¸æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬é¡¹ç›®ä¸­éƒ½ä¼šé‡‡ç”¨çº¿ç¨‹æ± çš„æ–¹å¼åˆ›å»ºçº¿ç¨‹ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜ï¼šå¥½çš„ï¼Œåˆšæ‰ä½ è¯´çš„runnable-å’Œ-callable-ä¸¤ä¸ªæ¥å£åˆ›å»ºçº¿ç¨‹æœ‰ä»€ä¹ˆä¸åŒå‘¢ï¼Ÿ&#34;&gt;&lt;a href=&#34;#é¢è¯•å®˜ï¼šå¥½çš„ï¼Œåˆšæ‰ä½ è¯´çš„runnable-å’Œ-callable-ä¸¤ä¸ªæ¥å£åˆ›å»ºçº¿ç¨‹æœ‰ä»€ä¹ˆä¸åŒå‘¢ï¼Ÿ&#34; class=&#34;headerlink&#34; title=&#34;é¢è¯•å®˜ï¼šå¥½çš„ï¼Œåˆšæ‰ä½ è¯´çš„runnable å’Œ callable ä¸¤ä¸ªæ¥å£åˆ›å»ºçº¿ç¨‹æœ‰ä»€ä¹ˆä¸åŒå‘¢ï¼Ÿ&#34;&gt;&lt;/a&gt;é¢è¯•å®˜ï¼šå¥½çš„ï¼Œåˆšæ‰ä½ è¯´çš„runnable å’Œ callable ä¸¤ä¸ªæ¥å£åˆ›å»ºçº¿ç¨‹æœ‰ä»€ä¹ˆä¸åŒå‘¢ï¼Ÿ&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äººï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æ˜¯è¿™æ ·çš„~&lt;/p&gt;
&lt;p&gt;æœ€ä¸»è¦çš„ä¸¤ä¸ªçº¿ç¨‹ä¸€ä¸ªæ˜¯æœ‰è¿”å›å€¼ï¼Œä¸€ä¸ªæ˜¯æ²¡æœ‰è¿”å›å€¼çš„ã€‚&lt;/p&gt;
&lt;p&gt;Runnable æ¥å£runæ–¹æ³•æ— è¿”å›å€¼ï¼›Callableæ¥å£callæ–¹æ³•æœ‰è¿”å›å€¼ï¼Œæ˜¯ä¸ªæ³›å‹ï¼Œå’ŒFutureã€FutureTaské…åˆå¯ä»¥ç”¨æ¥è·å–å¼‚æ­¥æ‰§è¡Œçš„ç»“æœ&lt;/p&gt;
&lt;p&gt;è¿˜æœ‰ä¸€ä¸ªå°±æ˜¯ï¼Œä»–ä»¬å¼‚å¸¸å¤„ç†ä¹Ÿä¸ä¸€æ ·ã€‚Runnableæ¥å£runæ–¹æ³•åªèƒ½æŠ›å‡ºè¿è¡Œæ—¶å¼‚å¸¸ï¼Œä¹Ÿæ— æ³•æ•è·å¤„ç†ï¼›Callableæ¥å£callæ–¹æ³•å…è®¸æŠ›å‡ºå¼‚å¸¸ï¼Œå¯ä»¥è·å–å¼‚å¸¸ä¿¡æ¯&lt;/p&gt;
&lt;p&gt;åœ¨å®é™…å¼€å‘ä¸­ï¼Œå¦‚æœéœ€è¦æ‹¿åˆ°æ‰§è¡Œçš„ç»“æœï¼Œéœ€è¦ä½¿ç”¨Callalbeæ¥å£åˆ›å»ºçº¿ç¨‹ï¼Œè°ƒç”¨FutureTask.get()å¾—åˆ°å¯ä»¥å¾—åˆ°è¿”å›å€¼ï¼Œæ­¤æ–¹æ³•ä¼šé˜»å¡ä¸»è¿›ç¨‹çš„ç»§ç»­å¾€ä¸‹æ‰§è¡Œï¼Œå¦‚æœä¸è°ƒç”¨ä¸ä¼šé˜»å¡ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜ï¼šçº¿ç¨‹åŒ…æ‹¬å“ªäº›çŠ¶æ€ï¼ŒçŠ¶æ€ä¹‹é—´æ˜¯å¦‚ä½•å˜åŒ–çš„ï¼Ÿ&#34;&gt;&lt;a href=&#34;#é¢è¯•å®˜ï¼šçº¿ç¨‹åŒ…æ‹¬å“ªäº›çŠ¶æ€ï¼ŒçŠ¶æ€ä¹‹é—´æ˜¯å¦‚ä½•å˜åŒ–çš„ï¼Ÿ&#34; class=&#34;headerlink&#34; title=&#34;é¢è¯•å®˜ï¼šçº¿ç¨‹åŒ…æ‹¬å“ªäº›çŠ¶æ€ï¼ŒçŠ¶æ€ä¹‹é—´æ˜¯å¦‚ä½•å˜åŒ–çš„ï¼Ÿ&#34;&gt;&lt;/a&gt;é¢è¯•å®˜ï¼šçº¿ç¨‹åŒ…æ‹¬å“ªäº›çŠ¶æ€ï¼ŒçŠ¶æ€ä¹‹é—´æ˜¯å¦‚ä½•å˜åŒ–çš„ï¼Ÿ&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äººï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;åœ¨JDKä¸­çš„Threadç±»ä¸­çš„æšä¸¾Stateé‡Œé¢å®šä¹‰äº†6ä¸­çº¿ç¨‹çš„çŠ¶æ€åˆ†åˆ«æ˜¯ï¼šæ–°å»ºã€å¯è¿è¡Œã€ç»ˆç»“ã€é˜»å¡ã€ç­‰å¾…å’Œæœ‰æ—¶é™ç­‰å¾…å…­ç§ã€‚&lt;/p&gt;
&lt;p&gt;å…³äºçº¿ç¨‹çš„çŠ¶æ€åˆ‡æ¢æƒ…å†µæ¯”è¾ƒå¤šã€‚æˆ‘åˆ†åˆ«ä»‹ç»ä¸€ä¸‹&lt;/p&gt;
&lt;p&gt;å½“ä¸€ä¸ªçº¿ç¨‹å¯¹è±¡è¢«åˆ›å»ºï¼Œä½†è¿˜æœªè°ƒç”¨ start æ–¹æ³•æ—¶å¤„äº&lt;strong&gt;æ–°å»º&lt;/strong&gt;çŠ¶æ€ï¼Œè°ƒç”¨äº† start æ–¹æ³•ï¼Œå°±ä¼šç”±&lt;strong&gt;æ–°å»º&lt;/strong&gt;è¿›å…¥&lt;strong&gt;å¯è¿è¡Œ&lt;/strong&gt;çŠ¶æ€ã€‚å¦‚æœçº¿ç¨‹å†…ä»£ç å·²ç»æ‰§è¡Œå®Œæ¯•ï¼Œç”±&lt;strong&gt;å¯è¿è¡Œ&lt;/strong&gt;è¿›å…¥&lt;strong&gt;ç»ˆç»“&lt;/strong&gt;çŠ¶æ€ã€‚å½“ç„¶è¿™äº›æ˜¯ä¸€ä¸ªçº¿ç¨‹æ­£å¸¸æ‰§è¡Œæƒ…å†µã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœçº¿ç¨‹è·å–é”å¤±è´¥åï¼Œç”±&lt;strong&gt;å¯è¿è¡Œ&lt;/strong&gt;è¿›å…¥ Monitor çš„é˜»å¡é˜Ÿåˆ—&lt;strong&gt;é˜»å¡&lt;/strong&gt;ï¼Œåªæœ‰å½“æŒé”çº¿ç¨‹é‡Šæ”¾é”æ—¶ï¼Œä¼šæŒ‰ç…§ä¸€å®šè§„åˆ™å”¤é†’é˜»å¡é˜Ÿåˆ—ä¸­çš„&lt;strong&gt;é˜»å¡&lt;/strong&gt;çº¿ç¨‹ï¼Œå”¤é†’åçš„çº¿ç¨‹è¿›å…¥&lt;strong&gt;å¯è¿è¡Œ&lt;/strong&gt;çŠ¶æ€&lt;/p&gt;
&lt;p&gt;å¦‚æœçº¿ç¨‹è·å–é”æˆåŠŸåï¼Œä½†ç”±äºæ¡ä»¶ä¸æ»¡è¶³ï¼Œè°ƒç”¨äº† wait() æ–¹æ³•ï¼Œæ­¤æ—¶ä»&lt;strong&gt;å¯è¿è¡Œ&lt;/strong&gt;çŠ¶æ€é‡Šæ”¾é”&lt;strong&gt;ç­‰å¾…&lt;/strong&gt;çŠ¶æ€ï¼Œå½“å…¶å®ƒæŒé”çº¿ç¨‹è°ƒç”¨ notify() æˆ– notifyAll() æ–¹æ³•ï¼Œä¼šæ¢å¤ä¸º&lt;strong&gt;å¯è¿è¡Œ&lt;/strong&gt;çŠ¶æ€&lt;/p&gt;
&lt;p&gt;è¿˜æœ‰ä¸€ç§æƒ…å†µæ˜¯è°ƒç”¨ sleep(long) æ–¹æ³•ä¹Ÿä¼šä»&lt;strong&gt;å¯è¿è¡Œ&lt;/strong&gt;çŠ¶æ€è¿›å…¥&lt;strong&gt;æœ‰æ—¶é™ç­‰å¾…&lt;/strong&gt;çŠ¶æ€ï¼Œä¸éœ€è¦ä¸»åŠ¨å”¤é†’ï¼Œè¶…æ—¶æ—¶é—´åˆ°è‡ªç„¶æ¢å¤ä¸º&lt;strong&gt;å¯è¿è¡Œ&lt;/strong&gt;çŠ¶æ€&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜ï¼šå—¯ï¼Œå¥½çš„ï¼Œåˆšæ‰ä½ è¯´çš„çº¿ç¨‹ä¸­çš„-wait-å’Œ-sleepæ–¹æ³•æœ‰ä»€ä¹ˆä¸åŒå‘¢ï¼Ÿ&#34;&gt;&lt;a href=&#34;#é¢è¯•å®˜ï¼šå—¯ï¼Œå¥½çš„ï¼Œåˆšæ‰ä½ è¯´çš„çº¿ç¨‹ä¸­çš„-wait-å’Œ-sleepæ–¹æ³•æœ‰ä»€ä¹ˆä¸åŒå‘¢ï¼Ÿ&#34; class=&#34;headerlink&#34; title=&#34;é¢è¯•å®˜ï¼šå—¯ï¼Œå¥½çš„ï¼Œåˆšæ‰ä½ è¯´çš„çº¿ç¨‹ä¸­çš„ wait å’Œ sleepæ–¹æ³•æœ‰ä»€ä¹ˆä¸åŒå‘¢ï¼Ÿ&#34;&gt;&lt;/a&gt;é¢è¯•å®˜ï¼šå—¯ï¼Œå¥½çš„ï¼Œåˆšæ‰ä½ è¯´çš„çº¿ç¨‹ä¸­çš„ wait å’Œ sleepæ–¹æ³•æœ‰ä»€ä¹ˆä¸åŒå‘¢ï¼Ÿ&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äººï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å®ƒä»¬ä¸¤ä¸ªçš„ç›¸åŒç‚¹æ˜¯éƒ½å¯ä»¥è®©å½“å‰çº¿ç¨‹æš‚æ—¶æ”¾å¼ƒ CPU çš„ä½¿ç”¨æƒï¼Œè¿›å…¥é˜»å¡çŠ¶æ€ã€‚&lt;/p&gt;
&lt;p&gt;ä¸åŒç‚¹ä¸»è¦æœ‰ä¸‰ä¸ªæ–¹é¢ï¼š&lt;/p&gt;
&lt;p&gt;ç¬¬ä¸€ï¼šæ–¹æ³•å½’å±ä¸åŒ&lt;/p&gt;
&lt;p&gt;sleep(long) æ˜¯ Thread çš„é™æ€æ–¹æ³•ã€‚è€Œ wait()ï¼Œæ˜¯ Object çš„æˆå‘˜æ–¹æ³•ï¼Œæ¯ä¸ªå¯¹è±¡éƒ½æœ‰&lt;/p&gt;
&lt;p&gt;ç¬¬äºŒï¼šçº¿ç¨‹é†’æ¥æ—¶æœºä¸åŒ&lt;/p&gt;
&lt;p&gt;çº¿ç¨‹æ‰§è¡Œ sleep(long) ä¼šåœ¨ç­‰å¾…ç›¸åº”æ¯«ç§’åé†’æ¥ï¼Œè€Œ wait() éœ€è¦è¢« notify å”¤é†’ï¼Œwait() å¦‚æœä¸å”¤é†’å°±ä¸€ç›´ç­‰ä¸‹å»&lt;/p&gt;
&lt;p&gt;ç¬¬ä¸‰ï¼šé”ç‰¹æ€§ä¸åŒ&lt;/p&gt;
&lt;p&gt;wait æ–¹æ³•çš„è°ƒç”¨å¿…é¡»å…ˆè·å– wait å¯¹è±¡çš„é”ï¼Œè€Œ sleep åˆ™æ— æ­¤é™åˆ¶&lt;/p&gt;
&lt;p&gt;wait æ–¹æ³•æ‰§è¡Œåä¼šé‡Šæ”¾å¯¹è±¡é”ï¼Œå…è®¸å…¶å®ƒçº¿ç¨‹è·å¾—è¯¥å¯¹è±¡é”ï¼ˆç›¸å½“äºæˆ‘æ”¾å¼ƒ cpuï¼Œä½†ä½ ä»¬è¿˜å¯ä»¥ç”¨ï¼‰&lt;/p&gt;
&lt;p&gt;è€Œ sleep å¦‚æœåœ¨ synchronized ä»£ç å—ä¸­æ‰§è¡Œï¼Œå¹¶ä¸ä¼šé‡Šæ”¾å¯¹è±¡é”ï¼ˆç›¸å½“äºæˆ‘æ”¾å¼ƒ cpuï¼Œä½ ä»¬ä¹Ÿç”¨ä¸äº†ï¼‰&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜ï¼šå¥½çš„ï¼Œæˆ‘ç°åœ¨ä¸¾ä¸€ä¸ªåœºæ™¯ï¼Œä½ æ¥åˆ†æä¸€ä¸‹æ€ä¹ˆåšï¼Œæ–°å»º-T1ã€T2ã€T3-ä¸‰ä¸ªçº¿ç¨‹ï¼Œå¦‚ä½•ä¿è¯å®ƒä»¬æŒ‰é¡ºåºæ‰§è¡Œï¼Ÿ&#34;&gt;&lt;a href=&#34;#é¢è¯•å®˜ï¼šå¥½çš„ï¼Œæˆ‘ç°åœ¨ä¸¾ä¸€ä¸ªåœºæ™¯ï¼Œä½ æ¥åˆ†æä¸€ä¸‹æ€ä¹ˆåšï¼Œæ–°å»º-T1ã€T2ã€T3-ä¸‰ä¸ªçº¿ç¨‹ï¼Œå¦‚ä½•ä¿è¯å®ƒä»¬æŒ‰é¡ºåºæ‰§è¡Œï¼Ÿ&#34; class=&#34;headerlink&#34; title=&#34;é¢è¯•å®˜ï¼šå¥½çš„ï¼Œæˆ‘ç°åœ¨ä¸¾ä¸€ä¸ªåœºæ™¯ï¼Œä½ æ¥åˆ†æä¸€ä¸‹æ€ä¹ˆåšï¼Œæ–°å»º T1ã€T2ã€T3 ä¸‰ä¸ªçº¿ç¨‹ï¼Œå¦‚ä½•ä¿è¯å®ƒä»¬æŒ‰é¡ºåºæ‰§è¡Œï¼Ÿ&#34;&gt;&lt;/a&gt;é¢è¯•å®˜ï¼šå¥½çš„ï¼Œæˆ‘ç°åœ¨ä¸¾ä¸€ä¸ªåœºæ™¯ï¼Œä½ æ¥åˆ†æä¸€ä¸‹æ€ä¹ˆåšï¼Œæ–°å»º T1ã€T2ã€T3 ä¸‰ä¸ªçº¿ç¨‹ï¼Œå¦‚ä½•ä¿è¯å®ƒä»¬æŒ‰é¡ºåºæ‰§è¡Œï¼Ÿ&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äººï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å—¯~~ï¼Œæˆ‘æ€è€ƒä¸€ä¸‹ ï¼ˆé€‚å½“çš„æ€è€ƒæˆ–æƒ³ä¸€ä¸‹å±äºæ­£å¸¸æƒ…å†µï¼Œè„±å£è€Œå‡ºåè€Œå¤ªå‡[èƒŒè¯µç—•è¿¹]ï¼‰&lt;/p&gt;
&lt;p&gt;å¯ä»¥è¿™ä¹ˆåšï¼Œåœ¨å¤šçº¿ç¨‹ä¸­æœ‰å¤šç§æ–¹æ³•è®©çº¿ç¨‹æŒ‰ç‰¹å®šé¡ºåºæ‰§è¡Œï¼Œå¯ä»¥ç”¨çº¿ç¨‹ç±»çš„&lt;strong&gt;join&lt;/strong&gt;()æ–¹æ³•åœ¨ä¸€ä¸ªçº¿ç¨‹ä¸­å¯åŠ¨å¦ä¸€ä¸ªçº¿ç¨‹ï¼Œå¦å¤–ä¸€ä¸ªçº¿ç¨‹å®Œæˆè¯¥çº¿ç¨‹ç»§ç»­æ‰§è¡Œã€‚&lt;/p&gt;
&lt;p&gt;æ¯”å¦‚è¯´ï¼š&lt;/p&gt;
&lt;p&gt;ä½¿ç”¨joinæ–¹æ³•ï¼ŒT3è°ƒç”¨T2ï¼ŒT2è°ƒç”¨T1ï¼Œè¿™æ ·å°±èƒ½ç¡®ä¿T1å°±ä¼šå…ˆå®Œæˆè€ŒT3æœ€åå®Œæˆ&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜ï¼šåœ¨æˆ‘ä»¬ä½¿ç”¨çº¿ç¨‹çš„è¿‡ç¨‹ä¸­ï¼Œæœ‰ä¸¤ä¸ªæ–¹æ³•ã€‚çº¿ç¨‹çš„-run-å’Œ-start-æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ&#34;&gt;&lt;a href=&#34;#é¢è¯•å®˜ï¼šåœ¨æˆ‘ä»¬ä½¿ç”¨çº¿ç¨‹çš„è¿‡ç¨‹ä¸­ï¼Œæœ‰ä¸¤ä¸ªæ–¹æ³•ã€‚çº¿ç¨‹çš„-run-å’Œ-start-æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ&#34; class=&#34;headerlink&#34; title=&#34;é¢è¯•å®˜ï¼šåœ¨æˆ‘ä»¬ä½¿ç”¨çº¿ç¨‹çš„è¿‡ç¨‹ä¸­ï¼Œæœ‰ä¸¤ä¸ªæ–¹æ³•ã€‚çº¿ç¨‹çš„ run()å’Œ start()æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ&#34;&gt;&lt;/a&gt;é¢è¯•å®˜ï¼šåœ¨æˆ‘ä»¬ä½¿ç”¨çº¿ç¨‹çš„è¿‡ç¨‹ä¸­ï¼Œæœ‰ä¸¤ä¸ªæ–¹æ³•ã€‚çº¿ç¨‹çš„ run()å’Œ start()æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äººï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;startæ–¹æ³•ç”¨æ¥å¯åŠ¨çº¿ç¨‹ï¼Œé€šè¿‡è¯¥çº¿ç¨‹è°ƒç”¨runæ–¹æ³•æ‰§è¡Œrunæ–¹æ³•ä¸­æ‰€å®šä¹‰çš„é€»è¾‘ä»£ç ã€‚startæ–¹æ³•åªèƒ½è¢«è°ƒç”¨ä¸€æ¬¡ã€‚runæ–¹æ³•å°è£…äº†è¦è¢«çº¿ç¨‹æ‰§è¡Œçš„ä»£ç ï¼Œå¯ä»¥è¢«è°ƒç”¨å¤šæ¬¡ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜ï¼šé‚£å¦‚ä½•åœæ­¢ä¸€ä¸ªæ­£åœ¨è¿è¡Œçš„çº¿ç¨‹å‘¢ï¼Ÿ&#34;&gt;&lt;a href=&#34;#é¢è¯•å®˜ï¼šé‚£å¦‚ä½•åœæ­¢ä¸€ä¸ªæ­£åœ¨è¿è¡Œçš„çº¿ç¨‹å‘¢ï¼Ÿ&#34; class=&#34;headerlink&#34; title=&#34;é¢è¯•å®˜ï¼šé‚£å¦‚ä½•åœæ­¢ä¸€ä¸ªæ­£åœ¨è¿è¡Œçš„çº¿ç¨‹å‘¢ï¼Ÿ&#34;&gt;&lt;/a&gt;é¢è¯•å®˜ï¼šé‚£å¦‚ä½•åœæ­¢ä¸€ä¸ªæ­£åœ¨è¿è¡Œçš„çº¿ç¨‹å‘¢ï¼Ÿ&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äºº&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;p&gt;æœ‰ä¸‰ç§æ–¹å¼å¯ä»¥åœæ­¢çº¿ç¨‹&lt;/p&gt;
&lt;p&gt;ç¬¬ä¸€ï¼šå¯ä»¥ä½¿ç”¨é€€å‡ºæ ‡å¿—ï¼Œä½¿çº¿ç¨‹æ­£å¸¸é€€å‡ºï¼Œä¹Ÿå°±æ˜¯å½“runæ–¹æ³•å®Œæˆåçº¿ç¨‹ç»ˆæ­¢ï¼Œä¸€èˆ¬æˆ‘ä»¬åŠ ä¸€ä¸ªæ ‡è®°&lt;/p&gt;
&lt;p&gt;ç¬¬äºŒï¼šå¯ä»¥ä½¿ç”¨çº¿ç¨‹çš„stopæ–¹æ³•å¼ºè¡Œç»ˆæ­¢ï¼Œä¸è¿‡ä¸€èˆ¬ä¸æ¨èï¼Œè¿™ä¸ªæ–¹æ³•å·²ä½œåºŸ&lt;/p&gt;
&lt;p&gt;ç¬¬ä¸‰ï¼šå¯ä»¥ä½¿ç”¨çº¿ç¨‹çš„interruptæ–¹æ³•ä¸­æ–­çº¿ç¨‹ï¼Œå†…éƒ¨å…¶å®ä¹Ÿæ˜¯ä½¿ç”¨ä¸­æ–­æ ‡å¿—æ¥ä¸­æ–­çº¿ç¨‹&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬é¡¹ç›®ä¸­ä½¿ç”¨çš„è¯ï¼Œå»ºè®®ä½¿ç”¨ç¬¬ä¸€ç§æˆ–ç¬¬ä¸‰ç§æ–¹å¼ä¸­æ–­çº¿ç¨‹&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜ï¼šè®²ä¸€ä¸‹synchronizedå…³é”®å­—çš„åº•å±‚åŸç†ï¼Ÿ&#34;&gt;&lt;a href=&#34;#é¢è¯•å®˜ï¼šè®²ä¸€ä¸‹synchronizedå…³é”®å­—çš„åº•å±‚åŸç†ï¼Ÿ&#34; class=&#34;headerlink&#34; title=&#34;é¢è¯•å®˜ï¼šè®²ä¸€ä¸‹synchronizedå…³é”®å­—çš„åº•å±‚åŸç†ï¼Ÿ&#34;&gt;&lt;/a&gt;é¢è¯•å®˜ï¼šè®²ä¸€ä¸‹synchronizedå…³é”®å­—çš„åº•å±‚åŸç†ï¼Ÿ&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äºº&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;p&gt;å—¯~~å¥½çš„ï¼Œ&lt;/p&gt;
&lt;p&gt;synchronized åº•å±‚ä½¿ç”¨çš„JVMçº§åˆ«ä¸­çš„Monitor æ¥å†³å®šå½“å‰çº¿ç¨‹æ˜¯å¦è·å¾—äº†é”ï¼Œå¦‚æœæŸä¸€ä¸ªçº¿ç¨‹è·å¾—äº†é”ï¼Œåœ¨æ²¡æœ‰é‡Šæ”¾é”ä¹‹å‰ï¼Œå…¶ä»–çº¿ç¨‹æ˜¯ä¸èƒ½æˆ–å¾—åˆ°é”çš„ã€‚synchronized å±äºæ‚²è§‚é”ã€‚&lt;/p&gt;
&lt;p&gt;synchronized å› ä¸ºéœ€è¦ä¾èµ–äºJVMçº§åˆ«çš„Monitor ï¼Œç›¸å¯¹æ€§èƒ½ä¹Ÿæ¯”è¾ƒä½ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜ï¼šå¥½çš„ï¼Œä½ èƒ½å…·ä½“è¯´ä¸‹Monitor-å—ï¼Ÿ&#34;&gt;&lt;a href=&#34;#é¢è¯•å®˜ï¼šå¥½çš„ï¼Œä½ èƒ½å…·ä½“è¯´ä¸‹Monitor-å—ï¼Ÿ&#34; class=&#34;headerlink&#34; title=&#34;é¢è¯•å®˜ï¼šå¥½çš„ï¼Œä½ èƒ½å…·ä½“è¯´ä¸‹Monitor å—ï¼Ÿ&#34;&gt;&lt;/a&gt;é¢è¯•å®˜ï¼šå¥½çš„ï¼Œä½ èƒ½å…·ä½“è¯´ä¸‹Monitor å—ï¼Ÿ&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äºº&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;p&gt;monitorå¯¹è±¡å­˜åœ¨äºæ¯ä¸ªJavaå¯¹è±¡çš„å¯¹è±¡å¤´ä¸­ï¼Œsynchronized é”ä¾¿æ˜¯é€šè¿‡è¿™ç§æ–¹å¼è·å–é”çš„ï¼Œä¹Ÿæ˜¯ä¸ºä»€ä¹ˆJavaä¸­ä»»æ„å¯¹è±¡å¯ä»¥ä½œä¸ºé”çš„åŸå› &lt;/p&gt;
&lt;p&gt;monitorå†…éƒ¨ç»´æŠ¤äº†ä¸‰ä¸ªå˜é‡&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;WaitSetï¼šä¿å­˜å¤„äºWaitingçŠ¶æ€çš„çº¿ç¨‹&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;EntryListï¼šä¿å­˜å¤„äºBlockedçŠ¶æ€çš„çº¿ç¨‹&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Ownerï¼šæŒæœ‰é”çš„çº¿ç¨‹&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;åªæœ‰ä¸€ä¸ªçº¿ç¨‹è·å–åˆ°çš„æ ‡å¿—å°±æ˜¯åœ¨monitorä¸­è®¾ç½®æˆåŠŸäº†Ownerï¼Œä¸€ä¸ªmonitorä¸­åªèƒ½æœ‰ä¸€ä¸ªOwner&lt;/p&gt;
&lt;p&gt;åœ¨ä¸Šé”çš„è¿‡ç¨‹ä¸­ï¼Œå¦‚æœæœ‰å…¶ä»–çº¿ç¨‹ä¹Ÿæ¥æŠ¢é”ï¼Œåˆ™è¿›å…¥EntryList è¿›è¡Œé˜»å¡ï¼Œå½“è·å¾—é”çš„çº¿ç¨‹æ‰§è¡Œå®Œäº†ï¼Œé‡Šæ”¾äº†é”ï¼Œå°±ä¼šå”¤é†’EntryList ä¸­ç­‰å¾…çš„çº¿ç¨‹ç«äº‰é”ï¼Œç«äº‰çš„æ—¶å€™æ˜¯éå…¬å¹³çš„ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜ï¼šå¥½çš„ï¼Œé‚£å…³äºsynchronized-çš„é”å‡çº§çš„æƒ…å†µäº†è§£å—ï¼Ÿ&#34;&gt;&lt;a href=&#34;#é¢è¯•å®˜ï¼šå¥½çš„ï¼Œé‚£å…³äºsynchronized-çš„é”å‡çº§çš„æƒ…å†µäº†è§£å—ï¼Ÿ&#34; class=&#34;headerlink&#34; title=&#34;é¢è¯•å®˜ï¼šå¥½çš„ï¼Œé‚£å…³äºsynchronized çš„é”å‡çº§çš„æƒ…å†µäº†è§£å—ï¼Ÿ&#34;&gt;&lt;/a&gt;é¢è¯•å®˜ï¼šå¥½çš„ï¼Œé‚£å…³äºsynchronized çš„é”å‡çº§çš„æƒ…å†µäº†è§£å—ï¼Ÿ&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äºº&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;p&gt;å—¯ï¼ŒçŸ¥é“ä¸€äº›ï¼ˆè¦è°¦è™šï¼‰&lt;/p&gt;
&lt;p&gt;Javaä¸­çš„synchronizedæœ‰åå‘é”ã€è½»é‡çº§é”ã€é‡é‡çº§é”ä¸‰ç§å½¢å¼ï¼Œåˆ†åˆ«å¯¹åº”äº†é”åªè¢«ä¸€ä¸ªçº¿ç¨‹æŒæœ‰ã€ä¸åŒçº¿ç¨‹äº¤æ›¿æŒæœ‰é”ã€å¤šçº¿ç¨‹ç«äº‰é”ä¸‰ç§æƒ…å†µã€‚&lt;/p&gt;
&lt;p&gt;é‡é‡çº§é”ï¼šåº•å±‚ä½¿ç”¨çš„Monitorå®ç°ï¼Œé‡Œé¢æ¶‰åŠåˆ°äº†ç”¨æˆ·æ€å’Œå†…æ ¸æ€çš„åˆ‡æ¢ã€è¿›ç¨‹çš„ä¸Šä¸‹æ–‡åˆ‡æ¢ï¼Œæˆæœ¬è¾ƒé«˜ï¼Œæ€§èƒ½æ¯”è¾ƒä½ã€‚&lt;/p&gt;
&lt;p&gt;è½»é‡çº§é”ï¼šçº¿ç¨‹åŠ é”çš„æ—¶é—´æ˜¯é”™å¼€çš„ï¼ˆä¹Ÿå°±æ˜¯æ²¡æœ‰ç«äº‰ï¼‰ï¼Œå¯ä»¥ä½¿ç”¨è½»é‡çº§é”æ¥ä¼˜åŒ–ã€‚è½»é‡çº§ä¿®æ”¹äº†å¯¹è±¡å¤´çš„é”æ ‡å¿—ï¼Œç›¸å¯¹é‡é‡çº§é”æ€§èƒ½æå‡å¾ˆå¤šã€‚æ¯æ¬¡ä¿®æ”¹éƒ½æ˜¯CASæ“ä½œï¼Œä¿è¯åŸå­æ€§&lt;/p&gt;
&lt;p&gt;åå‘é”ï¼šä¸€æ®µå¾ˆé•¿çš„æ—¶é—´å†…éƒ½åªè¢«ä¸€ä¸ªçº¿ç¨‹ä½¿ç”¨é”ï¼Œå¯ä»¥ä½¿ç”¨äº†åå‘é”ï¼Œåœ¨ç¬¬ä¸€æ¬¡è·å¾—é”æ—¶ï¼Œä¼šæœ‰ä¸€ä¸ªCASæ“ä½œï¼Œä¹‹åè¯¥çº¿ç¨‹å†è·å–é”ï¼Œåªéœ€è¦åˆ¤æ–­mark wordä¸­æ˜¯å¦æ˜¯è‡ªå·±çš„çº¿ç¨‹idå³å¯ï¼Œè€Œä¸æ˜¯å¼€é”€ç›¸å¯¹è¾ƒå¤§çš„CASå‘½ä»¤&lt;/p&gt;
&lt;p&gt;ä¸€æ—¦é”å‘ç”Ÿäº†ç«äº‰ï¼Œéƒ½ä¼šå‡çº§ä¸ºé‡é‡çº§é”&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜ï¼šå¥½çš„ï¼Œåˆšæ‰ä½ è¯´äº†synchronizedå®ƒåœ¨é«˜å¹¶å‘é‡çš„æƒ…å†µä¸‹ï¼Œæ€§èƒ½ä¸é«˜ï¼Œåœ¨é¡¹ç›®è¯¥å¦‚ä½•æ§åˆ¶ä½¿ç”¨é”å‘¢ï¼Ÿ&#34;&gt;&lt;a href=&#34;#é¢è¯•å®˜ï¼šå¥½çš„ï¼Œåˆšæ‰ä½ è¯´äº†synchronizedå®ƒåœ¨é«˜å¹¶å‘é‡çš„æƒ…å†µä¸‹ï¼Œæ€§èƒ½ä¸é«˜ï¼Œåœ¨é¡¹ç›®è¯¥å¦‚ä½•æ§åˆ¶ä½¿ç”¨é”å‘¢ï¼Ÿ&#34; class=&#34;headerlink&#34; title=&#34;é¢è¯•å®˜ï¼šå¥½çš„ï¼Œåˆšæ‰ä½ è¯´äº†synchronizedå®ƒåœ¨é«˜å¹¶å‘é‡çš„æƒ…å†µä¸‹ï¼Œæ€§èƒ½ä¸é«˜ï¼Œåœ¨é¡¹ç›®è¯¥å¦‚ä½•æ§åˆ¶ä½¿ç”¨é”å‘¢ï¼Ÿ&#34;&gt;&lt;/a&gt;é¢è¯•å®˜ï¼šå¥½çš„ï¼Œåˆšæ‰ä½ è¯´äº†synchronizedå®ƒåœ¨é«˜å¹¶å‘é‡çš„æƒ…å†µä¸‹ï¼Œæ€§èƒ½ä¸é«˜ï¼Œåœ¨é¡¹ç›®è¯¥å¦‚ä½•æ§åˆ¶ä½¿ç”¨é”å‘¢ï¼Ÿ&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äºº&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;p&gt;å—¯ï¼Œå…¶å®ï¼Œåœ¨é«˜å¹¶å‘ä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥é‡‡ç”¨ReentrantLockæ¥åŠ é”ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜ï¼šå—¯ï¼Œé‚£ä½ è¯´ä¸‹ReentrantLockçš„ä½¿ç”¨æ–¹å¼å’Œåº•å±‚åŸç†ï¼Ÿ&#34;&gt;&lt;a href=&#34;#é¢è¯•å®˜ï¼šå—¯ï¼Œé‚£ä½ è¯´ä¸‹ReentrantLockçš„ä½¿ç”¨æ–¹å¼å’Œåº•å±‚åŸç†ï¼Ÿ&#34; class=&#34;headerlink&#34; title=&#34;é¢è¯•å®˜ï¼šå—¯ï¼Œé‚£ä½ è¯´ä¸‹ReentrantLockçš„ä½¿ç”¨æ–¹å¼å’Œåº•å±‚åŸç†ï¼Ÿ&#34;&gt;&lt;/a&gt;é¢è¯•å®˜ï¼šå—¯ï¼Œé‚£ä½ è¯´ä¸‹ReentrantLockçš„ä½¿ç”¨æ–¹å¼å’Œåº•å±‚åŸç†ï¼Ÿ&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äºº&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;p&gt;å¥½çš„ï¼Œ&lt;/p&gt;
&lt;p&gt;ReentrantLockæ˜¯ä¸€ä¸ªå¯é‡å…¥é”:ï¼Œè°ƒç”¨ lock æ–¹ æ³•è·å–äº†é”ä¹‹åï¼Œå†æ¬¡è°ƒç”¨ lockï¼Œæ˜¯ä¸ä¼šå†é˜»å¡ï¼Œå†…éƒ¨ç›´æ¥å¢åŠ é‡å…¥æ¬¡æ•° å°±è¡Œäº†ï¼Œæ ‡è¯†è¿™ä¸ªçº¿ç¨‹å·²ç»é‡å¤è·å–ä¸€æŠŠé”è€Œä¸éœ€è¦ç­‰å¾…é”çš„é‡Šæ”¾ã€‚&lt;/p&gt;
&lt;p&gt;ReentrantLockæ˜¯å±äºjucæŠ¥ä¸‹çš„ç±»ï¼Œå±äºapiå±‚é¢çš„é”ï¼Œè·Ÿsynchronizedä¸€æ ·ï¼Œéƒ½æ˜¯æ‚²è§‚é”ã€‚é€šè¿‡lock()ç”¨æ¥è·å–é”ï¼Œunlock()é‡Šæ”¾é”ã€‚&lt;/p&gt;
&lt;p&gt;å®ƒçš„åº•å±‚å®ç°åŸç†ä¸»è¦åˆ©ç”¨&lt;strong&gt;CAS+AQSé˜Ÿåˆ—&lt;/strong&gt;æ¥å®ç°ã€‚å®ƒæ”¯æŒå…¬å¹³é”å’Œéå…¬å¹³é”ï¼Œä¸¤è€…çš„å®ç°ç±»ä¼¼&lt;/p&gt;
&lt;p&gt;æ„é€ æ–¹æ³•æ¥å—ä¸€ä¸ªå¯é€‰çš„å…¬å¹³å‚æ•°ï¼ˆ&lt;strong&gt;é»˜è®¤éå…¬å¹³é”&lt;/strong&gt;ï¼‰ï¼Œå½“è®¾ç½®ä¸ºtrueæ—¶ï¼Œè¡¨ç¤ºå…¬å¹³é”ï¼Œå¦åˆ™ä¸ºéå…¬å¹³é”ã€‚å…¬å¹³é”çš„æ•ˆç‡å¾€å¾€æ²¡æœ‰éå…¬å¹³é”çš„æ•ˆç‡é«˜ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜ï¼šå¥½çš„ï¼Œåˆšæ‰ä½ è¯´äº†CASå’ŒAQSï¼Œä½ èƒ½ä»‹ç»ä¸€ä¸‹å—ï¼Ÿ&#34;&gt;&lt;a href=&#34;#é¢è¯•å®˜ï¼šå¥½çš„ï¼Œåˆšæ‰ä½ è¯´äº†CASå’ŒAQSï¼Œä½ èƒ½ä»‹ç»ä¸€ä¸‹å—ï¼Ÿ&#34; class=&#34;headerlink&#34; title=&#34;é¢è¯•å®˜ï¼šå¥½çš„ï¼Œåˆšæ‰ä½ è¯´äº†CASå’ŒAQSï¼Œä½ èƒ½ä»‹ç»ä¸€ä¸‹å—ï¼Ÿ&#34;&gt;&lt;/a&gt;é¢è¯•å®˜ï¼šå¥½çš„ï¼Œåˆšæ‰ä½ è¯´äº†CASå’ŒAQSï¼Œä½ èƒ½ä»‹ç»ä¸€ä¸‹å—ï¼Ÿ&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äºº&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;p&gt;å¥½çš„ã€‚&lt;/p&gt;
&lt;p&gt;CASçš„å…¨ç§°æ˜¯ï¼š Compare And Swap(æ¯”è¾ƒå†äº¤æ¢);å®ƒä½“ç°çš„ä¸€ç§ä¹è§‚é”çš„æ€æƒ³ï¼Œåœ¨æ— é”çŠ¶æ€ä¸‹ä¿è¯çº¿ç¨‹æ“ä½œæ•°æ®çš„åŸå­æ€§ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;CASä½¿ç”¨åˆ°çš„åœ°æ–¹å¾ˆå¤šï¼šAQSæ¡†æ¶ã€AtomicXXXç±»&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;åœ¨æ“ä½œå…±äº«å˜é‡çš„æ—¶å€™ä½¿ç”¨çš„è‡ªæ—‹é”ï¼Œæ•ˆç‡ä¸Šæ›´é«˜ä¸€äº›&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;CASçš„åº•å±‚æ˜¯è°ƒç”¨çš„Unsafeç±»ä¸­çš„æ–¹æ³•ï¼Œéƒ½æ˜¯æ“ä½œç³»ç»Ÿæä¾›çš„ï¼Œå…¶ä»–è¯­è¨€å®ç°&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;AQSçš„è¯ï¼Œå…¶å®å°±ä¸€ä¸ªjdkæä¾›çš„ç±»AbstractQueuedSynchronizerï¼Œæ˜¯é˜»å¡å¼é”å’Œç›¸å…³çš„åŒæ­¥å™¨å·¥å…·çš„æ¡†æ¶ã€‚&lt;/p&gt;
&lt;p&gt;å†…éƒ¨æœ‰ä¸€ä¸ªå±æ€§ state å±æ€§æ¥è¡¨ç¤ºèµ„æºçš„çŠ¶æ€ï¼Œé»˜è®¤stateç­‰äº0ï¼Œè¡¨ç¤ºæ²¡æœ‰è·å–é”ï¼Œstateç­‰äº1çš„æ—¶å€™æ‰æ ‡æ˜è·å–åˆ°äº†é”ã€‚é€šè¿‡cas æœºåˆ¶è®¾ç½® state çŠ¶æ€&lt;/p&gt;
&lt;p&gt;åœ¨å®ƒçš„å†…éƒ¨è¿˜æä¾›äº†åŸºäº FIFO çš„ç­‰å¾…é˜Ÿåˆ—ï¼Œæ˜¯ä¸€ä¸ªåŒå‘åˆ—è¡¨ï¼Œå…¶ä¸­&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;tail æŒ‡å‘é˜Ÿåˆ—æœ€åä¸€ä¸ªå…ƒç´ &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;head  æŒ‡å‘é˜Ÿåˆ—ä¸­æœ€ä¹…çš„ä¸€ä¸ªå…ƒç´ &lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å…¶ä¸­æˆ‘ä»¬åˆšåˆšèŠçš„ReentrantLockåº•å±‚çš„å®ç°å°±æ˜¯ä¸€ä¸ªAQSã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜ï¼šsynchronizedå’ŒLockæœ‰ä»€ä¹ˆåŒºåˆ«&#34;&gt;&lt;a href=&#34;#é¢è¯•å®˜ï¼šsynchronizedå’ŒLockæœ‰ä»€ä¹ˆåŒºåˆ«&#34; class=&#34;headerlink&#34; title=&#34;é¢è¯•å®˜ï¼šsynchronizedå’ŒLockæœ‰ä»€ä¹ˆåŒºåˆ« ?&#34;&gt;&lt;/a&gt;é¢è¯•å®˜ï¼šsynchronizedå’ŒLockæœ‰ä»€ä¹ˆåŒºåˆ« ?&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äºº&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;p&gt;å—¯~~ï¼Œå¥½çš„ï¼Œä¸»è¦æœ‰ä¸‰ä¸ªæ–¹é¢ä¸å¤ªä¸€æ ·&lt;/p&gt;
&lt;p&gt;ç¬¬ä¸€ï¼Œè¯­æ³•å±‚é¢&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;synchronized æ˜¯å…³é”®å­—ï¼Œæºç åœ¨ jvm ä¸­ï¼Œç”¨ c++ è¯­è¨€å®ç°ï¼Œé€€å‡ºåŒæ­¥ä»£ç å—é”ä¼šè‡ªåŠ¨é‡Šæ”¾&lt;/li&gt;
&lt;li&gt;Lock æ˜¯æ¥å£ï¼Œæºç ç”± jdk æä¾›ï¼Œç”¨ java è¯­è¨€å®ç°ï¼Œéœ€è¦æ‰‹åŠ¨è°ƒç”¨ unlock æ–¹æ³•é‡Šæ”¾é”&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ç¬¬äºŒï¼ŒåŠŸèƒ½å±‚é¢&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;äºŒè€…å‡å±äºæ‚²è§‚é”ã€éƒ½å…·å¤‡åŸºæœ¬çš„äº’æ–¥ã€åŒæ­¥ã€é”é‡å…¥åŠŸèƒ½&lt;/li&gt;
&lt;li&gt;Lock æä¾›äº†è®¸å¤š synchronized ä¸å…·å¤‡çš„åŠŸèƒ½ï¼Œä¾‹å¦‚è·å–ç­‰å¾…çŠ¶æ€ã€å…¬å¹³é”ã€å¯æ‰“æ–­ã€å¯è¶…æ—¶ã€å¤šæ¡ä»¶å˜é‡ï¼ŒåŒæ—¶Lock å¯ä»¥å®ç°ä¸åŒçš„åœºæ™¯ï¼Œå¦‚ ReentrantLockï¼Œ ReentrantReadWriteLock&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ç¬¬ä¸‰ï¼Œæ€§èƒ½å±‚é¢&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;åœ¨æ²¡æœ‰ç«äº‰æ—¶ï¼Œsynchronized åšäº†å¾ˆå¤šä¼˜åŒ–ï¼Œå¦‚åå‘é”ã€è½»é‡çº§é”ï¼Œæ€§èƒ½ä¸èµ–&lt;/li&gt;
&lt;li&gt;åœ¨ç«äº‰æ¿€çƒˆæ—¶ï¼ŒLock çš„å®ç°é€šå¸¸ä¼šæä¾›æ›´å¥½çš„æ€§èƒ½&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ç»Ÿåˆæ¥çœ‹ï¼Œéœ€è¦æ ¹æ®ä¸åŒçš„åœºæ™¯æ¥é€‰æ‹©ä¸åŒçš„é”çš„ä½¿ç”¨ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜ï¼šæ­»é”äº§ç”Ÿçš„æ¡ä»¶æ˜¯ä»€ä¹ˆï¼Ÿ&#34;&gt;&lt;a href=&#34;#é¢è¯•å®˜ï¼šæ­»é”äº§ç”Ÿçš„æ¡ä»¶æ˜¯ä»€ä¹ˆï¼Ÿ&#34; class=&#34;headerlink&#34; title=&#34;é¢è¯•å®˜ï¼šæ­»é”äº§ç”Ÿçš„æ¡ä»¶æ˜¯ä»€ä¹ˆï¼Ÿ&#34;&gt;&lt;/a&gt;é¢è¯•å®˜ï¼šæ­»é”äº§ç”Ÿçš„æ¡ä»¶æ˜¯ä»€ä¹ˆï¼Ÿ&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äºº&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;p&gt;å—¯ï¼Œæ˜¯è¿™æ ·çš„ï¼Œä¸€ä¸ªçº¿ç¨‹éœ€è¦åŒæ—¶è·å–å¤šæŠŠé”ï¼Œè¿™æ—¶å°±å®¹æ˜“å‘ç”Ÿæ­»é”ï¼Œä¸¾ä¸ªä¾‹å­æ¥è¯´ï¼š&lt;/p&gt;
&lt;p&gt;t1 çº¿ç¨‹è·å¾—Aå¯¹è±¡é”ï¼Œæ¥ä¸‹æ¥æƒ³è·å–Bå¯¹è±¡çš„é”&lt;/p&gt;
&lt;p&gt;t2 çº¿ç¨‹è·å¾—Bå¯¹è±¡é”ï¼Œæ¥ä¸‹æ¥æƒ³è·å–Aå¯¹è±¡çš„é” &lt;/p&gt;
&lt;p&gt;è¿™ä¸ªæ—¶å€™t1çº¿ç¨‹å’Œt2çº¿ç¨‹éƒ½åœ¨äº’ç›¸ç­‰å¾…å¯¹æ–¹çš„é”ï¼Œå°±äº§ç”Ÿäº†æ­»é”&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜ï¼šé‚£å¦‚æœäº§å‡ºäº†è¿™æ ·çš„ï¼Œå¦‚ä½•è¿›è¡Œæ­»é”è¯Šæ–­ï¼Ÿ&#34;&gt;&lt;a href=&#34;#é¢è¯•å®˜ï¼šé‚£å¦‚æœäº§å‡ºäº†è¿™æ ·çš„ï¼Œå¦‚ä½•è¿›è¡Œæ­»é”è¯Šæ–­ï¼Ÿ&#34; class=&#34;headerlink&#34; title=&#34;é¢è¯•å®˜ï¼šé‚£å¦‚æœäº§å‡ºäº†è¿™æ ·çš„ï¼Œå¦‚ä½•è¿›è¡Œæ­»é”è¯Šæ–­ï¼Ÿ&#34;&gt;&lt;/a&gt;é¢è¯•å®˜ï¼šé‚£å¦‚æœäº§å‡ºäº†è¿™æ ·çš„ï¼Œå¦‚ä½•è¿›è¡Œæ­»é”è¯Šæ–­ï¼Ÿ&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äºº&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;p&gt;è¿™ä¸ªä¹Ÿå¾ˆå®¹æ˜“ï¼Œæˆ‘ä»¬åªéœ€è¦é€šè¿‡jdkè‡ªåŠ¨çš„å·¥å…·å°±èƒ½æå®š&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬å¯ä»¥å…ˆé€šè¿‡jpsæ¥æŸ¥çœ‹å½“å‰javaç¨‹åºè¿è¡Œçš„è¿›ç¨‹id&lt;/p&gt;
&lt;p&gt;ç„¶åé€šè¿‡jstackæ¥æŸ¥çœ‹è¿™ä¸ªè¿›ç¨‹idï¼Œå°±èƒ½å±•ç¤ºå‡ºæ¥æ­»é”çš„é—®é¢˜ï¼Œå¹¶ä¸”ï¼Œå¯ä»¥å®šä½ä»£ç çš„å…·ä½“è¡Œå·èŒƒå›´ï¼Œæˆ‘ä»¬å†å»æ‰¾åˆ°å¯¹åº”çš„ä»£ç è¿›è¡Œæ’æŸ¥å°±è¡Œäº†ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜ï¼šè¯·è°ˆè°ˆä½ å¯¹-volatile-çš„ç†è§£&#34;&gt;&lt;a href=&#34;#é¢è¯•å®˜ï¼šè¯·è°ˆè°ˆä½ å¯¹-volatile-çš„ç†è§£&#34; class=&#34;headerlink&#34; title=&#34;é¢è¯•å®˜ï¼šè¯·è°ˆè°ˆä½ å¯¹ volatile çš„ç†è§£&#34;&gt;&lt;/a&gt;é¢è¯•å®˜ï¼šè¯·è°ˆè°ˆä½ å¯¹ volatile çš„ç†è§£&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äºº&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;p&gt;å—¯~~&lt;/p&gt;
&lt;p&gt;volatile æ˜¯ä¸€ä¸ªå…³é”®å­—ï¼Œå¯ä»¥ä¿®é¥°ç±»çš„æˆå‘˜å˜é‡ã€ç±»çš„é™æ€æˆå‘˜å˜é‡ï¼Œä¸»è¦æœ‰ä¸¤ä¸ªåŠŸèƒ½&lt;/p&gt;
&lt;p&gt;ç¬¬ä¸€ï¼šä¿è¯äº†ä¸åŒçº¿ç¨‹å¯¹è¿™ä¸ªå˜é‡è¿›è¡Œæ“ä½œæ—¶çš„å¯è§æ€§ï¼Œå³ä¸€ä¸ªçº¿ç¨‹ä¿®æ”¹äº†æŸä¸ªå˜é‡çš„å€¼ï¼Œè¿™æ–°å€¼å¯¹å…¶ä»–çº¿ç¨‹æ¥è¯´æ˜¯ç«‹å³å¯è§çš„,volatileå…³é”®å­—ä¼šå¼ºåˆ¶å°†ä¿®æ”¹çš„å€¼ç«‹å³å†™å…¥ä¸»å­˜ã€‚&lt;/p&gt;
&lt;p&gt;ç¬¬äºŒï¼š ç¦æ­¢è¿›è¡ŒæŒ‡ä»¤é‡æ’åºï¼Œå¯ä»¥ä¿è¯ä»£ç æ‰§è¡Œæœ‰åºæ€§ã€‚åº•å±‚å®ç°åŸç†æ˜¯ï¼Œæ·»åŠ äº†ä¸€ä¸ª&lt;strong&gt;å†…å­˜å±éšœ&lt;/strong&gt;ï¼Œé€šè¿‡æ’å…¥å†…å­˜å±éšœç¦æ­¢åœ¨å†…å­˜å±éšœ&lt;strong&gt;å‰å&lt;/strong&gt;çš„æŒ‡ä»¤æ‰§è¡Œé‡æ’åºä¼˜åŒ–&lt;/p&gt;
&lt;p&gt;â€“&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æœ¬æ–‡ä½œè€…&lt;/strong&gt;ï¼šæ¥ã€Šé›†åˆç›¸å…³é¢è¯•é¢˜ã€‹&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜ï¼šé‚£ä½ èƒ½èŠä¸€ä¸‹ConcurrentHashMapçš„åŸç†å—ï¼Ÿ&#34;&gt;&lt;a href=&#34;#é¢è¯•å®˜ï¼šé‚£ä½ èƒ½èŠä¸€ä¸‹ConcurrentHashMapçš„åŸç†å—ï¼Ÿ&#34; class=&#34;headerlink&#34; title=&#34;é¢è¯•å®˜ï¼šé‚£ä½ èƒ½èŠä¸€ä¸‹ConcurrentHashMapçš„åŸç†å—ï¼Ÿ&#34;&gt;&lt;/a&gt;é¢è¯•å®˜ï¼šé‚£ä½ èƒ½èŠä¸€ä¸‹ConcurrentHashMapçš„åŸç†å—ï¼Ÿ&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äºº&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;p&gt;å—¯å¥½çš„ï¼Œ&lt;/p&gt;
&lt;p&gt;ConcurrentHashMap æ˜¯ä¸€ç§çº¿ç¨‹å®‰å…¨çš„é«˜æ•ˆMapé›†åˆï¼Œjdk1.7å’Œ1.8ä¹Ÿåšäº†å¾ˆå¤šè°ƒæ•´ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;JDK1.7çš„åº•å±‚é‡‡ç”¨æ˜¯&lt;strong&gt;åˆ†æ®µçš„æ•°ç»„&lt;/strong&gt;+&lt;strong&gt;é“¾è¡¨&lt;/strong&gt; å®ç°&lt;/li&gt;
&lt;li&gt;JDK1.8 é‡‡ç”¨çš„æ•°æ®ç»“æ„è·ŸHashMap1.8çš„ç»“æ„ä¸€æ ·ï¼Œæ•°ç»„+é“¾è¡¨&amp;#x2F;çº¢é»‘äºŒå‰æ ‘ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;åœ¨jdk1.7ä¸­ ConcurrentHashMap é‡ŒåŒ…å«ä¸€ä¸ª Segment æ•°ç»„ã€‚Segment çš„ç»“æ„å’ŒHashMapç±»ä¼¼ï¼Œæ˜¯ä¸€ ç§æ•°ç»„å’Œé“¾è¡¨ç»“æ„ï¼Œä¸€ä¸ª Segment åŒ…å«ä¸€ä¸ª HashEntry æ•°ç»„ï¼Œæ¯ä¸ª HashEntry æ˜¯ä¸€ä¸ªé“¾è¡¨ç»“æ„ çš„å…ƒç´ ï¼Œæ¯ä¸ª Segment å®ˆæŠ¤ç€ä¸€ä¸ªHashEntryæ•°ç»„é‡Œçš„å…ƒç´ ï¼Œå½“å¯¹ HashEntry æ•°ç»„çš„æ•°æ®è¿›è¡Œä¿® æ”¹æ—¶ï¼Œå¿…é¡»é¦–å…ˆè·å¾—å¯¹åº”çš„ Segmentçš„é”ã€‚&lt;/p&gt;
&lt;p&gt;Segment æ˜¯ä¸€ç§å¯é‡å…¥çš„é” ReentrantLockï¼Œæ¯ä¸ª Segment å®ˆæŠ¤ä¸€ä¸ªHashEntry æ•°ç»„é‡Œå¾—å…ƒ ç´ ï¼Œå½“å¯¹ HashEntry æ•°ç»„çš„æ•°æ®è¿›è¡Œä¿®æ”¹æ—¶ï¼Œå¿…é¡»é¦–å…ˆè·å¾—å¯¹åº”çš„ Segment é”&lt;/p&gt;
&lt;p&gt;åœ¨jdk1.8ä¸­çš„ConcurrentHashMap åšäº†è¾ƒå¤§çš„ä¼˜åŒ–ï¼Œæ€§èƒ½æå‡äº†ä¸å°‘ã€‚é¦–å…ˆæ˜¯å®ƒçš„æ•°æ®ç»“æ„ä¸jdk1.8çš„hashMapæ•°æ®ç»“æ„å®Œå…¨ä¸€è‡´ã€‚å…¶æ¬¡æ˜¯æ”¾å¼ƒäº†Segmentè‡ƒè‚¿çš„è®¾è®¡ï¼Œå–è€Œä»£ä¹‹çš„æ˜¯é‡‡ç”¨Node + CAS + Synchronizedæ¥ä¿ è¯å¹¶å‘å®‰å…¨è¿›è¡Œå®ç°ï¼Œsynchronizedåªé”å®šå½“å‰é“¾è¡¨æˆ–çº¢é»‘äºŒå‰æ ‘çš„é¦–èŠ‚ç‚¹ï¼Œè¿™æ ·åªè¦hashä¸å†² çªï¼Œå°±ä¸ä¼šäº§ç”Ÿå¹¶å‘ , æ•ˆç‡å¾—åˆ°æå‡&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜ï¼šçº¿ç¨‹æ± çš„ç§ç±»æœ‰å“ªäº›ï¼Ÿ&#34;&gt;&lt;a href=&#34;#é¢è¯•å®˜ï¼šçº¿ç¨‹æ± çš„ç§ç±»æœ‰å“ªäº›ï¼Ÿ&#34; class=&#34;headerlink&#34; title=&#34;é¢è¯•å®˜ï¼šçº¿ç¨‹æ± çš„ç§ç±»æœ‰å“ªäº›ï¼Ÿ&#34;&gt;&lt;/a&gt;é¢è¯•å®˜ï¼šçº¿ç¨‹æ± çš„ç§ç±»æœ‰å“ªäº›ï¼Ÿ&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äºº&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;p&gt;å—¯ï¼æ˜¯è¿™æ ·&lt;/p&gt;
&lt;p&gt;åœ¨jdkä¸­é»˜è®¤æä¾›äº†4ä¸­æ–¹å¼åˆ›å»ºçº¿ç¨‹æ± &lt;/p&gt;
&lt;p&gt;ç¬¬ä¸€ä¸ªæ˜¯ï¼šnewCachedThreadPoolåˆ›å»ºä¸€ä¸ªå¯ç¼“å­˜çº¿ç¨‹æ± ï¼Œå¦‚æœçº¿ç¨‹æ± é•¿åº¦è¶…è¿‡å¤„ç†éœ€è¦ï¼Œå¯çµæ´»å› æ”¶ç©ºé—²çº¿ç¨‹ï¼Œè‹¥æ— å¯å›æ”¶ï¼Œåˆ™æ–°å»ºçº¿ç¨‹ã€‚ &lt;/p&gt;
&lt;p&gt;ç¬¬äºŒä¸ªæ˜¯ï¼šnewFixedThreadPool åˆ›å»ºä¸€ä¸ªå®šé•¿çº¿ç¨‹æ± ï¼Œå¯æ§åˆ¶çº¿ç¨‹æœ€å¤§å¹¶å‘æ•°ï¼Œè¶…å‡ºçš„çº¿ç¨‹ä¼šåœ¨é˜Ÿåˆ— ä¸­ç­‰å¾…ã€‚ &lt;/p&gt;
&lt;p&gt;ç¬¬ä¸‰ä¸ªæ˜¯ï¼šnewScheduledThreadPool åˆ›å»ºä¸€ä¸ªå®šé•¿çº¿ç¨‹æ± ï¼Œæ”¯æŒå®šæ—¶åŠå‘¨æœŸæ€§ä»»åŠ¡æ‰§è¡Œã€‚ &lt;/p&gt;
&lt;p&gt;ç¬¬å››ä¸ªæ˜¯ï¼šnewSingleThreadExecutor åˆ›å»ºä¸€ä¸ªå•çº¿ç¨‹åŒ–çš„çº¿ç¨‹æ± ï¼Œå®ƒåªä¼šç”¨å”¯ä¸€çš„å·¥ä½œçº¿ç¨‹æ¥æ‰§è¡Œä»» åŠ¡ï¼Œä¿è¯æ‰€æœ‰ä»»åŠ¡æŒ‰ç…§æŒ‡å®šé¡ºåº(FIFO, LIFO, ä¼˜å…ˆçº§)æ‰§è¡Œã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜ï¼šçº¿ç¨‹æ± çš„æ ¸å¿ƒå‚æ•°æœ‰å“ªäº›ï¼Ÿ&#34;&gt;&lt;a href=&#34;#é¢è¯•å®˜ï¼šçº¿ç¨‹æ± çš„æ ¸å¿ƒå‚æ•°æœ‰å“ªäº›ï¼Ÿ&#34; class=&#34;headerlink&#34; title=&#34;é¢è¯•å®˜ï¼šçº¿ç¨‹æ± çš„æ ¸å¿ƒå‚æ•°æœ‰å“ªäº›ï¼Ÿ&#34;&gt;&lt;/a&gt;é¢è¯•å®˜ï¼šçº¿ç¨‹æ± çš„æ ¸å¿ƒå‚æ•°æœ‰å“ªäº›ï¼Ÿ&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äºº&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;p&gt;åœ¨çº¿ç¨‹æ± ä¸­ä¸€å…±æœ‰7ä¸ªæ ¸å¿ƒå‚æ•°ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;p&gt;corePoolSize æ ¸å¿ƒçº¿ç¨‹æ•°ç›® - æ± ä¸­ä¼šä¿ç•™çš„æœ€å¤šçº¿ç¨‹æ•°&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;maximumPoolSize æœ€å¤§çº¿ç¨‹æ•°ç›® - æ ¸å¿ƒçº¿ç¨‹+æ•‘æ€¥çº¿ç¨‹çš„æœ€å¤§æ•°ç›®&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;keepAliveTime ç”Ÿå­˜æ—¶é—´ - æ•‘æ€¥çº¿ç¨‹çš„ç”Ÿå­˜æ—¶é—´ï¼Œç”Ÿå­˜æ—¶é—´å†…æ²¡æœ‰æ–°ä»»åŠ¡ï¼Œæ­¤çº¿ç¨‹èµ„æºä¼šé‡Šæ”¾&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;unit æ—¶é—´å•ä½ - æ•‘æ€¥çº¿ç¨‹çš„ç”Ÿå­˜æ—¶é—´å•ä½ï¼Œå¦‚ç§’ã€æ¯«ç§’ç­‰&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;workQueue - å½“æ²¡æœ‰ç©ºé—²æ ¸å¿ƒçº¿ç¨‹æ—¶ï¼Œæ–°æ¥ä»»åŠ¡ä¼šåŠ å…¥åˆ°æ­¤é˜Ÿåˆ—æ’é˜Ÿï¼Œé˜Ÿåˆ—æ»¡ä¼šåˆ›å»ºæ•‘æ€¥çº¿ç¨‹æ‰§è¡Œä»»åŠ¡&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;threadFactory çº¿ç¨‹å·¥å‚ - å¯ä»¥å®šåˆ¶çº¿ç¨‹å¯¹è±¡çš„åˆ›å»ºï¼Œä¾‹å¦‚è®¾ç½®çº¿ç¨‹åå­—ã€æ˜¯å¦æ˜¯å®ˆæŠ¤çº¿ç¨‹ç­‰&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;handler æ‹’ç»ç­–ç•¥ - å½“æ‰€æœ‰çº¿ç¨‹éƒ½åœ¨ç¹å¿™ï¼ŒworkQueue ä¹Ÿæ”¾æ»¡æ—¶ï¼Œä¼šè§¦å‘æ‹’ç»ç­–ç•¥&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;  åœ¨æ‹’ç»ç­–ç•¥ä¸­åˆæœ‰4ä¸­æ‹’ç»ç­–ç•¥&lt;/p&gt;
&lt;p&gt;  å½“çº¿ç¨‹æ•°è¿‡å¤šä»¥åï¼Œç¬¬ä¸€ç§æ˜¯æŠ›å¼‚å¸¸ã€ç¬¬äºŒç§æ˜¯ç”±è°ƒç”¨è€…æ‰§è¡Œä»»åŠ¡ã€ç¬¬ä¸‰æ˜¯ä¸¢å¼ƒå½“å‰çš„ä»»åŠ¡ï¼Œç¬¬å››æ˜¯ä¸¢å¼ƒæœ€æ—©æ’é˜Ÿä»»åŠ¡ã€‚é»˜è®¤æ˜¯ç›´æ¥æŠ›å¼‚å¸¸ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜ï¼šå¦‚ä½•ç¡®å®šæ ¸å¿ƒçº¿ç¨‹æ± å‘¢ï¼Ÿ&#34;&gt;&lt;a href=&#34;#é¢è¯•å®˜ï¼šå¦‚ä½•ç¡®å®šæ ¸å¿ƒçº¿ç¨‹æ± å‘¢ï¼Ÿ&#34; class=&#34;headerlink&#34; title=&#34;é¢è¯•å®˜ï¼šå¦‚ä½•ç¡®å®šæ ¸å¿ƒçº¿ç¨‹æ± å‘¢ï¼Ÿ&#34;&gt;&lt;/a&gt;é¢è¯•å®˜ï¼šå¦‚ä½•ç¡®å®šæ ¸å¿ƒçº¿ç¨‹æ± å‘¢ï¼Ÿ&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äºº&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;p&gt;æ˜¯è¿™æ ·çš„ï¼Œæˆ‘ä»¬å…¬å¸å½“æ—¶æœ‰ä¸€äº›è§„èŒƒï¼Œä¸ºäº†å‡å°‘çº¿ç¨‹ä¸Šä¸‹æ–‡çš„åˆ‡æ¢ï¼Œè¦æ ¹æ®å½“æ—¶éƒ¨ç½²çš„æœåŠ¡å™¨çš„CPUæ ¸æ•°æ¥å†³å®šï¼Œæˆ‘ä»¬è§„åˆ™æ˜¯ï¼šCPUæ ¸æ•°+1å°±æ˜¯æœ€ç»ˆçš„æ ¸å¿ƒçº¿ç¨‹æ•°ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜ï¼šçº¿ç¨‹æ± çš„æ‰§è¡ŒåŸç†çŸ¥é“å—ï¼Ÿ&#34;&gt;&lt;a href=&#34;#é¢è¯•å®˜ï¼šçº¿ç¨‹æ± çš„æ‰§è¡ŒåŸç†çŸ¥é“å—ï¼Ÿ&#34; class=&#34;headerlink&#34; title=&#34;é¢è¯•å®˜ï¼šçº¿ç¨‹æ± çš„æ‰§è¡ŒåŸç†çŸ¥é“å—ï¼Ÿ&#34;&gt;&lt;/a&gt;é¢è¯•å®˜ï¼šçº¿ç¨‹æ± çš„æ‰§è¡ŒåŸç†çŸ¥é“å—ï¼Ÿ&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äºº&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;p&gt;å—¯~ï¼Œå®ƒæ˜¯è¿™æ ·çš„&lt;/p&gt;
&lt;p&gt;é¦–å…ˆåˆ¤æ–­çº¿ç¨‹æ± é‡Œçš„æ ¸å¿ƒçº¿ç¨‹æ˜¯å¦éƒ½åœ¨æ‰§è¡Œä»»åŠ¡ï¼Œå¦‚æœä¸æ˜¯åˆ™åˆ›å»ºä¸€ä¸ªæ–°çš„å·¥ä½œçº¿ç¨‹æ¥æ‰§è¡Œä»»åŠ¡ã€‚å¦‚æœæ ¸å¿ƒçº¿ç¨‹éƒ½åœ¨æ‰§è¡Œä»»åŠ¡ï¼Œåˆ™çº¿ç¨‹æ± åˆ¤æ–­å·¥ä½œé˜Ÿåˆ—æ˜¯å¦å·²æ»¡ï¼Œå¦‚æœå·¥ä½œé˜Ÿåˆ—æ²¡æœ‰æ»¡ï¼Œåˆ™å°†æ–°æäº¤çš„ä»»åŠ¡å­˜å‚¨åœ¨è¿™ä¸ªå·¥ä½œé˜Ÿ åˆ—é‡Œã€‚å¦‚æœå·¥ä½œé˜Ÿåˆ—æ»¡äº†ï¼Œåˆ™åˆ¤æ–­çº¿ç¨‹æ± é‡Œçš„çº¿ç¨‹æ˜¯å¦éƒ½å¤„äºå·¥ä½œçŠ¶æ€ï¼Œå¦‚æœæ²¡æœ‰ï¼Œåˆ™åˆ›å»ºä¸€ä¸ªæ–°çš„å·¥ä½œçº¿ç¨‹æ¥æ‰§è¡Œä»» åŠ¡ã€‚å¦‚æœå·²ç»æ»¡äº†ï¼Œåˆ™äº¤ç»™æ‹’ç»ç­–ç•¥æ¥å¤„ç†è¿™ä¸ªä»»åŠ¡ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜ï¼šä¸ºä»€ä¹ˆä¸å»ºè®®ä½¿ç”¨Executorsåˆ›å»ºçº¿ç¨‹æ± å‘¢ï¼Ÿ&#34;&gt;&lt;a href=&#34;#é¢è¯•å®˜ï¼šä¸ºä»€ä¹ˆä¸å»ºè®®ä½¿ç”¨Executorsåˆ›å»ºçº¿ç¨‹æ± å‘¢ï¼Ÿ&#34; class=&#34;headerlink&#34; title=&#34;é¢è¯•å®˜ï¼šä¸ºä»€ä¹ˆä¸å»ºè®®ä½¿ç”¨Executorsåˆ›å»ºçº¿ç¨‹æ± å‘¢ï¼Ÿ&#34;&gt;&lt;/a&gt;é¢è¯•å®˜ï¼šä¸ºä»€ä¹ˆä¸å»ºè®®ä½¿ç”¨Executorsåˆ›å»ºçº¿ç¨‹æ± å‘¢ï¼Ÿ&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äºº&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;p&gt;å¥½çš„ï¼Œå…¶å®è¿™ä¸ªäº‹æƒ…åœ¨é˜¿é‡Œæä¾›çš„æœ€æ–°å¼€å‘æ‰‹å†Œã€ŠJavaå¼€å‘æ‰‹å†Œ-åµ©å±±ç‰ˆã€‹ä¸­ä¹Ÿæåˆ°äº†&lt;/p&gt;
&lt;p&gt;ä¸»è¦åŸå› æ˜¯å¦‚æœä½¿ç”¨Executorsåˆ›å»ºçº¿ç¨‹æ± çš„è¯ï¼Œå®ƒå…è®¸çš„è¯·æ±‚é˜Ÿåˆ—é»˜è®¤é•¿åº¦æ˜¯Integer.MAX_VALUEï¼Œè¿™æ ·çš„è¯ï¼Œæœ‰å¯èƒ½å¯¼è‡´å †ç§¯å¤§é‡çš„è¯·æ±‚ï¼Œä»è€Œå¯¼è‡´OOMï¼ˆå†…å­˜æº¢å‡ºï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥ï¼Œæˆ‘ä»¬ä¸€èˆ¬æ¨èä½¿ç”¨ThreadPoolExecutoræ¥åˆ›å»ºçº¿ç¨‹æ± ï¼Œè¿™æ ·å¯ä»¥æ˜ç¡®è§„å®šçº¿ç¨‹æ± çš„å‚æ•°ï¼Œé¿å…èµ„æºçš„è€—å°½ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜ï¼šå¦‚æœæ§åˆ¶æŸä¸€ä¸ªæ–¹æ³•å…è®¸å¹¶å‘è®¿é—®çº¿ç¨‹çš„æ•°é‡ï¼Ÿ&#34;&gt;&lt;a href=&#34;#é¢è¯•å®˜ï¼šå¦‚æœæ§åˆ¶æŸä¸€ä¸ªæ–¹æ³•å…è®¸å¹¶å‘è®¿é—®çº¿ç¨‹çš„æ•°é‡ï¼Ÿ&#34; class=&#34;headerlink&#34; title=&#34;é¢è¯•å®˜ï¼šå¦‚æœæ§åˆ¶æŸä¸€ä¸ªæ–¹æ³•å…è®¸å¹¶å‘è®¿é—®çº¿ç¨‹çš„æ•°é‡ï¼Ÿ&#34;&gt;&lt;/a&gt;é¢è¯•å®˜ï¼šå¦‚æœæ§åˆ¶æŸä¸€ä¸ªæ–¹æ³•å…è®¸å¹¶å‘è®¿é—®çº¿ç¨‹çš„æ•°é‡ï¼Ÿ&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äºº&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;p&gt;å—¯~~ï¼Œæˆ‘æƒ³ä¸€ä¸‹&lt;/p&gt;
&lt;p&gt;åœ¨jdkä¸­æä¾›äº†ä¸€ä¸ªSemaphore[semÉ™fÉ”Ër]ç±»ï¼ˆä¿¡å·é‡ï¼‰&lt;/p&gt;
&lt;p&gt;å®ƒæä¾›äº†ä¸¤ä¸ªæ–¹æ³•ï¼Œsemaphore.acquire() è¯·æ±‚ä¿¡å·é‡ï¼Œå¯ä»¥é™åˆ¶çº¿ç¨‹çš„ä¸ªæ•°ï¼Œæ˜¯ä¸€ä¸ªæ­£æ•°ï¼Œå¦‚æœä¿¡å·é‡æ˜¯-1,å°±ä»£è¡¨å·²ç»ç”¨å®Œäº†ä¿¡å·é‡ï¼Œå…¶ä»–çº¿ç¨‹éœ€è¦é˜»å¡äº†&lt;/p&gt;
&lt;p&gt;ç¬¬äºŒä¸ªæ–¹æ³•æ˜¯semaphore.release()ï¼Œä»£è¡¨æ˜¯é‡Šæ”¾ä¸€ä¸ªä¿¡å·é‡ï¼Œæ­¤æ—¶ä¿¡å·é‡çš„ä¸ªæ•°+1&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜ï¼šå¥½çš„ï¼Œé‚£è¯¥å¦‚ä½•ä¿è¯Javaç¨‹åºåœ¨å¤šçº¿ç¨‹çš„æƒ…å†µä¸‹æ‰§è¡Œå®‰å…¨å‘¢ï¼Ÿ&#34;&gt;&lt;a href=&#34;#é¢è¯•å®˜ï¼šå¥½çš„ï¼Œé‚£è¯¥å¦‚ä½•ä¿è¯Javaç¨‹åºåœ¨å¤šçº¿ç¨‹çš„æƒ…å†µä¸‹æ‰§è¡Œå®‰å…¨å‘¢ï¼Ÿ&#34; class=&#34;headerlink&#34; title=&#34;é¢è¯•å®˜ï¼šå¥½çš„ï¼Œé‚£è¯¥å¦‚ä½•ä¿è¯Javaç¨‹åºåœ¨å¤šçº¿ç¨‹çš„æƒ…å†µä¸‹æ‰§è¡Œå®‰å…¨å‘¢ï¼Ÿ&#34;&gt;&lt;/a&gt;é¢è¯•å®˜ï¼šå¥½çš„ï¼Œé‚£è¯¥å¦‚ä½•ä¿è¯Javaç¨‹åºåœ¨å¤šçº¿ç¨‹çš„æƒ…å†µä¸‹æ‰§è¡Œå®‰å…¨å‘¢ï¼Ÿ&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äºº&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;p&gt;å—¯ï¼Œåˆšæ‰è®²è¿‡äº†å¯¼è‡´çº¿ç¨‹å®‰å…¨çš„åŸå› ï¼Œå¦‚æœè§£å†³çš„è¯ï¼Œjdkä¸­ä¹Ÿæä¾›äº†å¾ˆå¤šçš„ç±»å¸®åŠ©æˆ‘ä»¬è§£å†³å¤šçº¿ç¨‹å®‰å…¨çš„é—®é¢˜ï¼Œæ¯”å¦‚ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;JDK Atomicå¼€å¤´çš„åŸå­ç±»ã€synchronizedã€LOCKï¼Œå¯ä»¥è§£å†³åŸå­æ€§é—®é¢˜&lt;/li&gt;
&lt;li&gt;synchronizedã€volatileã€LOCKï¼Œå¯ä»¥è§£å†³å¯è§æ€§é—®é¢˜&lt;/li&gt;
&lt;li&gt;Happens-Before è§„åˆ™å¯ä»¥è§£å†³æœ‰åºæ€§é—®é¢˜&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜ï¼šä½ åœ¨é¡¹ç›®ä¸­å“ªé‡Œç”¨äº†å¤šçº¿ç¨‹ï¼Ÿ&#34;&gt;&lt;a href=&#34;#é¢è¯•å®˜ï¼šä½ åœ¨é¡¹ç›®ä¸­å“ªé‡Œç”¨äº†å¤šçº¿ç¨‹ï¼Ÿ&#34; class=&#34;headerlink&#34; title=&#34;é¢è¯•å®˜ï¼šä½ åœ¨é¡¹ç›®ä¸­å“ªé‡Œç”¨äº†å¤šçº¿ç¨‹ï¼Ÿ&#34;&gt;&lt;/a&gt;é¢è¯•å®˜ï¼šä½ åœ¨é¡¹ç›®ä¸­å“ªé‡Œç”¨äº†å¤šçº¿ç¨‹ï¼Ÿ&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äºº&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;p&gt;å—¯~~ï¼Œæˆ‘æƒ³ä¸€ä¸‹å½“æ—¶çš„åœºæ™¯[æ ¹æ®è‡ªå·±ç®€å†ä¸Šçš„æ¨¡å—è®¾è®¡å¤šçº¿ç¨‹åœºæ™¯]&lt;/p&gt;
&lt;p&gt;å‚è€ƒåœºæ™¯ä¸€ï¼š&lt;/p&gt;
&lt;p&gt;esæ•°æ®æ‰¹é‡å¯¼å…¥&lt;/p&gt;
&lt;p&gt;åœ¨æˆ‘ä»¬é¡¹ç›®ä¸Šçº¿ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦æŠŠæ•°æ®é‡çš„æ•°æ®ä¸€æ¬¡æ€§çš„åŒæ­¥åˆ°esç´¢å¼•åº“ä¸­ï¼Œä½†æ˜¯å½“æ—¶çš„æ•°æ®å¥½åƒæ˜¯1000ä¸‡å·¦å³ï¼Œä¸€æ¬¡æ€§è¯»å–æ•°æ®è‚¯å®šä¸è¡Œï¼ˆoomå¼‚å¸¸ï¼‰ï¼Œå¦‚æœåˆ†æ‰¹æ‰§è¡Œçš„è¯ï¼Œè€—æ—¶ä¹Ÿå¤ªä¹…äº†ã€‚æ‰€ä»¥ï¼Œå½“æ—¶æˆ‘å°±æƒ³åˆ°å¯ä»¥ä½¿ç”¨çº¿ç¨‹æ± çš„æ–¹å¼å¯¼å…¥ï¼Œåˆ©ç”¨CountDownLatch+Futureæ¥æ§åˆ¶ï¼Œå°±èƒ½å¤§å¤§æå‡å¯¼å…¥çš„æ—¶é—´ã€‚&lt;/p&gt;
&lt;p&gt;å‚è€ƒåœºæ™¯äºŒï¼š&lt;/p&gt;
&lt;p&gt;åœ¨æˆ‘åšé‚£ä¸ªxxç”µå•†ç½‘ç«™çš„æ—¶å€™ï¼Œé‡Œé¢æœ‰ä¸€ä¸ªæ•°æ®æ±‡æ€»çš„åŠŸèƒ½ï¼Œåœ¨ç”¨æˆ·ä¸‹å•ä¹‹åéœ€è¦æŸ¥è¯¢è®¢å•ä¿¡æ¯ï¼Œä¹Ÿéœ€è¦è·å¾—è®¢å•ä¸­çš„å•†å“è¯¦ç»†ä¿¡æ¯ï¼ˆå¯èƒ½æ˜¯å¤šä¸ªï¼‰ï¼Œè¿˜éœ€è¦æŸ¥çœ‹ç‰©æµå‘è´§ä¿¡æ¯ã€‚å› ä¸ºå®ƒä»¬ä¸‰ä¸ªå¯¹åº”çš„åˆ†åˆ«ä¸‰ä¸ªå¾®æœåŠ¡ï¼Œå¦‚æœä¸€ä¸ªä¸€ä¸ªçš„æ“ä½œçš„è¯ï¼Œäº’ç›¸ç­‰å¾…çš„æ—¶é—´æ¯”è¾ƒé•¿ã€‚æ‰€ä»¥ï¼Œæˆ‘å½“æ—¶å°±æƒ³åˆ°å¯ä»¥ä½¿ç”¨çº¿ç¨‹æ± ï¼Œè®©å¤šä¸ªçº¿ç¨‹åŒæ—¶å¤„ç†ï¼Œæœ€ç»ˆå†æ±‡æ€»ç»“æœå°±å¯ä»¥äº†ï¼Œå½“ç„¶é‡Œé¢éœ€è¦ç”¨åˆ°Futureæ¥è·å–æ¯ä¸ªçº¿ç¨‹æ‰§è¡Œä¹‹åçš„ç»“æœæ‰è¡Œ&lt;/p&gt;
&lt;p&gt;å‚è€ƒåœºæ™¯ä¸‰ï¼š&lt;/p&gt;
&lt;p&gt;ã€Šé»‘é©¬å¤´æ¡ã€‹é¡¹ç›®ä¸­ä½¿ç”¨çš„&lt;/p&gt;
&lt;p&gt;æˆ‘å½“æ—¶åšäº†ä¸€ä¸ªæ–‡ç« æœç´¢çš„åŠŸèƒ½ï¼Œç”¨æˆ·è¾“å…¥å…³é”®å­—è¦æœç´¢æ–‡ç« ï¼ŒåŒæ—¶éœ€è¦ä¿å­˜ç”¨æˆ·çš„æœç´¢è®°å½•ï¼ˆæœç´¢å†å²ï¼‰ï¼Œè¿™å—æˆ‘è®¾è®¡çš„æ—¶å€™ï¼Œä¸ºäº†ä¸å½±å“ç”¨æˆ·çš„æ­£å¸¸æœç´¢ï¼Œæˆ‘ä»¬é‡‡ç”¨çš„å¼‚æ­¥çš„æ–¹å¼è¿›è¡Œä¿å­˜çš„ï¼Œä¸ºäº†æå‡æ€§èƒ½ï¼Œæˆ‘ä»¬åŠ å…¥äº†çº¿ç¨‹æ± ï¼Œä¹Ÿå°±è¯´åœ¨è°ƒç”¨å¼‚æ­¥æ–¹æ³•çš„æ—¶å€™ï¼Œç›´æ¥ä»çº¿ç¨‹æ± ä¸­è·å–çº¿ç¨‹ä½¿ç”¨&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜ï¼šè°ˆè°ˆä½ å¯¹ThreadLocalçš„ç†è§£&#34;&gt;&lt;a href=&#34;#é¢è¯•å®˜ï¼šè°ˆè°ˆä½ å¯¹ThreadLocalçš„ç†è§£&#34; class=&#34;headerlink&#34; title=&#34;é¢è¯•å®˜ï¼šè°ˆè°ˆä½ å¯¹ThreadLocalçš„ç†è§£&#34;&gt;&lt;/a&gt;é¢è¯•å®˜ï¼šè°ˆè°ˆä½ å¯¹ThreadLocalçš„ç†è§£&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äºº&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;p&gt;å—¯ï¼Œæ˜¯è¿™æ ·çš„~~&lt;/p&gt;
&lt;p&gt;ThreadLocal ä¸»è¦åŠŸèƒ½æœ‰ä¸¤ä¸ªï¼Œç¬¬ä¸€ä¸ªæ˜¯å¯ä»¥å®ç°èµ„æºå¯¹è±¡çš„çº¿ç¨‹éš”ç¦»ï¼Œè®©æ¯ä¸ªçº¿ç¨‹å„ç”¨å„çš„èµ„æºå¯¹è±¡ï¼Œé¿å…äº‰ç”¨å¼•å‘çš„çº¿ç¨‹å®‰å…¨é—®é¢˜ï¼Œç¬¬äºŒä¸ªæ˜¯å®ç°äº†çº¿ç¨‹å†…çš„èµ„æºå…±äº«&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜ï¼šå¥½çš„ï¼Œé‚£ä½ çŸ¥é“ThreadLocalçš„åº•å±‚åŸç†å®ç°å—ï¼Ÿ&#34;&gt;&lt;a href=&#34;#é¢è¯•å®˜ï¼šå¥½çš„ï¼Œé‚£ä½ çŸ¥é“ThreadLocalçš„åº•å±‚åŸç†å®ç°å—ï¼Ÿ&#34; class=&#34;headerlink&#34; title=&#34;é¢è¯•å®˜ï¼šå¥½çš„ï¼Œé‚£ä½ çŸ¥é“ThreadLocalçš„åº•å±‚åŸç†å®ç°å—ï¼Ÿ&#34;&gt;&lt;/a&gt;é¢è¯•å®˜ï¼šå¥½çš„ï¼Œé‚£ä½ çŸ¥é“ThreadLocalçš„åº•å±‚åŸç†å®ç°å—ï¼Ÿ&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äºº&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;p&gt;å—¯ï¼ŒçŸ¥é“ä¸€äº›~&lt;/p&gt;
&lt;p&gt;åœ¨ThreadLocalå†…éƒ¨ç»´æŠ¤äº†ä¸€ä¸ªä¸€ä¸ª ThreadLocalMap ç±»å‹çš„æˆå‘˜å˜é‡ï¼Œç”¨æ¥å­˜å‚¨èµ„æºå¯¹è±¡&lt;/p&gt;
&lt;p&gt;å½“æˆ‘ä»¬è°ƒç”¨ set æ–¹æ³•ï¼Œå°±æ˜¯ä»¥ ThreadLocal è‡ªå·±ä½œä¸º keyï¼Œèµ„æºå¯¹è±¡ä½œä¸º valueï¼Œæ”¾å…¥å½“å‰çº¿ç¨‹çš„ ThreadLocalMap é›†åˆä¸­&lt;/p&gt;
&lt;p&gt;å½“è°ƒç”¨ get æ–¹æ³•ï¼Œå°±æ˜¯ä»¥ ThreadLocal è‡ªå·±ä½œä¸º keyï¼Œåˆ°å½“å‰çº¿ç¨‹ä¸­æŸ¥æ‰¾å…³è”çš„èµ„æºå€¼&lt;/p&gt;
&lt;p&gt;å½“è°ƒç”¨ remove æ–¹æ³•ï¼Œå°±æ˜¯ä»¥ ThreadLocal è‡ªå·±ä½œä¸º keyï¼Œç§»é™¤å½“å‰çº¿ç¨‹å…³è”çš„èµ„æºå€¼&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜ï¼šå¥½çš„ï¼Œé‚£å…³äºThreadLocalä¼šå¯¼è‡´å†…å­˜æº¢å‡ºè¿™ä¸ªäº‹æƒ…ï¼Œäº†è§£å—ï¼Ÿ&#34;&gt;&lt;a href=&#34;#é¢è¯•å®˜ï¼šå¥½çš„ï¼Œé‚£å…³äºThreadLocalä¼šå¯¼è‡´å†…å­˜æº¢å‡ºè¿™ä¸ªäº‹æƒ…ï¼Œäº†è§£å—ï¼Ÿ&#34; class=&#34;headerlink&#34; title=&#34;é¢è¯•å®˜ï¼šå¥½çš„ï¼Œé‚£å…³äºThreadLocalä¼šå¯¼è‡´å†…å­˜æº¢å‡ºè¿™ä¸ªäº‹æƒ…ï¼Œäº†è§£å—ï¼Ÿ&#34;&gt;&lt;/a&gt;é¢è¯•å®˜ï¼šå¥½çš„ï¼Œé‚£å…³äºThreadLocalä¼šå¯¼è‡´å†…å­˜æº¢å‡ºè¿™ä¸ªäº‹æƒ…ï¼Œäº†è§£å—ï¼Ÿ&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äºº&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;p&gt;å—¯ï¼Œæˆ‘ä¹‹å‰çœ‹è¿‡æºç ï¼Œæˆ‘æƒ³ä¸€ä¸‹~~&lt;/p&gt;
&lt;p&gt;æ˜¯åº”ä¸ºThreadLocalMap ä¸­çš„ key è¢«è®¾è®¡ä¸ºå¼±å¼•ç”¨ï¼Œå®ƒæ˜¯è¢«åŠ¨çš„è¢«GCè°ƒç”¨é‡Šæ”¾keyï¼Œä¸è¿‡å…³é”®çš„æ˜¯åªæœ‰keyå¯ä»¥å¾—åˆ°å†…å­˜é‡Šæ”¾ï¼Œè€Œvalueä¸ä¼šï¼Œå› ä¸ºvalueæ˜¯ä¸€ä¸ªå¼ºå¼•ç”¨ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨ä½¿ç”¨ThreadLocal æ—¶éƒ½æŠŠå®ƒä½œä¸ºé™æ€å˜é‡ï¼ˆå³å¼ºå¼•ç”¨ï¼‰ï¼Œå› æ­¤æ— æ³•è¢«åŠ¨ä¾é  GC å›æ”¶ï¼Œå»ºè®®ä¸»åŠ¨çš„remove é‡Šæ”¾ keyï¼Œè¿™æ ·å°±èƒ½é¿å…å†…å­˜æº¢å‡ºã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;æœ¬æ–‡å¼•è‡ª&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly93d3cuYmlsaWJpbGkuY29tL3ZpZGVvL0JWMXlUNDExSDdZSy8=&#34;&gt;é»‘é©¬ç¨‹åºå‘˜Javaé¢è¯•å®å…¸&lt;/span&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
        <category term="é¢ç»" scheme="https://anoxiahub.github.io/categories/interview/" />
        <category term="JUC" scheme="https://anoxiahub.github.io/tags/JUC/" />
        <updated>2023-08-14T16:00:00.000Z</updated>
    </entry>
    <entry>
        <id>https://anoxiahub.github.io/interview/JVM%E7%9B%B8%E5%85%B3%E9%9D%A2%E8%AF%95%E9%A2%98-%E5%8F%82%E8%80%83%E5%9B%9E%E7%AD%94/</id>
        <title>JVMç›¸å…³é¢è¯•é¢˜</title>
        <link rel="alternate" href="https://anoxiahub.github.io/interview/JVM%E7%9B%B8%E5%85%B3%E9%9D%A2%E8%AF%95%E9%A2%98-%E5%8F%82%E8%80%83%E5%9B%9E%E7%AD%94/"/>
        <content type="html">&lt;blockquote&gt;
&lt;p&gt;æœ‰å…³JVMå†…å®¹å¯ä»¥çœ‹&lt;a href=&#34;/java/JVM%E8%AF%A6%E8%A7%A3&#34;&gt;JVMè¯¦è§£&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜ï¼šJVMç”±é‚£äº›éƒ¨åˆ†ç»„æˆï¼Œè¿è¡Œæµç¨‹æ˜¯ä»€ä¹ˆï¼Ÿ&#34;&gt;&lt;a href=&#34;#é¢è¯•å®˜ï¼šJVMç”±é‚£äº›éƒ¨åˆ†ç»„æˆï¼Œè¿è¡Œæµç¨‹æ˜¯ä»€ä¹ˆï¼Ÿ&#34; class=&#34;headerlink&#34; title=&#34;é¢è¯•å®˜ï¼šJVMç”±é‚£äº›éƒ¨åˆ†ç»„æˆï¼Œè¿è¡Œæµç¨‹æ˜¯ä»€ä¹ˆï¼Ÿ&#34;&gt;&lt;/a&gt;é¢è¯•å®˜ï¼šJVMç”±é‚£äº›éƒ¨åˆ†ç»„æˆï¼Œè¿è¡Œæµç¨‹æ˜¯ä»€ä¹ˆï¼Ÿ&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äºº:&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å—¯ï¼Œå¥½çš„~~&lt;/p&gt;
&lt;p&gt;åœ¨JVMä¸­å…±æœ‰å››å¤§éƒ¨åˆ†ï¼Œåˆ†åˆ«æ˜¯ClassLoaderï¼ˆç±»åŠ è½½å™¨ï¼‰ã€Runtime Data Areaï¼ˆè¿è¡Œæ—¶æ•°æ®åŒºï¼Œå†…å­˜åˆ†åŒºï¼‰ã€Execution Engineï¼ˆæ‰§è¡Œå¼•æ“ï¼‰ã€Native Method Libraryï¼ˆæœ¬åœ°åº“æ¥å£ï¼‰&lt;/p&gt;
&lt;p&gt;å®ƒä»¬çš„è¿è¡Œæµç¨‹æ˜¯ï¼š&lt;/p&gt;
&lt;p&gt;ç¬¬ä¸€ï¼Œç±»åŠ è½½å™¨ï¼ˆClassLoaderï¼‰æŠŠJavaä»£ç è½¬æ¢ä¸ºå­—èŠ‚ç &lt;/p&gt;
&lt;p&gt;ç¬¬äºŒï¼Œè¿è¡Œæ—¶æ•°æ®åŒºï¼ˆRuntime Data Areaï¼‰æŠŠå­—èŠ‚ç åŠ è½½åˆ°å†…å­˜ä¸­ï¼Œè€Œå­—èŠ‚ç æ–‡ä»¶åªæ˜¯JVMçš„ä¸€å¥—æŒ‡ä»¤é›†è§„èŒƒï¼Œå¹¶ä¸èƒ½ç›´æ¥äº¤ç»™åº•å±‚ç³»ç»Ÿå»æ‰§è¡Œï¼Œè€Œæ˜¯æœ‰æ‰§è¡Œå¼•æ“è¿è¡Œ&lt;/p&gt;
&lt;p&gt;ç¬¬ä¸‰ï¼Œæ‰§è¡Œå¼•æ“ï¼ˆExecution Engineï¼‰å°†å­—èŠ‚ç ç¿»è¯‘ä¸ºåº•å±‚ç³»ç»ŸæŒ‡ä»¤ï¼Œå†äº¤ç”±CPUæ‰§è¡Œå»æ‰§è¡Œï¼Œæ­¤æ—¶éœ€è¦è°ƒç”¨å…¶ä»–è¯­è¨€çš„æœ¬åœ°åº“æ¥å£ï¼ˆNative Method Libraryï¼‰æ¥å®ç°æ•´ä¸ªç¨‹åºçš„åŠŸèƒ½ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜ï¼šå¥½çš„ï¼Œä½ èƒ½è¯¦ç»†è¯´ä¸€ä¸‹-JVM-è¿è¡Œæ—¶æ•°æ®åŒºå—ï¼Ÿ&#34;&gt;&lt;a href=&#34;#é¢è¯•å®˜ï¼šå¥½çš„ï¼Œä½ èƒ½è¯¦ç»†è¯´ä¸€ä¸‹-JVM-è¿è¡Œæ—¶æ•°æ®åŒºå—ï¼Ÿ&#34; class=&#34;headerlink&#34; title=&#34;é¢è¯•å®˜ï¼šå¥½çš„ï¼Œä½ èƒ½è¯¦ç»†è¯´ä¸€ä¸‹ JVM è¿è¡Œæ—¶æ•°æ®åŒºå—ï¼Ÿ&#34;&gt;&lt;/a&gt;é¢è¯•å®˜ï¼šå¥½çš„ï¼Œä½ èƒ½è¯¦ç»†è¯´ä¸€ä¸‹ JVM è¿è¡Œæ—¶æ•°æ®åŒºå—ï¼Ÿ&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äºº:&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å—¯ï¼Œå¥½~&lt;/p&gt;
&lt;p&gt;è¿è¡Œæ—¶æ•°æ®åŒºåŒ…å«äº†å †ã€æ–¹æ³•åŒºã€æ ˆã€æœ¬åœ°æ–¹æ³•æ ˆã€ç¨‹åºè®¡æ•°å™¨è¿™å‡ éƒ¨åˆ†ï¼Œæ¯ä¸ªåŠŸèƒ½ä½œç”¨ä¸ä¸€æ ·ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å †è§£å†³çš„æ˜¯å¯¹è±¡å®ä¾‹å­˜å‚¨çš„é—®é¢˜ï¼Œåƒåœ¾å›æ”¶å™¨ç®¡ç†çš„ä¸»è¦åŒºåŸŸã€‚&lt;/li&gt;
&lt;li&gt;æ–¹æ³•åŒºå¯ä»¥è®¤ä¸ºæ˜¯å †çš„ä¸€éƒ¨åˆ†ï¼Œç”¨äºå­˜å‚¨å·²è¢«è™šæ‹ŸæœºåŠ è½½çš„ä¿¡æ¯ï¼Œå¸¸é‡ã€é™æ€å˜é‡ã€å³æ—¶ç¼–è¯‘å™¨ç¼–è¯‘åçš„ä»£ç ã€‚&lt;/li&gt;
&lt;li&gt;æ ˆè§£å†³çš„æ˜¯ç¨‹åºè¿è¡Œçš„é—®é¢˜ï¼Œæ ˆé‡Œé¢å­˜çš„æ˜¯æ ˆå¸§ï¼Œæ ˆå¸§é‡Œé¢å­˜çš„æ˜¯å±€éƒ¨å˜é‡è¡¨ã€æ“ä½œæ•°æ ˆã€åŠ¨æ€é“¾æ¥ã€æ–¹æ³•å‡ºå£ç­‰ä¿¡æ¯ã€‚&lt;/li&gt;
&lt;li&gt;æœ¬åœ°æ–¹æ³•æ ˆä¸æ ˆåŠŸèƒ½ç›¸åŒï¼Œæœ¬åœ°æ–¹æ³•æ ˆæ‰§è¡Œçš„æ˜¯æœ¬åœ°æ–¹æ³•ï¼Œä¸€ä¸ªJavaè°ƒç”¨éJavaä»£ç çš„æ¥å£ã€‚&lt;/li&gt;
&lt;li&gt;ç¨‹åºè®¡æ•°å™¨ï¼ˆPCå¯„å­˜å™¨ï¼‰ç¨‹åºè®¡æ•°å™¨ä¸­å­˜æ”¾çš„æ˜¯å½“å‰çº¿ç¨‹æ‰€æ‰§è¡Œçš„å­—èŠ‚ç çš„è¡Œæ•°ã€‚JVMå·¥ä½œæ—¶å°±æ˜¯é€šè¿‡æ”¹å˜è¿™ä¸ªè®¡æ•°å™¨çš„å€¼æ¥é€‰å–ä¸‹ä¸€ä¸ªéœ€è¦æ‰§è¡Œçš„å­—èŠ‚ç æŒ‡ä»¤ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜ï¼šå¥½çš„ï¼Œä½ å†è¯¦ç»†ä»‹ç»ä¸€ä¸‹ç¨‹åºè®¡æ•°å™¨çš„ä½œç”¨ï¼Ÿ&#34;&gt;&lt;a href=&#34;#é¢è¯•å®˜ï¼šå¥½çš„ï¼Œä½ å†è¯¦ç»†ä»‹ç»ä¸€ä¸‹ç¨‹åºè®¡æ•°å™¨çš„ä½œç”¨ï¼Ÿ&#34; class=&#34;headerlink&#34; title=&#34;é¢è¯•å®˜ï¼šå¥½çš„ï¼Œä½ å†è¯¦ç»†ä»‹ç»ä¸€ä¸‹ç¨‹åºè®¡æ•°å™¨çš„ä½œç”¨ï¼Ÿ&#34;&gt;&lt;/a&gt;é¢è¯•å®˜ï¼šå¥½çš„ï¼Œä½ å†è¯¦ç»†ä»‹ç»ä¸€ä¸‹ç¨‹åºè®¡æ•°å™¨çš„ä½œç”¨ï¼Ÿ&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äºº:&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å—¯ï¼Œæ˜¯è¿™æ ·~~&lt;/p&gt;
&lt;p&gt;javaè™šæ‹Ÿæœºå¯¹äºå¤šçº¿ç¨‹æ˜¯é€šè¿‡çº¿ç¨‹è½®æµåˆ‡æ¢å¹¶ä¸”åˆ†é…çº¿ç¨‹æ‰§è¡Œæ—¶é—´ã€‚åœ¨ä»»ä½•çš„ä¸€ä¸ªæ—¶é—´ç‚¹ä¸Šï¼Œä¸€ä¸ªå¤„ç†å™¨åªä¼šå¤„ç†æ‰§è¡Œä¸€ä¸ªçº¿ç¨‹ï¼Œå¦‚æœå½“å‰è¢«æ‰§è¡Œçš„è¿™ä¸ªçº¿ç¨‹å®ƒæ‰€åˆ†é…çš„æ‰§è¡Œæ—¶é—´ç”¨å®Œäº†ã€æŒ‚èµ·ã€‘ã€‚å¤„ç†å™¨ä¼šåˆ‡æ¢åˆ°å¦å¤–çš„ä¸€ä¸ªçº¿ç¨‹ä¸Šæ¥è¿›è¡Œæ‰§è¡Œã€‚å¹¶ä¸”è¿™ä¸ªçº¿ç¨‹çš„æ‰§è¡Œæ—¶é—´ç”¨å®Œäº†ï¼Œæ¥ç€å¤„ç†å™¨å°±ä¼šåˆæ¥æ‰§è¡Œè¢«æŒ‚èµ·çš„è¿™ä¸ªçº¿ç¨‹ã€‚è¿™æ—¶å€™ç¨‹åºè®¡æ•°å™¨å°±èµ·åˆ°äº†å…³é”®ä½œç”¨ï¼Œç¨‹åºè®¡æ•°å™¨åœ¨æ¥å›åˆ‡æ¢çš„çº¿ç¨‹ä¸­è®°å½•ä»–ä¸Šä¸€æ¬¡æ‰§è¡Œçš„è¡Œå·ï¼Œç„¶åæ¥ç€ç»§ç»­å‘ä¸‹æ‰§è¡Œã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜ï¼šä½ èƒ½ç»™æˆ‘è¯¦ç»†çš„ä»‹ç»Javaå †å—&#34;&gt;&lt;a href=&#34;#é¢è¯•å®˜ï¼šä½ èƒ½ç»™æˆ‘è¯¦ç»†çš„ä»‹ç»Javaå †å—&#34; class=&#34;headerlink&#34; title=&#34;é¢è¯•å®˜ï¼šä½ èƒ½ç»™æˆ‘è¯¦ç»†çš„ä»‹ç»Javaå †å—?&#34;&gt;&lt;/a&gt;é¢è¯•å®˜ï¼šä½ èƒ½ç»™æˆ‘è¯¦ç»†çš„ä»‹ç»Javaå †å—?&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äºº:&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å¥½çš„~&lt;/p&gt;
&lt;p&gt;Javaä¸­çš„å †æœ¯è¯­çº¿ç¨‹å…±äº«çš„åŒºåŸŸã€‚ä¸»è¦ç”¨æ¥ä¿å­˜&lt;strong&gt;å¯¹è±¡å®ä¾‹ï¼Œæ•°ç»„&lt;/strong&gt;ç­‰ï¼Œå½“å †ä¸­æ²¡æœ‰å†…å­˜ç©ºé—´å¯åˆ†é…ç»™å®ä¾‹ï¼Œä¹Ÿæ— æ³•å†æ‰©å±•æ—¶ï¼Œåˆ™æŠ›å‡ºOutOfMemoryErrorå¼‚å¸¸ã€‚&lt;/p&gt;
&lt;p&gt;â€‹	åœ¨JAVA8ä¸­å †å†…ä¼šå­˜åœ¨å¹´è½»ä»£ã€è€å¹´ä»£&lt;/p&gt;
&lt;p&gt;â€‹	1ï¼‰YoungåŒºè¢«åˆ’åˆ†ä¸ºä¸‰éƒ¨åˆ†ï¼ŒEdenåŒºå’Œä¸¤ä¸ªå¤§å°ä¸¥æ ¼ç›¸åŒçš„SurvivoråŒºï¼Œå…¶ä¸­ï¼ŒSurvivoråŒºé—´ä¸­ï¼ŒæŸä¸€æ—¶åˆ»åªæœ‰å…¶ä¸­ä¸€ä¸ªæ˜¯è¢«ä½¿ç”¨çš„ï¼Œå¦å¤–ä¸€ä¸ªç•™åšåƒåœ¾æ”¶é›†æ—¶å¤åˆ¶å¯¹è±¡ç”¨ã€‚åœ¨EdenåŒºå˜æ»¡çš„æ—¶å€™ï¼Œ GCå°±ä¼šå°†å­˜æ´»çš„å¯¹è±¡ç§»åˆ°ç©ºé—²çš„SurvivoråŒºé—´ä¸­ï¼Œæ ¹æ®JVMçš„ç­–ç•¥ï¼Œåœ¨ç»è¿‡å‡ æ¬¡åƒåœ¾æ”¶é›†åï¼Œä»»ç„¶å­˜æ´»äºSurvivorçš„å¯¹è±¡å°†è¢«ç§»åŠ¨åˆ°TenuredåŒºé—´ã€‚&lt;/p&gt;
&lt;p&gt;â€‹	2ï¼‰TenuredåŒºä¸»è¦ä¿å­˜ç”Ÿå‘½å‘¨æœŸé•¿çš„å¯¹è±¡ï¼Œä¸€èˆ¬æ˜¯ä¸€äº›è€çš„å¯¹è±¡ï¼Œå½“ä¸€äº›å¯¹è±¡åœ¨Youngå¤åˆ¶è½¬ç§»ä¸€å®šçš„æ¬¡æ•°ä»¥åï¼Œå¯¹è±¡å°±ä¼šè¢«è½¬ç§»åˆ°TenuredåŒºã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜ï¼šèƒ½ä¸èƒ½è§£é‡Šä¸€ä¸‹æ–¹æ³•åŒºï¼Ÿ&#34;&gt;&lt;a href=&#34;#é¢è¯•å®˜ï¼šèƒ½ä¸èƒ½è§£é‡Šä¸€ä¸‹æ–¹æ³•åŒºï¼Ÿ&#34; class=&#34;headerlink&#34; title=&#34;é¢è¯•å®˜ï¼šèƒ½ä¸èƒ½è§£é‡Šä¸€ä¸‹æ–¹æ³•åŒºï¼Ÿ&#34;&gt;&lt;/a&gt;é¢è¯•å®˜ï¼šèƒ½ä¸èƒ½è§£é‡Šä¸€ä¸‹æ–¹æ³•åŒºï¼Ÿ&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äºº:&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å¥½çš„~&lt;/p&gt;
&lt;p&gt;ä¸è™šæ‹Ÿæœºæ ˆç±»ä¼¼ã€‚æœ¬åœ°æ–¹æ³•æ ˆæ˜¯ä¸ºè™šæ‹Ÿæœº&lt;strong&gt;æ‰§è¡Œæœ¬åœ°æ–¹æ³•æ—¶æä¾›æœåŠ¡çš„&lt;/strong&gt;ã€‚ä¸éœ€è¦è¿›è¡ŒGCã€‚æœ¬åœ°æ–¹æ³•ä¸€èˆ¬æ˜¯ç”±å…¶ä»–è¯­è¨€ç¼–å†™ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜ï¼šä½ å¬è¿‡ç›´æ¥å†…å­˜å—ï¼Ÿ&#34;&gt;&lt;a href=&#34;#é¢è¯•å®˜ï¼šä½ å¬è¿‡ç›´æ¥å†…å­˜å—ï¼Ÿ&#34; class=&#34;headerlink&#34; title=&#34;é¢è¯•å®˜ï¼šä½ å¬è¿‡ç›´æ¥å†…å­˜å—ï¼Ÿ&#34;&gt;&lt;/a&gt;é¢è¯•å®˜ï¼šä½ å¬è¿‡ç›´æ¥å†…å­˜å—ï¼Ÿ&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äºº:&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å—¯~~&lt;/p&gt;
&lt;p&gt;å®ƒåˆå«åš&lt;strong&gt;å †å¤–å†…å­˜&lt;/strong&gt;ï¼Œ&lt;strong&gt;çº¿ç¨‹å…±äº«çš„åŒºåŸŸ&lt;/strong&gt;ï¼Œåœ¨ Java 8 ä¹‹å‰æœ‰ä¸ª&lt;strong&gt;æ°¸ä¹…ä»£&lt;/strong&gt;çš„æ¦‚å¿µï¼Œå®é™…ä¸ŠæŒ‡çš„æ˜¯ HotSpot è™šæ‹Ÿæœºä¸Šçš„æ°¸ä¹…ä»£ï¼Œå®ƒç”¨æ°¸ä¹…ä»£å®ç°äº† JVM è§„èŒƒå®šä¹‰çš„æ–¹æ³•åŒºåŠŸèƒ½ï¼Œ&lt;strong&gt;ä¸»è¦å­˜å‚¨ç±»çš„ä¿¡æ¯ï¼Œå¸¸é‡ï¼Œé™æ€å˜é‡&lt;/strong&gt;ï¼Œå³æ—¶ç¼–è¯‘å™¨ç¼–è¯‘åä»£ç ç­‰ï¼Œè¿™éƒ¨åˆ†ç”±äºæ˜¯åœ¨å †ä¸­å®ç°çš„ï¼Œå— GC çš„ç®¡ç†ï¼Œä¸è¿‡ç”±äºæ°¸ä¹…ä»£æœ‰ -XX:MaxPermSize çš„ä¸Šé™ï¼Œæ‰€ä»¥å¦‚æœå¤§é‡åŠ¨æ€ç”Ÿæˆç±»ï¼ˆå°†ç±»ä¿¡æ¯æ”¾å…¥æ°¸ä¹…ä»£ï¼‰ï¼Œå¾ˆå®¹æ˜“é€ æˆ OOMï¼Œæœ‰äººè¯´å¯ä»¥æŠŠæ°¸ä¹…ä»£è®¾ç½®å¾—è¶³å¤Ÿå¤§ï¼Œä½†å¾ˆéš¾ç¡®å®šä¸€ä¸ªåˆé€‚çš„å¤§å°ï¼Œå—ç±»æ•°é‡ï¼Œå¸¸é‡æ•°é‡çš„å¤šå°‘å½±å“å¾ˆå¤§ã€‚&lt;/p&gt;
&lt;p&gt;â€‹	æ‰€ä»¥åœ¨ Java 8 ä¸­å°±æŠŠæ–¹æ³•åŒºçš„å®ç°ç§»åˆ°äº†æœ¬åœ°å†…å­˜ä¸­çš„å…ƒç©ºé—´ä¸­ï¼Œè¿™æ ·æ–¹æ³•åŒºå°±ä¸å— JVM çš„æ§åˆ¶äº†,ä¹Ÿå°±ä¸ä¼šè¿›è¡Œ GCï¼Œä¹Ÿå› æ­¤æå‡äº†æ€§èƒ½ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜ï¼šä»€ä¹ˆæ˜¯è™šæ‹Ÿæœºæ ˆ&#34;&gt;&lt;a href=&#34;#é¢è¯•å®˜ï¼šä»€ä¹ˆæ˜¯è™šæ‹Ÿæœºæ ˆ&#34; class=&#34;headerlink&#34; title=&#34;é¢è¯•å®˜ï¼šä»€ä¹ˆæ˜¯è™šæ‹Ÿæœºæ ˆ&#34;&gt;&lt;/a&gt;é¢è¯•å®˜ï¼šä»€ä¹ˆæ˜¯è™šæ‹Ÿæœºæ ˆ&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äºº:&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;è™šæ‹Ÿæœºæ ˆæ˜¯æè¿°çš„æ˜¯æ–¹æ³•æ‰§è¡Œæ—¶çš„å†…å­˜æ¨¡å‹,æ˜¯çº¿ç¨‹ç§æœ‰çš„ï¼Œç”Ÿå‘½å‘¨æœŸä¸çº¿ç¨‹ç›¸åŒ,æ¯ä¸ªæ–¹æ³•è¢«æ‰§è¡Œçš„åŒæ—¶ä¼šåˆ›å»º&lt;strong&gt;æ ˆæ¡¢&lt;/strong&gt;ã€‚ä¿å­˜æ‰§è¡Œæ–¹æ³•æ—¶çš„&lt;strong&gt;å±€éƒ¨å˜é‡ã€åŠ¨æ€è¿æ¥ä¿¡æ¯ã€æ–¹æ³•è¿”å›åœ°å€ä¿¡æ¯&lt;/strong&gt;ç­‰ç­‰ã€‚æ–¹æ³•å¼€å§‹æ‰§è¡Œçš„æ—¶å€™ä¼šè¿›æ ˆï¼Œæ–¹æ³•æ‰§è¡Œå®Œä¼šå‡ºæ ˆã€ç›¸å½“äºæ¸…ç©ºäº†æ•°æ®ã€‘ï¼Œæ‰€ä»¥è¿™å—åŒºåŸŸ&lt;strong&gt;ä¸éœ€è¦è¿›è¡Œ GC&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜ï¼šèƒ½è¯´ä¸€ä¸‹å †æ ˆçš„åŒºåˆ«æ˜¯ä»€ä¹ˆå—ï¼Ÿ&#34;&gt;&lt;a href=&#34;#é¢è¯•å®˜ï¼šèƒ½è¯´ä¸€ä¸‹å †æ ˆçš„åŒºåˆ«æ˜¯ä»€ä¹ˆå—ï¼Ÿ&#34; class=&#34;headerlink&#34; title=&#34;é¢è¯•å®˜ï¼šèƒ½è¯´ä¸€ä¸‹å †æ ˆçš„åŒºåˆ«æ˜¯ä»€ä¹ˆå—ï¼Ÿ&#34;&gt;&lt;/a&gt;é¢è¯•å®˜ï¼šèƒ½è¯´ä¸€ä¸‹å †æ ˆçš„åŒºåˆ«æ˜¯ä»€ä¹ˆå—ï¼Ÿ&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äºº:&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å—¯ï¼Œå¥½çš„ï¼Œæœ‰è¿™å‡ ä¸ªåŒºåˆ«&lt;/p&gt;
&lt;p&gt;ç¬¬ä¸€ï¼Œæ ˆå†…å­˜ä¸€èˆ¬ä¼šç”¨æ¥å­˜å‚¨å±€éƒ¨å˜é‡å’Œæ–¹æ³•è°ƒç”¨ï¼Œä½†å †å†…å­˜æ˜¯ç”¨æ¥å­˜å‚¨Javaå¯¹è±¡å’Œæ•°ç»„çš„çš„ã€‚å †ä¼šGCåƒåœ¾å›æ”¶ï¼Œè€Œæ ˆä¸ä¼šã€‚&lt;/p&gt;
&lt;p&gt;ç¬¬äºŒã€æ ˆå†…å­˜æ˜¯çº¿ç¨‹ç§æœ‰çš„ï¼Œè€Œå †å†…å­˜æ˜¯çº¿ç¨‹å…±æœ‰çš„ã€‚&lt;/p&gt;
&lt;p&gt;ç¬¬ä¸‰ã€ä¸¤è€…å¼‚å¸¸é”™è¯¯ä¸åŒï¼Œä½†å¦‚æœæ ˆå†…å­˜æˆ–è€…å †å†…å­˜ä¸è¶³éƒ½ä¼šæŠ›å‡ºå¼‚å¸¸ã€‚&lt;/p&gt;
&lt;p&gt;æ ˆç©ºé—´ä¸è¶³ï¼šjava.lang.StackOverFlowErrorã€‚&lt;/p&gt;
&lt;p&gt;å †ç©ºé—´ä¸è¶³ï¼šjava.lang.OutOfMemoryErrorã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜ï¼šä»€ä¹ˆæ˜¯ç±»åŠ è½½å™¨ï¼Œç±»åŠ è½½å™¨æœ‰å“ªäº›&#34;&gt;&lt;a href=&#34;#é¢è¯•å®˜ï¼šä»€ä¹ˆæ˜¯ç±»åŠ è½½å™¨ï¼Œç±»åŠ è½½å™¨æœ‰å“ªäº›&#34; class=&#34;headerlink&#34; title=&#34;é¢è¯•å®˜ï¼šä»€ä¹ˆæ˜¯ç±»åŠ è½½å™¨ï¼Œç±»åŠ è½½å™¨æœ‰å“ªäº›?&#34;&gt;&lt;/a&gt;é¢è¯•å®˜ï¼šä»€ä¹ˆæ˜¯ç±»åŠ è½½å™¨ï¼Œç±»åŠ è½½å™¨æœ‰å“ªäº›?&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äºº:&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å—¯ï¼Œæ˜¯è¿™æ ·çš„&lt;/p&gt;
&lt;p&gt;JVMåªä¼šè¿è¡ŒäºŒè¿›åˆ¶æ–‡ä»¶ï¼Œè€Œç±»åŠ è½½å™¨ï¼ˆClassLoaderï¼‰çš„ä¸»è¦ä½œç”¨å°±æ˜¯å°†&lt;strong&gt;å­—èŠ‚ç æ–‡ä»¶åŠ è½½åˆ°JVMä¸­&lt;/strong&gt;ï¼Œä»è€Œè®©Javaç¨‹åºèƒ½å¤Ÿå¯åŠ¨èµ·æ¥ã€‚&lt;/p&gt;
&lt;p&gt;å¸¸è§çš„ç±»åŠ è½½å™¨æœ‰4ä¸ª&lt;/p&gt;
&lt;p&gt;ç¬¬ä¸€ä¸ªæ˜¯å¯åŠ¨ç±»åŠ è½½å™¨(BootStrap ClassLoader)ï¼šå…¶æ˜¯ç”±C++ç¼–å†™å®ç°ã€‚ç”¨äºåŠ è½½JAVA_HOME&amp;#x2F;jre&amp;#x2F;libç›®å½•ä¸‹çš„ç±»åº“ã€‚&lt;/p&gt;
&lt;p&gt;ç¬¬äºŒä¸ªæ˜¯æ‰©å±•ç±»åŠ è½½å™¨(ExtClassLoader)ï¼šè¯¥ç±»æ˜¯ClassLoaderçš„å­ç±»ï¼Œä¸»è¦åŠ è½½JAVA_HOME&amp;#x2F;jre&amp;#x2F;lib&amp;#x2F;extç›®å½•ä¸­çš„ç±»åº“ã€‚&lt;/p&gt;
&lt;p&gt;ç¬¬ä¸‰ä¸ªæ˜¯åº”ç”¨ç±»åŠ è½½å™¨(AppClassLoader)ï¼šè¯¥ç±»æ˜¯ClassLoaderçš„å­ç±»ï¼Œä¸»è¦ç”¨äºåŠ è½½classPathä¸‹çš„ç±»ï¼Œä¹Ÿå°±æ˜¯åŠ è½½å¼€å‘è€…è‡ªå·±ç¼–å†™çš„Javaç±»ã€‚&lt;/p&gt;
&lt;p&gt;ç¬¬å››ä¸ªæ˜¯è‡ªå®šä¹‰ç±»åŠ è½½å™¨ï¼šå¼€å‘è€…è‡ªå®šä¹‰ç±»ç»§æ‰¿ClassLoaderï¼Œå®ç°è‡ªå®šä¹‰ç±»åŠ è½½è§„åˆ™ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜ï¼šè¯´ä¸€ä¸‹ç±»è£…è½½çš„æ‰§è¡Œè¿‡ç¨‹ï¼Ÿ&#34;&gt;&lt;a href=&#34;#é¢è¯•å®˜ï¼šè¯´ä¸€ä¸‹ç±»è£…è½½çš„æ‰§è¡Œè¿‡ç¨‹ï¼Ÿ&#34; class=&#34;headerlink&#34; title=&#34;é¢è¯•å®˜ï¼šè¯´ä¸€ä¸‹ç±»è£…è½½çš„æ‰§è¡Œè¿‡ç¨‹ï¼Ÿ&#34;&gt;&lt;/a&gt;é¢è¯•å®˜ï¼šè¯´ä¸€ä¸‹ç±»è£…è½½çš„æ‰§è¡Œè¿‡ç¨‹ï¼Ÿ&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äºº:&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å—¯ï¼Œè¿™ä¸ªè¿‡ç¨‹è¿˜æ˜¯æŒºå¤šçš„ã€‚&lt;/p&gt;
&lt;p&gt;ç±»ä»åŠ è½½åˆ°è™šæ‹Ÿæœºä¸­å¼€å§‹ï¼Œç›´åˆ°å¸è½½ä¸ºæ­¢ï¼Œå®ƒçš„æ•´ä¸ªç”Ÿå‘½å‘¨æœŸåŒ…æ‹¬äº†ï¼šåŠ è½½ã€éªŒè¯ã€å‡†å¤‡ã€è§£æã€åˆå§‹åŒ–ã€ä½¿ç”¨å’Œå¸è½½è¿™7ä¸ªé˜¶æ®µã€‚å…¶ä¸­ï¼ŒéªŒè¯ã€å‡†å¤‡å’Œè§£æè¿™ä¸‰ä¸ªéƒ¨åˆ†ç»Ÿç§°ä¸ºè¿æ¥ï¼ˆlinkingï¼‰&lt;/p&gt;
&lt;p&gt;1.åŠ è½½ï¼šæŸ¥æ‰¾å’Œå¯¼å…¥classæ–‡ä»¶&lt;/p&gt;
&lt;p&gt;2.éªŒè¯ï¼šä¿è¯åŠ è½½ç±»çš„å‡†ç¡®æ€§&lt;/p&gt;
&lt;p&gt;3.å‡†å¤‡ï¼šä¸ºç±»å˜é‡åˆ†é…å†…å­˜å¹¶è®¾ç½®ç±»å˜é‡åˆå§‹å€¼&lt;/p&gt;
&lt;p&gt;4.è§£æï¼šæŠŠç±»ä¸­çš„ç¬¦å·å¼•ç”¨è½¬æ¢ä¸ºç›´æ¥å¼•ç”¨&lt;/p&gt;
&lt;p&gt;5.åˆå§‹åŒ–ï¼šå¯¹ç±»çš„é™æ€å˜é‡ï¼Œé™æ€ä»£ç å—æ‰§è¡Œåˆå§‹åŒ–æ“ä½œ&lt;/p&gt;
&lt;p&gt;6.ä½¿ç”¨ï¼šJVM å¼€å§‹ä»å…¥å£æ–¹æ³•å¼€å§‹æ‰§è¡Œç”¨æˆ·çš„ç¨‹åºä»£ç &lt;/p&gt;
&lt;p&gt;7.å¸è½½ï¼šå½“ç”¨æˆ·ç¨‹åºä»£ç æ‰§è¡Œå®Œæ¯•åï¼ŒJVM ä¾¿å¼€å§‹é”€æ¯åˆ›å»ºçš„ Class å¯¹è±¡ï¼Œæœ€åè´Ÿè´£è¿è¡Œçš„ JVM ä¹Ÿé€€å‡ºå†…å­˜&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜ï¼šä»€ä¹ˆæ˜¯åŒäº²å§”æ´¾æ¨¡å‹ï¼Ÿ&#34;&gt;&lt;a href=&#34;#é¢è¯•å®˜ï¼šä»€ä¹ˆæ˜¯åŒäº²å§”æ´¾æ¨¡å‹ï¼Ÿ&#34; class=&#34;headerlink&#34; title=&#34;é¢è¯•å®˜ï¼šä»€ä¹ˆæ˜¯åŒäº²å§”æ´¾æ¨¡å‹ï¼Ÿ&#34;&gt;&lt;/a&gt;é¢è¯•å®˜ï¼šä»€ä¹ˆæ˜¯åŒäº²å§”æ´¾æ¨¡å‹ï¼Ÿ&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äºº:&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å—¯ï¼Œå®ƒæ˜¯æ˜¯è¿™æ ·çš„ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœä¸€ä¸ªç±»åŠ è½½å™¨æ”¶åˆ°äº†ç±»åŠ è½½çš„è¯·æ±‚ï¼Œå®ƒé¦–å…ˆä¸ä¼šè‡ªå·±å°è¯•åŠ è½½è¿™ä¸ªç±»ï¼Œè€Œæ˜¯æŠŠè¿™è¯·æ±‚å§”æ´¾ç»™çˆ¶ç±»åŠ è½½å™¨å»å®Œæˆï¼Œæ¯ä¸€ä¸ªå±‚æ¬¡çš„ç±»åŠ è½½å™¨éƒ½æ˜¯å¦‚æ­¤ï¼Œå› æ­¤æ‰€æœ‰çš„åŠ è½½è¯·æ±‚æœ€ç»ˆéƒ½åº”è¯¥ä¼ è¯´åˆ°é¡¶å±‚çš„å¯åŠ¨ç±»åŠ è½½å™¨ä¸­ï¼Œåªæœ‰å½“çˆ¶ç±»åŠ è½½å™¨è¿”å›è‡ªå·±æ— æ³•å®Œæˆè¿™ä¸ªåŠ è½½è¯·æ±‚ï¼ˆå®ƒçš„æœç´¢è¿”å›ä¸­æ²¡æœ‰æ‰¾åˆ°æ‰€éœ€çš„ç±»ï¼‰æ—¶ï¼Œå­ç±»åŠ è½½å™¨æ‰ä¼šå°è¯•è‡ªå·±å»åŠ è½½&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜ï¼šJVMä¸ºä»€ä¹ˆé‡‡ç”¨åŒäº²å§”æ´¾æœºåˆ¶&#34;&gt;&lt;a href=&#34;#é¢è¯•å®˜ï¼šJVMä¸ºä»€ä¹ˆé‡‡ç”¨åŒäº²å§”æ´¾æœºåˆ¶&#34; class=&#34;headerlink&#34; title=&#34;é¢è¯•å®˜ï¼šJVMä¸ºä»€ä¹ˆé‡‡ç”¨åŒäº²å§”æ´¾æœºåˆ¶&#34;&gt;&lt;/a&gt;é¢è¯•å®˜ï¼šJVMä¸ºä»€ä¹ˆé‡‡ç”¨åŒäº²å§”æ´¾æœºåˆ¶&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äºº:&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ä¸»è¦æœ‰ä¸¤ä¸ªåŸå› ã€‚&lt;/p&gt;
&lt;p&gt;ç¬¬ä¸€ã€é€šè¿‡åŒäº²å§”æ´¾æœºåˆ¶å¯ä»¥é¿å…æŸä¸€ä¸ªç±»è¢«é‡å¤åŠ è½½ï¼Œå½“çˆ¶ç±»å·²ç»åŠ è½½ååˆ™æ— éœ€é‡å¤åŠ è½½ï¼Œä¿è¯å”¯ä¸€æ€§ã€‚&lt;/p&gt;
&lt;p&gt;ç¬¬äºŒã€ä¸ºäº†å®‰å…¨ï¼Œä¿è¯ç±»åº“APIä¸ä¼šè¢«ä¿®æ”¹&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;åƒåœ¾å›æ”¶&#34;&gt;&lt;a href=&#34;#åƒåœ¾å›æ”¶&#34; class=&#34;headerlink&#34; title=&#34;åƒåœ¾å›æ”¶&#34;&gt;&lt;/a&gt;åƒåœ¾å›æ”¶&lt;/h2&gt;&lt;h3 id=&#34;é¢è¯•å®˜ï¼šç®€è¿°Javaåƒåœ¾å›æ”¶æœºåˆ¶ï¼Ÿï¼ˆGCæ˜¯ä»€ä¹ˆï¼Ÿä¸ºä»€ä¹ˆè¦GCï¼‰&#34;&gt;&lt;a href=&#34;#é¢è¯•å®˜ï¼šç®€è¿°Javaåƒåœ¾å›æ”¶æœºåˆ¶ï¼Ÿï¼ˆGCæ˜¯ä»€ä¹ˆï¼Ÿä¸ºä»€ä¹ˆè¦GCï¼‰&#34; class=&#34;headerlink&#34; title=&#34;é¢è¯•å®˜ï¼šç®€è¿°Javaåƒåœ¾å›æ”¶æœºåˆ¶ï¼Ÿï¼ˆGCæ˜¯ä»€ä¹ˆï¼Ÿä¸ºä»€ä¹ˆè¦GCï¼‰&#34;&gt;&lt;/a&gt;é¢è¯•å®˜ï¼šç®€è¿°Javaåƒåœ¾å›æ”¶æœºåˆ¶ï¼Ÿï¼ˆGCæ˜¯ä»€ä¹ˆï¼Ÿä¸ºä»€ä¹ˆè¦GCï¼‰&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äºº:&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å—¯ï¼Œæ˜¯è¿™æ ·~~&lt;/p&gt;
&lt;p&gt;ä¸ºäº†è®©ç¨‹åºå‘˜æ›´ä¸“æ³¨äºä»£ç çš„å®ç°ï¼Œè€Œä¸ç”¨è¿‡å¤šçš„è€ƒè™‘å†…å­˜é‡Šæ”¾çš„é—®é¢˜ï¼Œæ‰€ä»¥ï¼Œåœ¨Javaè¯­è¨€ä¸­ï¼Œæœ‰äº†è‡ªåŠ¨çš„åƒåœ¾å›æ”¶æœºåˆ¶ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬ç†Ÿæ‚‰çš„GC(Garbage Collection)ã€‚&lt;/p&gt;
&lt;p&gt;æœ‰äº†åƒåœ¾å›æ”¶æœºåˆ¶åï¼Œç¨‹åºå‘˜åªéœ€è¦å…³å¿ƒå†…å­˜çš„ç”³è¯·å³å¯ï¼Œå†…å­˜çš„é‡Šæ”¾ç”±ç³»ç»Ÿè‡ªåŠ¨è¯†åˆ«å®Œæˆã€‚&lt;/p&gt;
&lt;p&gt;åœ¨è¿›è¡Œåƒåœ¾å›æ”¶æ—¶ï¼Œä¸åŒçš„å¯¹è±¡å¼•ç”¨ç±»å‹ï¼ŒGCä¼šé‡‡ç”¨ä¸åŒçš„å›æ”¶æ—¶æœº&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜ï¼šå¼ºå¼•ç”¨ã€è½¯å¼•ç”¨ã€å¼±å¼•ç”¨ã€è™šå¼•ç”¨çš„åŒºåˆ«ï¼Ÿ&#34;&gt;&lt;a href=&#34;#é¢è¯•å®˜ï¼šå¼ºå¼•ç”¨ã€è½¯å¼•ç”¨ã€å¼±å¼•ç”¨ã€è™šå¼•ç”¨çš„åŒºåˆ«ï¼Ÿ&#34; class=&#34;headerlink&#34; title=&#34;é¢è¯•å®˜ï¼šå¼ºå¼•ç”¨ã€è½¯å¼•ç”¨ã€å¼±å¼•ç”¨ã€è™šå¼•ç”¨çš„åŒºåˆ«ï¼Ÿ&#34;&gt;&lt;/a&gt;é¢è¯•å®˜ï¼šå¼ºå¼•ç”¨ã€è½¯å¼•ç”¨ã€å¼±å¼•ç”¨ã€è™šå¼•ç”¨çš„åŒºåˆ«ï¼Ÿ&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äºº:&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å—¯å—¯~&lt;/p&gt;
&lt;p&gt;å¼ºå¼•ç”¨æœ€ä¸ºæ™®é€šçš„å¼•ç”¨æ–¹å¼ï¼Œè¡¨ç¤ºä¸€ä¸ªå¯¹è±¡å¤„äº&lt;strong&gt;æœ‰ç”¨ä¸”å¿…é¡»&lt;/strong&gt;çš„çŠ¶æ€ï¼Œå¦‚æœä¸€ä¸ªå¯¹è±¡å…·æœ‰å¼ºå¼•ç”¨ï¼Œåˆ™GCå¹¶ä¸ä¼šå›æ”¶å®ƒã€‚å³ä¾¿å †ä¸­å†…å­˜ä¸è¶³äº†ï¼Œå®å¯å‡ºç°OOMï¼Œä¹Ÿä¸ä¼šå¯¹å…¶è¿›è¡Œå›æ”¶&lt;/p&gt;
&lt;p&gt;è½¯å¼•ç”¨è¡¨ç¤ºä¸€ä¸ªå¯¹è±¡å¤„äº&lt;strong&gt;æœ‰ç”¨ä¸”éå¿…é¡»&lt;/strong&gt;çŠ¶æ€ï¼Œå¦‚æœä¸€ä¸ªå¯¹è±¡å¤„äºè½¯å¼•ç”¨ï¼Œåœ¨å†…å­˜ç©ºé—´è¶³å¤Ÿçš„æƒ…å†µä¸‹ï¼ŒGCæœºåˆ¶å¹¶ä¸ä¼šå›æ”¶å®ƒï¼Œè€Œåœ¨å†…å­˜ç©ºé—´ä¸è¶³æ—¶ï¼Œåˆ™ä¼šåœ¨OOMå¼‚å¸¸å‡ºç°ä¹‹é—´å¯¹å…¶è¿›è¡Œå›æ”¶ã€‚ä½†å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œå› ä¸ºGCçº¿ç¨‹ä¼˜å…ˆçº§è¾ƒä½ï¼Œè½¯å¼•ç”¨å¹¶ä¸ä¼šç«‹å³è¢«å›æ”¶ã€‚&lt;/p&gt;
&lt;p&gt;å¼±å¼•ç”¨è¡¨ç¤ºä¸€ä¸ªå¯¹è±¡å¤„äº&lt;strong&gt;å¯èƒ½æœ‰ç”¨ä¸”éå¿…é¡»&lt;/strong&gt;çš„çŠ¶æ€ã€‚åœ¨GCçº¿ç¨‹æ‰«æå†…å­˜åŒºåŸŸæ—¶ï¼Œä¸€æ—¦å‘ç°å¼±å¼•ç”¨ï¼Œå°±ä¼šå›æ”¶åˆ°å¼±å¼•ç”¨ç›¸å…³è”çš„å¯¹è±¡ã€‚å¯¹äºå¼±å¼•ç”¨çš„å›æ”¶ï¼Œæ— å…³å†…å­˜åŒºåŸŸæ˜¯å¦è¶³å¤Ÿï¼Œä¸€æ—¦å‘ç°åˆ™ä¼šè¢«å›æ”¶ã€‚åŒæ ·çš„ï¼Œå› ä¸ºGCçº¿ç¨‹ä¼˜å…ˆçº§è¾ƒä½ï¼Œæ‰€ä»¥å¼±å¼•ç”¨ä¹Ÿå¹¶ä¸æ˜¯ä¼šè¢«ç«‹åˆ»å›æ”¶ã€‚&lt;/p&gt;
&lt;p&gt;è™šå¼•ç”¨è¡¨ç¤ºä¸€ä¸ªå¯¹è±¡å¤„äº&lt;strong&gt;æ— ç”¨&lt;/strong&gt;çš„çŠ¶æ€ã€‚åœ¨ä»»ä½•æ—¶å€™éƒ½æœ‰å¯èƒ½è¢«åƒåœ¾å›æ”¶ã€‚è™šå¼•ç”¨çš„ä½¿ç”¨å¿…é¡»å’Œå¼•ç”¨é˜Ÿåˆ—Reference Queueè”åˆä½¿ç”¨&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜ï¼šå¯¹è±¡ä»€ä¹ˆæ—¶å€™å¯ä»¥è¢«åƒåœ¾å™¨å›æ”¶&#34;&gt;&lt;a href=&#34;#é¢è¯•å®˜ï¼šå¯¹è±¡ä»€ä¹ˆæ—¶å€™å¯ä»¥è¢«åƒåœ¾å™¨å›æ”¶&#34; class=&#34;headerlink&#34; title=&#34;é¢è¯•å®˜ï¼šå¯¹è±¡ä»€ä¹ˆæ—¶å€™å¯ä»¥è¢«åƒåœ¾å™¨å›æ”¶&#34;&gt;&lt;/a&gt;é¢è¯•å®˜ï¼šå¯¹è±¡ä»€ä¹ˆæ—¶å€™å¯ä»¥è¢«åƒåœ¾å™¨å›æ”¶&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äºº:&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æ€è€ƒä¸€ä¼š~~&lt;/p&gt;
&lt;p&gt;å¦‚æœä¸€ä¸ªæˆ–å¤šä¸ªå¯¹è±¡æ²¡æœ‰ä»»ä½•çš„å¼•ç”¨æŒ‡å‘å®ƒäº†ï¼Œé‚£ä¹ˆè¿™ä¸ªå¯¹è±¡ç°åœ¨å°±æ˜¯åƒåœ¾ï¼Œå¦‚æœå®šä½äº†åƒåœ¾ï¼Œåˆ™æœ‰å¯èƒ½ä¼šè¢«åƒåœ¾å›æ”¶å™¨å›æ”¶ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœè¦å®šä½ä»€ä¹ˆæ˜¯åƒåœ¾ï¼Œæœ‰ä¸¤ç§æ–¹å¼æ¥ç¡®å®šï¼Œç¬¬ä¸€ä¸ªæ˜¯å¼•ç”¨è®¡æ•°æ³•ï¼Œç¬¬äºŒä¸ªæ˜¯å¯è¾¾æ€§åˆ†æç®—æ³•&lt;/p&gt;
&lt;p&gt;é€šå¸¸éƒ½ä½¿ç”¨å¯è¾¾æ€§åˆ†æç®—æ³•æ¥ç¡®å®šæ˜¯ä¸æ˜¯åƒåœ¾&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜ï¼š-JVM-åƒåœ¾å›æ”¶ç®—æ³•æœ‰å“ªäº›ï¼Ÿ&#34;&gt;&lt;a href=&#34;#é¢è¯•å®˜ï¼š-JVM-åƒåœ¾å›æ”¶ç®—æ³•æœ‰å“ªäº›ï¼Ÿ&#34; class=&#34;headerlink&#34; title=&#34;é¢è¯•å®˜ï¼š JVM åƒåœ¾å›æ”¶ç®—æ³•æœ‰å“ªäº›ï¼Ÿ&#34;&gt;&lt;/a&gt;é¢è¯•å®˜ï¼š JVM åƒåœ¾å›æ”¶ç®—æ³•æœ‰å“ªäº›ï¼Ÿ&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äºº:&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æˆ‘è®°å¾—ä¸€å…±æœ‰å››ç§ï¼Œåˆ†åˆ«æ˜¯æ ‡è®°æ¸…é™¤ç®—æ³•ã€å¤åˆ¶ç®—æ³•ã€æ ‡è®°æ•´ç†ç®—æ³•ã€åˆ†ä»£å›æ”¶&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜ï¼š-ä½ èƒ½è¯¦ç»†èŠä¸€ä¸‹åˆ†ä»£å›æ”¶å—ï¼Ÿ&#34;&gt;&lt;a href=&#34;#é¢è¯•å®˜ï¼š-ä½ èƒ½è¯¦ç»†èŠä¸€ä¸‹åˆ†ä»£å›æ”¶å—ï¼Ÿ&#34; class=&#34;headerlink&#34; title=&#34;é¢è¯•å®˜ï¼š ä½ èƒ½è¯¦ç»†èŠä¸€ä¸‹åˆ†ä»£å›æ”¶å—ï¼Ÿ&#34;&gt;&lt;/a&gt;é¢è¯•å®˜ï¼š ä½ èƒ½è¯¦ç»†èŠä¸€ä¸‹åˆ†ä»£å›æ”¶å—ï¼Ÿ&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äºº:&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å…³äºåˆ†ä»£å›æ”¶æ˜¯è¿™æ ·çš„&lt;/p&gt;
&lt;p&gt;åœ¨java8æ—¶ï¼Œå †è¢«åˆ†ä¸ºäº†ä¸¤ä»½ï¼šæ–°ç”Ÿä»£å’Œè€å¹´ä»£ï¼Œå®ƒä»¬é»˜è®¤ç©ºé—´å ç”¨æ¯”ä¾‹æ˜¯1:2&lt;/p&gt;
&lt;p&gt;å¯¹äºæ–°ç”Ÿä»£ï¼Œå†…éƒ¨åˆè¢«åˆ†ä¸ºäº†ä¸‰ä¸ªåŒºåŸŸã€‚EdenåŒºï¼ŒS0åŒºï¼ŒS1åŒºé»˜è®¤ç©ºé—´å ç”¨æ¯”ä¾‹æ˜¯8:1:1&lt;/p&gt;
&lt;p&gt;å…·ä½“çš„å·¥ä½œæœºåˆ¶æ˜¯æœ‰äº›æƒ…å†µï¼š&lt;/p&gt;
&lt;p&gt;1ï¼‰å½“åˆ›å»ºä¸€ä¸ªå¯¹è±¡çš„æ—¶å€™ï¼Œé‚£ä¹ˆè¿™ä¸ªå¯¹è±¡ä¼šè¢«åˆ†é…åœ¨æ–°ç”Ÿä»£çš„EdenåŒºã€‚å½“EdenåŒºè¦æ»¡äº†æ—¶å€™ï¼Œè§¦å‘YoungGCã€‚&lt;/p&gt;
&lt;p&gt;2ï¼‰å½“è¿›è¡ŒYoungGCåï¼Œæ­¤æ—¶åœ¨EdenåŒºå­˜æ´»çš„å¯¹è±¡è¢«ç§»åŠ¨åˆ°S0åŒºï¼Œå¹¶ä¸”&lt;strong&gt;å½“å‰å¯¹è±¡çš„å¹´é¾„ä¼šåŠ 1&lt;/strong&gt;ï¼Œæ¸…ç©ºEdenåŒºã€‚&lt;/p&gt;
&lt;p&gt;3ï¼‰å½“å†ä¸€æ¬¡è§¦å‘YoungGCçš„æ—¶å€™ï¼Œä¼šæŠŠEdenåŒºä¸­å­˜æ´»ä¸‹æ¥çš„å¯¹è±¡å’ŒS0ä¸­çš„å¯¹è±¡ï¼Œç§»åŠ¨åˆ°S1åŒºä¸­ï¼Œè¿™äº›å¯¹è±¡çš„å¹´é¾„ä¼šåŠ 1ï¼Œæ¸…ç©ºEdenåŒºå’ŒS0åŒºã€‚&lt;/p&gt;
&lt;p&gt;4ï¼‰å½“å†ä¸€æ¬¡è§¦å‘YoungGCçš„æ—¶å€™ï¼Œä¼šæŠŠEdenåŒºä¸­å­˜æ´»ä¸‹æ¥çš„å¯¹è±¡å’ŒS1ä¸­çš„å¯¹è±¡ï¼Œç§»åŠ¨åˆ°S0åŒºä¸­ï¼Œè¿™äº›å¯¹è±¡çš„å¹´é¾„ä¼šåŠ 1ï¼Œæ¸…ç©ºEdenåŒºå’ŒS1åŒºã€‚&lt;/p&gt;
&lt;p&gt;5ï¼‰å¯¹è±¡çš„å¹´é¾„è¾¾åˆ°äº†æŸä¸€ä¸ªé™å®šçš„å€¼ï¼ˆ&lt;strong&gt;é»˜è®¤15å²&lt;/strong&gt;  ï¼‰ï¼Œé‚£ä¹ˆè¿™ä¸ªå¯¹è±¡å°±ä¼šè¿›å…¥åˆ°è€å¹´ä»£ä¸­ã€‚&lt;/p&gt;
&lt;p&gt;å½“ç„¶ä¹Ÿæœ‰ç‰¹æ®Šæƒ…å†µï¼Œå¦‚æœè¿›å…¥EdenåŒºçš„æ˜¯ä¸€ä¸ªå¤§å¯¹è±¡ï¼Œåœ¨è§¦å‘YoungGCçš„æ—¶å€™ï¼Œä¼šç›´æ¥å­˜æ”¾åˆ°è€å¹´ä»£&lt;/p&gt;
&lt;p&gt;å½“è€å¹´ä»£æ»¡äº†ä¹‹åï¼Œ&lt;strong&gt;è§¦å‘FullGC&lt;/strong&gt;ã€‚&lt;strong&gt;FullGCåŒæ—¶å›æ”¶æ–°ç”Ÿä»£å’Œè€å¹´ä»£&lt;/strong&gt;ï¼Œå½“å‰åªä¼šå­˜åœ¨ä¸€ä¸ªFullGCçš„çº¿ç¨‹è¿›è¡Œæ‰§è¡Œï¼Œå…¶ä»–çš„çº¿ç¨‹å…¨éƒ¨ä¼šè¢«æŒ‚èµ·ã€‚  æˆ‘ä»¬åœ¨ç¨‹åºä¸­è¦å°½é‡é¿å…FullGCçš„å‡ºç°ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜ï¼šè®²ä¸€ä¸‹æ–°ç”Ÿä»£ã€è€å¹´ä»£ã€æ°¸ä¹…ä»£çš„åŒºåˆ«ï¼Ÿ&#34;&gt;&lt;a href=&#34;#é¢è¯•å®˜ï¼šè®²ä¸€ä¸‹æ–°ç”Ÿä»£ã€è€å¹´ä»£ã€æ°¸ä¹…ä»£çš„åŒºåˆ«ï¼Ÿ&#34; class=&#34;headerlink&#34; title=&#34;é¢è¯•å®˜ï¼šè®²ä¸€ä¸‹æ–°ç”Ÿä»£ã€è€å¹´ä»£ã€æ°¸ä¹…ä»£çš„åŒºåˆ«ï¼Ÿ&#34;&gt;&lt;/a&gt;é¢è¯•å®˜ï¼šè®²ä¸€ä¸‹æ–°ç”Ÿä»£ã€è€å¹´ä»£ã€æ°¸ä¹…ä»£çš„åŒºåˆ«ï¼Ÿ&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äºº:&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å—¯ï¼æ˜¯è¿™æ ·çš„ï¼Œç®€å•è¯´å°±æ˜¯&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æ–°ç”Ÿä»£&lt;/strong&gt;ä¸»è¦ç”¨æ¥å­˜æ”¾æ–°ç”Ÿçš„å¯¹è±¡ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;è€å¹´ä»£&lt;/strong&gt;ä¸»è¦å­˜æ”¾åº”ç”¨ä¸­ç”Ÿå‘½å‘¨æœŸé•¿çš„å†…å­˜å¯¹è±¡ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æ°¸ä¹…ä»£&lt;/strong&gt;æŒ‡çš„æ˜¯æ°¸ä¹…ä¿å­˜åŒºåŸŸã€‚ä¸»è¦å­˜æ”¾Classå’ŒMetaï¼ˆå…ƒæ•°æ®ï¼‰çš„ä¿¡æ¯ã€‚åœ¨Java8ä¸­ï¼Œæ°¸ä¹…ä»£å·²ç»è¢«ç§»é™¤ï¼Œå–è€Œä»£ä¹‹çš„æ˜¯ä¸€ä¸ªç§°ä¹‹ä¸ºâ€œå…ƒæ•°æ®åŒºâ€ï¼ˆ&lt;strong&gt;å…ƒç©ºé—´&lt;/strong&gt;ï¼‰çš„åŒºåŸŸã€‚å…ƒç©ºé—´å’Œæ°¸ä¹…ä»£ç±»ä¼¼ï¼Œä¸è¿‡å…ƒç©ºé—´ä¸æ°¸ä¹…ä»£ä¹‹é—´æœ€å¤§çš„åŒºåˆ«åœ¨äºï¼šå…ƒç©ºé—´å¹¶ä¸åœ¨è™šæ‹Ÿæœºä¸­ï¼Œè€Œæ˜¯ä½¿ç”¨æœ¬åœ°å†…å­˜ã€‚å› æ­¤ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œå…ƒç©ºé—´çš„å¤§å°ä»…å—æœ¬åœ°å†…å­˜çš„é™åˆ¶ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜ï¼šè¯´ä¸€ä¸‹-JVM-æœ‰å“ªäº›åƒåœ¾å›æ”¶å™¨ï¼Ÿ&#34;&gt;&lt;a href=&#34;#é¢è¯•å®˜ï¼šè¯´ä¸€ä¸‹-JVM-æœ‰å“ªäº›åƒåœ¾å›æ”¶å™¨ï¼Ÿ&#34; class=&#34;headerlink&#34; title=&#34;é¢è¯•å®˜ï¼šè¯´ä¸€ä¸‹ JVM æœ‰å“ªäº›åƒåœ¾å›æ”¶å™¨ï¼Ÿ&#34;&gt;&lt;/a&gt;é¢è¯•å®˜ï¼šè¯´ä¸€ä¸‹ JVM æœ‰å“ªäº›åƒåœ¾å›æ”¶å™¨ï¼Ÿ&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äºº:&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;åœ¨jvmä¸­ï¼Œå®ç°äº†å¤šç§åƒåœ¾æ”¶é›†å™¨ï¼ŒåŒ…æ‹¬ï¼šä¸²è¡Œåƒåœ¾æ”¶é›†å™¨ã€å¹¶è¡Œåƒåœ¾æ”¶é›†å™¨ï¼ˆJDK8é»˜è®¤ï¼‰ã€CMSï¼ˆå¹¶å‘ï¼‰åƒåœ¾æ”¶é›†å™¨ã€G1åƒåœ¾æ”¶é›†å™¨ï¼ˆJDK9é»˜è®¤ï¼‰&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜ï¼šMinor-GCã€Major-GCã€Full-GCæ˜¯ä»€ä¹ˆ&#34;&gt;&lt;a href=&#34;#é¢è¯•å®˜ï¼šMinor-GCã€Major-GCã€Full-GCæ˜¯ä»€ä¹ˆ&#34; class=&#34;headerlink&#34; title=&#34;é¢è¯•å®˜ï¼šMinor GCã€Major GCã€Full GCæ˜¯ä»€ä¹ˆ&#34;&gt;&lt;/a&gt;é¢è¯•å®˜ï¼šMinor GCã€Major GCã€Full GCæ˜¯ä»€ä¹ˆ&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äºº:&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å—¯ï¼Œå…¶å®å®ƒä»¬æŒ‡çš„æ˜¯ä¸åŒä»£ä¹‹é—´çš„åƒåœ¾å›æ”¶&lt;/p&gt;
&lt;p&gt;Minor GC å‘ç”Ÿåœ¨æ–°ç”Ÿä»£çš„åƒåœ¾å›æ”¶ï¼Œæš‚åœæ—¶é—´çŸ­&lt;/p&gt;
&lt;p&gt;Major GC è€å¹´ä»£åŒºåŸŸçš„åƒåœ¾å›æ”¶ï¼Œè€å¹´ä»£ç©ºé—´ä¸è¶³æ—¶ï¼Œä¼šå…ˆå°è¯•è§¦å‘Minor GCã€‚Minor GCä¹‹åç©ºé—´è¿˜ä¸è¶³ï¼Œåˆ™ä¼šè§¦å‘Major GCï¼ŒMajor GCé€Ÿåº¦æ¯”è¾ƒæ…¢ï¼Œæš‚åœæ—¶é—´é•¿&lt;/p&gt;
&lt;p&gt;Full GC æ–°ç”Ÿä»£ + è€å¹´ä»£å®Œæ•´åƒåœ¾å›æ”¶ï¼Œæš‚åœæ—¶é—´é•¿ï¼Œ&lt;strong&gt;åº”å°½åŠ›é¿å…&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜ï¼šJVM-è°ƒä¼˜çš„å‚æ•°å¯ä»¥åœ¨å“ªé‡Œè®¾ç½®å‚æ•°å€¼ï¼Ÿ&#34;&gt;&lt;a href=&#34;#é¢è¯•å®˜ï¼šJVM-è°ƒä¼˜çš„å‚æ•°å¯ä»¥åœ¨å“ªé‡Œè®¾ç½®å‚æ•°å€¼ï¼Ÿ&#34; class=&#34;headerlink&#34; title=&#34;é¢è¯•å®˜ï¼šJVM è°ƒä¼˜çš„å‚æ•°å¯ä»¥åœ¨å“ªé‡Œè®¾ç½®å‚æ•°å€¼ï¼Ÿ&#34;&gt;&lt;/a&gt;é¢è¯•å®˜ï¼šJVM è°ƒä¼˜çš„å‚æ•°å¯ä»¥åœ¨å“ªé‡Œè®¾ç½®å‚æ•°å€¼ï¼Ÿ&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äºº:&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬å½“æ—¶çš„é¡¹ç›®æ˜¯springbooté¡¹ç›®ï¼Œå¯ä»¥åœ¨é¡¹ç›®å¯åŠ¨çš„æ—¶å€™ï¼Œjava -jarä¸­åŠ å…¥å‚æ•°å°±è¡Œäº†&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜ï¼šç”¨çš„-JVM-è°ƒä¼˜çš„å‚æ•°éƒ½æœ‰å“ªäº›ï¼Ÿ&#34;&gt;&lt;a href=&#34;#é¢è¯•å®˜ï¼šç”¨çš„-JVM-è°ƒä¼˜çš„å‚æ•°éƒ½æœ‰å“ªäº›ï¼Ÿ&#34; class=&#34;headerlink&#34; title=&#34;é¢è¯•å®˜ï¼šç”¨çš„ JVM è°ƒä¼˜çš„å‚æ•°éƒ½æœ‰å“ªäº›ï¼Ÿ&#34;&gt;&lt;/a&gt;é¢è¯•å®˜ï¼šç”¨çš„ JVM è°ƒä¼˜çš„å‚æ•°éƒ½æœ‰å“ªäº›ï¼Ÿ&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äºº:&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å—¯ï¼Œè¿™äº›å‚æ•°æ˜¯æ¯”è¾ƒå¤šçš„&lt;/p&gt;
&lt;p&gt;æˆ‘è®°å¾—å½“æ—¶æˆ‘ä»¬è®¾ç½®è¿‡å †çš„å¤§å°ï¼Œåƒ-Xmså’Œ-Xmx&lt;/p&gt;
&lt;p&gt;è¿˜æœ‰å°±æ˜¯å¯ä»¥è®¾ç½®å¹´è½»ä»£ä¸­EdenåŒºå’Œä¸¤ä¸ªSurvivoråŒºçš„å¤§å°æ¯”ä¾‹&lt;/p&gt;
&lt;p&gt;è¿˜æœ‰å°±æ˜¯å¯ä»¥è®¾ç½®ä½¿ç”¨å“ªç§åƒåœ¾å›æ”¶å™¨ç­‰ç­‰ã€‚å…·ä½“çš„æŒ‡ä»¤è¿˜çœŸè®°ä¸å¤ªæ¸…æ¥šã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜ï¼šå—¯ï¼Œå¥½çš„ï¼Œä½ ä»¬å¹³æ—¶è°ƒè¯•-JVMéƒ½ç”¨äº†å“ªäº›å·¥å…·å‘¢ï¼Ÿ&#34;&gt;&lt;a href=&#34;#é¢è¯•å®˜ï¼šå—¯ï¼Œå¥½çš„ï¼Œä½ ä»¬å¹³æ—¶è°ƒè¯•-JVMéƒ½ç”¨äº†å“ªäº›å·¥å…·å‘¢ï¼Ÿ&#34; class=&#34;headerlink&#34; title=&#34;é¢è¯•å®˜ï¼šå—¯ï¼Œå¥½çš„ï¼Œä½ ä»¬å¹³æ—¶è°ƒè¯• JVMéƒ½ç”¨äº†å“ªäº›å·¥å…·å‘¢ï¼Ÿ&#34;&gt;&lt;/a&gt;é¢è¯•å®˜ï¼šå—¯ï¼Œå¥½çš„ï¼Œä½ ä»¬å¹³æ—¶è°ƒè¯• JVMéƒ½ç”¨äº†å“ªäº›å·¥å…·å‘¢ï¼Ÿ&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äºº:&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å—¯ï¼Œæˆ‘ä»¬ä¸€èˆ¬éƒ½æ˜¯ä½¿ç”¨jdkè‡ªå¸¦çš„ä¸€äº›å·¥å…·ï¼Œæ¯”å¦‚&lt;/p&gt;
&lt;p&gt;jps è¾“å‡ºJVMä¸­è¿è¡Œçš„è¿›ç¨‹çŠ¶æ€ä¿¡æ¯&lt;/p&gt;
&lt;p&gt;jstackæŸ¥çœ‹javaè¿›ç¨‹å†…&lt;strong&gt;çº¿ç¨‹çš„å †æ ˆ&lt;/strong&gt;ä¿¡æ¯ã€‚&lt;/p&gt;
&lt;p&gt;jmap ç”¨äºç”Ÿæˆå †è½¬å­˜å¿«ç…§&lt;/p&gt;
&lt;p&gt;jstatç”¨äºJVMç»Ÿè®¡ç›‘æµ‹å·¥å…·&lt;/p&gt;
&lt;p&gt;è¿˜æœ‰ä¸€äº›å¯è§†åŒ–å·¥å…·ï¼Œåƒjconsoleå’ŒVisualVMç­‰&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜ï¼šå‡å¦‚é¡¹ç›®ä¸­äº§ç”Ÿäº†javaå†…å­˜æ³„éœ²ï¼Œä½ è¯´ä¸€ä¸‹ä½ çš„æ’æŸ¥æ€è·¯ï¼Ÿ&#34;&gt;&lt;a href=&#34;#é¢è¯•å®˜ï¼šå‡å¦‚é¡¹ç›®ä¸­äº§ç”Ÿäº†javaå†…å­˜æ³„éœ²ï¼Œä½ è¯´ä¸€ä¸‹ä½ çš„æ’æŸ¥æ€è·¯ï¼Ÿ&#34; class=&#34;headerlink&#34; title=&#34;é¢è¯•å®˜ï¼šå‡å¦‚é¡¹ç›®ä¸­äº§ç”Ÿäº†javaå†…å­˜æ³„éœ²ï¼Œä½ è¯´ä¸€ä¸‹ä½ çš„æ’æŸ¥æ€è·¯ï¼Ÿ&#34;&gt;&lt;/a&gt;é¢è¯•å®˜ï¼šå‡å¦‚é¡¹ç›®ä¸­äº§ç”Ÿäº†javaå†…å­˜æ³„éœ²ï¼Œä½ è¯´ä¸€ä¸‹ä½ çš„æ’æŸ¥æ€è·¯ï¼Ÿ&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äºº:&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å—¯ï¼Œè¿™ä¸ªæˆ‘åœ¨ä¹‹å‰é¡¹ç›®æ’æŸ¥è¿‡&lt;/p&gt;
&lt;p&gt;ç¬¬ä¸€å‘¢å¯ä»¥é€šè¿‡jmapæŒ‡å®šæ‰“å°ä»–çš„å†…å­˜å¿«ç…§ dumpæ–‡ä»¶ï¼Œä¸è¿‡æœ‰çš„æƒ…å†µæ‰“å°ä¸äº†ï¼Œæˆ‘ä»¬ä¼šè®¾ç½®vmå‚æ•°è®©ç¨‹åºè‡ªåŠ¨ç”Ÿæˆdumpæ–‡ä»¶&lt;/p&gt;
&lt;p&gt;ç¬¬äºŒï¼Œå¯ä»¥é€šè¿‡å·¥å…·å»åˆ†æ dumpæ–‡ä»¶ï¼Œjdkè‡ªå¸¦çš„VisualVMå°±å¯ä»¥åˆ†æ&lt;/p&gt;
&lt;p&gt;ç¬¬ä¸‰ï¼Œé€šè¿‡æŸ¥çœ‹å †ä¿¡æ¯çš„æƒ…å†µï¼Œå¯ä»¥å¤§æ¦‚å®šä½å†…å­˜æº¢å‡ºæ˜¯å“ªè¡Œä»£ç å‡ºäº†é—®é¢˜&lt;/p&gt;
&lt;p&gt;ç¬¬å››ï¼Œæ‰¾åˆ°å¯¹åº”çš„ä»£ç ï¼Œé€šè¿‡é˜…è¯»ä¸Šä¸‹æ–‡çš„æƒ…å†µï¼Œè¿›è¡Œä¿®å¤å³å¯&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜ï¼šå¥½çš„ï¼Œé‚£ç°åœ¨å†æ¥è¯´ä¸€ç§æƒ…å†µï¼Œå°±æ˜¯è¯´æœåŠ¡å™¨CPUæŒç»­é£™é«˜ï¼Œä½ çš„æ’æŸ¥æ–¹æ¡ˆä¸æ€è·¯ï¼Ÿ&#34;&gt;&lt;a href=&#34;#é¢è¯•å®˜ï¼šå¥½çš„ï¼Œé‚£ç°åœ¨å†æ¥è¯´ä¸€ç§æƒ…å†µï¼Œå°±æ˜¯è¯´æœåŠ¡å™¨CPUæŒç»­é£™é«˜ï¼Œä½ çš„æ’æŸ¥æ–¹æ¡ˆä¸æ€è·¯ï¼Ÿ&#34; class=&#34;headerlink&#34; title=&#34;é¢è¯•å®˜ï¼šå¥½çš„ï¼Œé‚£ç°åœ¨å†æ¥è¯´ä¸€ç§æƒ…å†µï¼Œå°±æ˜¯è¯´æœåŠ¡å™¨CPUæŒç»­é£™é«˜ï¼Œä½ çš„æ’æŸ¥æ–¹æ¡ˆä¸æ€è·¯ï¼Ÿ&#34;&gt;&lt;/a&gt;é¢è¯•å®˜ï¼šå¥½çš„ï¼Œé‚£ç°åœ¨å†æ¥è¯´ä¸€ç§æƒ…å†µï¼Œå°±æ˜¯è¯´æœåŠ¡å™¨CPUæŒç»­é£™é«˜ï¼Œä½ çš„æ’æŸ¥æ–¹æ¡ˆä¸æ€è·¯ï¼Ÿ&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äºº:&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å—¯ï¼Œæˆ‘æ€è€ƒä¸€ä¸‹~~&lt;/p&gt;
&lt;p&gt;å¯ä»¥è¿™ä¹ˆåš~~&lt;/p&gt;
&lt;p&gt;ç¬¬ä¸€å¯ä»¥ä½¿ç”¨ä½¿ç”¨topå‘½ä»¤æŸ¥çœ‹å ç”¨cpuçš„æƒ…å†µ&lt;/p&gt;
&lt;p&gt;ç¬¬äºŒé€šè¿‡topå‘½ä»¤æŸ¥çœ‹åï¼Œå¯ä»¥æŸ¥çœ‹æ˜¯å“ªä¸€ä¸ªè¿›ç¨‹å ç”¨cpuè¾ƒé«˜ï¼Œè®°å½•è¿™ä¸ªè¿›ç¨‹id&lt;/p&gt;
&lt;p&gt;ç¬¬ä¸‰å¯ä»¥é€šè¿‡ps æŸ¥çœ‹å½“å‰è¿›ç¨‹ä¸­çš„çº¿ç¨‹ä¿¡æ¯ï¼Œçœ‹çœ‹å“ªä¸ªçº¿ç¨‹çš„cpuå ç”¨è¾ƒé«˜&lt;/p&gt;
&lt;p&gt;ç¬¬å››å¯ä»¥jstackå‘½ä»¤æ‰“å°è¿›è¡Œçš„idï¼Œæ‰¾åˆ°è¿™ä¸ªçº¿ç¨‹ï¼Œå°±å¯ä»¥è¿›ä¸€æ­¥å®šä½é—®é¢˜ä»£ç çš„è¡Œå·&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;æœ¬æ–‡å¼•è‡ª&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly93d3cuYmlsaWJpbGkuY29tL3ZpZGVvL0JWMXlUNDExSDdZSy8=&#34;&gt;é»‘é©¬ç¨‹åºå‘˜Javaé¢è¯•å®å…¸&lt;/span&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
        <category term="é¢ç»" scheme="https://anoxiahub.github.io/categories/interview/" />
        <category term="JavaåŸºç¡€" scheme="https://anoxiahub.github.io/tags/Java%E5%9F%BA%E7%A1%80/" />
        <updated>2023-08-14T16:00:00.000Z</updated>
    </entry>
    <entry>
        <id>https://anoxiahub.github.io/interview/%E5%B8%B8%E8%A7%81%E6%8A%80%E6%9C%AF%E5%9C%BA%E6%99%AF/</id>
        <title>å¸¸è§æŠ€æœ¯åœºæ™¯</title>
        <link rel="alternate" href="https://anoxiahub.github.io/interview/%E5%B8%B8%E8%A7%81%E6%8A%80%E6%9C%AF%E5%9C%BA%E6%99%AF/"/>
        <content type="html">&lt;h2 id=&#34;å¸¸è§æŠ€æœ¯åœºæ™¯&#34;&gt;&lt;a href=&#34;#å¸¸è§æŠ€æœ¯åœºæ™¯&#34; class=&#34;headerlink&#34; title=&#34;å¸¸è§æŠ€æœ¯åœºæ™¯&#34;&gt;&lt;/a&gt;å¸¸è§æŠ€æœ¯åœºæ™¯&lt;/h2&gt;&lt;h3 id=&#34;å•ç‚¹ç™»å½•è¿™å—æ€ä¹ˆå®ç°çš„&#34;&gt;&lt;a href=&#34;#å•ç‚¹ç™»å½•è¿™å—æ€ä¹ˆå®ç°çš„&#34; class=&#34;headerlink&#34; title=&#34;å•ç‚¹ç™»å½•è¿™å—æ€ä¹ˆå®ç°çš„&#34;&gt;&lt;/a&gt;å•ç‚¹ç™»å½•è¿™å—æ€ä¹ˆå®ç°çš„&lt;/h3&gt;&lt;h4 id=&#34;æ¦‚è¿°&#34;&gt;&lt;a href=&#34;#æ¦‚è¿°&#34; class=&#34;headerlink&#34; title=&#34;æ¦‚è¿°&#34;&gt;&lt;/a&gt;æ¦‚è¿°&lt;/h4&gt;&lt;p&gt;å•ç‚¹ç™»å½•çš„è‹±æ–‡åå«åšï¼šSingle Sign Onï¼ˆç®€ç§°&lt;strong&gt;SSO&lt;/strong&gt;ï¼‰,åªéœ€è¦ç™»å½•ä¸€æ¬¡ï¼Œå°±å¯ä»¥è®¿é—®æ‰€æœ‰ä¿¡ä»»çš„åº”ç”¨ç³»ç»Ÿ&lt;/p&gt;
&lt;p&gt;åœ¨&lt;strong&gt;ä»¥å‰&lt;/strong&gt;çš„æ—¶å€™ï¼Œä¸€èˆ¬æˆ‘ä»¬å°±&lt;strong&gt;å•ç³»ç»Ÿ&lt;/strong&gt;ï¼Œæ‰€æœ‰çš„åŠŸèƒ½éƒ½åœ¨åŒä¸€ä¸ªç³»ç»Ÿä¸Šã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230521113500488.png&#34; alt=&#34;image-20230521113500488&#34;&gt;&lt;/p&gt;
&lt;p&gt;å•ä½“ç³»ç»Ÿçš„sessionå…±äº«&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;ç™»å½•&lt;/strong&gt;ï¼šå°†ç”¨æˆ·ä¿¡æ¯ä¿å­˜åœ¨Sessionå¯¹è±¡ä¸­&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;ul&gt;
&lt;li&gt;å¦‚æœåœ¨Sessionå¯¹è±¡ä¸­èƒ½æŸ¥åˆ°ï¼Œè¯´æ˜å·²ç»ç™»å½•&lt;/li&gt;
&lt;li&gt;å¦‚æœåœ¨Sessionå¯¹è±¡ä¸­æŸ¥ä¸åˆ°ï¼Œè¯´æ˜æ²¡ç™»å½•ï¼ˆæˆ–è€…å·²ç»é€€å‡ºäº†ç™»å½•ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;æ³¨é”€ï¼ˆé€€å‡ºç™»å½•ï¼‰&lt;/strong&gt;ï¼šä»Sessionä¸­åˆ é™¤ç”¨æˆ·çš„ä¿¡æ¯&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;åæ¥ï¼Œæˆ‘ä»¬ä¸ºäº†&lt;strong&gt;åˆç†åˆ©ç”¨èµ„æºå’Œé™ä½è€¦åˆæ€§&lt;/strong&gt;ï¼Œäºæ˜¯æŠŠå•ç³»ç»Ÿ&lt;strong&gt;æ‹†åˆ†&lt;/strong&gt;æˆå¤šä¸ªå­ç³»ç»Ÿã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230521113544219.png&#34; alt=&#34;image-20230521113544219&#34;&gt;&lt;/p&gt;
&lt;p&gt;å¤šç³»ç»Ÿå³å¯èƒ½æœ‰å¤šä¸ªTomcatï¼Œè€ŒSessionæ˜¯ä¾èµ–å½“å‰ç³»ç»Ÿçš„Tomcatï¼Œæ‰€ä»¥ç³»ç»ŸAçš„Sessionå’Œç³»ç»ŸBçš„Sessionæ˜¯&lt;strong&gt;ä¸å…±äº«&lt;/strong&gt;çš„ã€‚&lt;/p&gt;
&lt;p&gt;è§£å†³ç³»ç»Ÿä¹‹é—´Sessionä¸å…±äº«é—®é¢˜æœ‰ä¸€ä¸‹å‡ ç§æ–¹æ¡ˆï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Tomcaté›†ç¾¤Sessionå…¨å±€å¤åˆ¶ï¼ˆæœ€å¤šæ”¯æŒ5å°tomcatï¼Œä¸æ¨èä½¿ç”¨ï¼‰&lt;/li&gt;
&lt;li&gt;JWT(å¸¸è§)&lt;/li&gt;
&lt;li&gt;Oauth2&lt;/li&gt;
&lt;li&gt;CAS&lt;/li&gt;
&lt;li&gt;è‡ªå·±å®ç°ï¼ˆredis+tokenï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;JWTè§£å†³å•ç‚¹ç™»å½•&#34;&gt;&lt;a href=&#34;#JWTè§£å†³å•ç‚¹ç™»å½•&#34; class=&#34;headerlink&#34; title=&#34;JWTè§£å†³å•ç‚¹ç™»å½•&#34;&gt;&lt;/a&gt;JWTè§£å†³å•ç‚¹ç™»å½•&lt;/h4&gt;&lt;p&gt;ç°åœ¨æœ‰ä¸€ä¸ªå¾®æœåŠ¡çš„ç®€å•æ¶æ„ï¼Œå¦‚å›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230521113906521.png&#34; alt=&#34;image-20230521113906521&#34;&gt;&lt;/p&gt;
&lt;p&gt;ä½¿ç”¨jwtè§£å†³å•ç‚¹ç™»å½•çš„æµç¨‹å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230521113941467.png&#34; alt=&#34;image-20230521113941467&#34;&gt;&lt;/p&gt;
&lt;h4 id=&#34;å›ç­”è¦ç‚¹&#34;&gt;&lt;a href=&#34;#å›ç­”è¦ç‚¹&#34; class=&#34;headerlink&#34; title=&#34;å›ç­”è¦ç‚¹&#34;&gt;&lt;/a&gt;å›ç­”è¦ç‚¹&lt;/h4&gt;&lt;p&gt;1ï¼Œå…ˆè§£é‡Šä»€ä¹ˆæ˜¯å•ç‚¹ç™»å½•&lt;/p&gt;
&lt;p&gt;å•ç‚¹ç™»å½•çš„è‹±æ–‡åå«åšï¼šSingle Sign Onï¼ˆç®€ç§°&lt;strong&gt;SSO&lt;/strong&gt;ï¼‰&lt;/p&gt;
&lt;p&gt;2ï¼Œä»‹ç»è‡ªå·±é¡¹ç›®ä¸­æ¶‰åŠåˆ°çš„å•ç‚¹ç™»å½•ï¼ˆå³ä½¿æ²¡æ¶‰åŠè¿‡ï¼Œä¹Ÿå¯ä»¥è¯´å®ç°çš„æ€è·¯ï¼‰&lt;/p&gt;
&lt;p&gt;3ï¼Œä»‹ç»å•ç‚¹ç™»å½•çš„è§£å†³æ–¹æ¡ˆï¼Œä»¥JWTä¸ºä¾‹&lt;/p&gt;
&lt;p&gt;â€‹	   I.  ç”¨æˆ·è®¿é—®å…¶ä»–ç³»ç»Ÿï¼Œä¼šåœ¨ç½‘å…³åˆ¤æ–­tokenæ˜¯å¦æœ‰æ•ˆ&lt;/p&gt;
&lt;p&gt;â€‹     II.  å¦‚æœtokenæ— æ•ˆåˆ™ä¼šè¿”å›401ï¼ˆè®¤è¯å¤±è´¥ï¼‰å‰ç«¯è·³è½¬åˆ°ç™»å½•é¡µé¢&lt;/p&gt;
&lt;p&gt;â€‹    III.  ç”¨æˆ·å‘é€ç™»å½•è¯·æ±‚ï¼Œè¿”å›æµè§ˆå™¨ä¸€ä¸ªtokenï¼Œæµè§ˆå™¨æŠŠtokenä¿å­˜åˆ°cookie&lt;/p&gt;
&lt;p&gt;â€‹    IV.  å†å»è®¿é—®å…¶ä»–æœåŠ¡çš„æ—¶å€™ï¼Œéƒ½éœ€è¦æºå¸¦tokenï¼Œç”±ç½‘å…³ç»Ÿä¸€éªŒè¯åè·¯ç”±åˆ°ç›®æ ‡æœåŠ¡&lt;/p&gt;
&lt;h3 id=&#34;æƒé™è®¤è¯æ˜¯å¦‚ä½•å®ç°çš„&#34;&gt;&lt;a href=&#34;#æƒé™è®¤è¯æ˜¯å¦‚ä½•å®ç°çš„&#34; class=&#34;headerlink&#34; title=&#34;æƒé™è®¤è¯æ˜¯å¦‚ä½•å®ç°çš„&#34;&gt;&lt;/a&gt;æƒé™è®¤è¯æ˜¯å¦‚ä½•å®ç°çš„&lt;/h3&gt;&lt;h4 id=&#34;æ¦‚è¿°-1&#34;&gt;&lt;a href=&#34;#æ¦‚è¿°-1&#34; class=&#34;headerlink&#34; title=&#34;æ¦‚è¿°&#34;&gt;&lt;/a&gt;æ¦‚è¿°&lt;/h4&gt;&lt;p&gt;åå°çš„ç®¡ç†ç³»ç»Ÿï¼Œæ›´æ³¨é‡æƒé™æ§åˆ¶ï¼Œæœ€å¸¸è§çš„å°±æ˜¯RBACæ¨¡å‹æ¥æŒ‡å¯¼å®ç°æƒé™&lt;/p&gt;
&lt;p&gt;RBAC(Role-Based Access Control)åŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;3ä¸ªåŸºç¡€éƒ¨åˆ†ç»„æˆï¼šç”¨æˆ·ã€è§’è‰²ã€æƒé™&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;å…·ä½“å®ç°&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;5å¼ è¡¨ï¼ˆç”¨æˆ·è¡¨ã€è§’è‰²è¡¨ã€æƒé™è¡¨ã€ç”¨æˆ·è§’è‰²ä¸­é—´è¡¨ã€è§’è‰²æƒé™ä¸­é—´è¡¨ï¼‰&lt;/li&gt;
&lt;li&gt;7å¼ è¡¨ï¼ˆç”¨æˆ·è¡¨ã€è§’è‰²è¡¨ã€æƒé™è¡¨ã€èœå•è¡¨ã€ç”¨æˆ·è§’è‰²ä¸­é—´è¡¨ã€è§’è‰²æƒé™ä¸­é—´è¡¨ã€æƒé™èœå•ä¸­é—´è¡¨ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;RBACæƒé™æ¨¡å‹&#34;&gt;&lt;a href=&#34;#RBACæƒé™æ¨¡å‹&#34; class=&#34;headerlink&#34; title=&#34;RBACæƒé™æ¨¡å‹&#34;&gt;&lt;/a&gt;RBACæƒé™æ¨¡å‹&lt;/h4&gt;&lt;p&gt;æœ€å¸¸è§çš„5å¼ è¡¨çš„å…³ç³»&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230521114305463.png&#34; alt=&#34;image-20230521114305463&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æ•°æ®æµè½¬&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å¼ ä¸‰å…·æœ‰ä»€ä¹ˆæƒé™å‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;æµç¨‹ï¼šå¼ ä¸‰ç™»å½•ç³»ç»Ÿâ€”&amp;gt; æŸ¥è¯¢å¼ ä¸‰æ‹¥æœ‰çš„è§’è‰²åˆ—è¡¨â€”&amp;gt;å†æ ¹æ®è§’è‰²æŸ¥è¯¢æ‹¥æœ‰çš„æƒé™&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230521114432028.png&#34; alt=&#34;image-20230521114432028&#34;&gt;&lt;/p&gt;
&lt;p&gt;åœ¨å®é™…çš„å¼€å‘ä¸­ï¼Œä¹Ÿä¼šä½¿ç”¨æƒé™æ¡†æ¶å®Œæˆæƒé™åŠŸèƒ½çš„å®ç°ï¼Œå¹¶ä¸”è®¾ç½®å¤šç§ç²’åº¦ï¼Œå¸¸è§çš„æ¡†æ¶æœ‰ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Apache shiro  &lt;/li&gt;
&lt;li&gt;Spring securityï¼ˆæ¨èï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;å›ç­”è¦ç‚¹-1&#34;&gt;&lt;a href=&#34;#å›ç­”è¦ç‚¹-1&#34; class=&#34;headerlink&#34; title=&#34;å›ç­”è¦ç‚¹&#34;&gt;&lt;/a&gt;å›ç­”è¦ç‚¹&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;&lt;p&gt;åå°ç®¡ç†ç³»ç»Ÿçš„å¼€å‘ç»éªŒ&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;ä»‹ç»RBACæƒé™æ¨¡å‹5å¼ è¡¨çš„å…³ç³»ï¼ˆç”¨æˆ·ã€è§’è‰²ã€æƒé™ï¼‰&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;æƒé™æ¡†æ¶ï¼šSpring security&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;ä¸Šä¼ æ•°æ®çš„å®‰å…¨æ€§ä½ ä»¬æ€ä¹ˆæ§åˆ¶ï¼Ÿ&#34;&gt;&lt;a href=&#34;#ä¸Šä¼ æ•°æ®çš„å®‰å…¨æ€§ä½ ä»¬æ€ä¹ˆæ§åˆ¶ï¼Ÿ&#34; class=&#34;headerlink&#34; title=&#34;ä¸Šä¼ æ•°æ®çš„å®‰å…¨æ€§ä½ ä»¬æ€ä¹ˆæ§åˆ¶ï¼Ÿ&#34;&gt;&lt;/a&gt;ä¸Šä¼ æ•°æ®çš„å®‰å…¨æ€§ä½ ä»¬æ€ä¹ˆæ§åˆ¶ï¼Ÿ&lt;/h3&gt;&lt;h4 id=&#34;æ¦‚è¿°-2&#34;&gt;&lt;a href=&#34;#æ¦‚è¿°-2&#34; class=&#34;headerlink&#34; title=&#34;æ¦‚è¿°&#34;&gt;&lt;/a&gt;æ¦‚è¿°&lt;/h4&gt;&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230521124717749.png&#34; alt=&#34;image-20230521124717749&#34;&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;è¿™é‡Œçš„å®‰å…¨æ€§ï¼Œä¸»è¦è¯´çš„æ˜¯ï¼Œæµè§ˆå™¨è®¿é—®åå°ï¼Œéœ€è¦ç»è¿‡ç½‘ç»œä¼ è¾“ï¼Œæœ‰å¯èƒ½ä¼šå‡ºç°å®‰å…¨çš„é—®é¢˜&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;è§£å†³æ–¹æ¡ˆï¼šä½¿ç”¨éå¯¹ç§°åŠ å¯†ï¼ˆæˆ–å¯¹ç§°åŠ å¯†ï¼‰ï¼Œç»™å‰ç«¯ä¸€ä¸ªå…¬é’¥è®©ä»–æŠŠæ•°æ®åŠ å¯†åä¼ åˆ°åå°ï¼Œåå°è´Ÿè´£è§£å¯†åå¤„ç†æ•°æ®&lt;/p&gt;
&lt;h4 id=&#34;å¯¹ç§°åŠ å¯†&#34;&gt;&lt;a href=&#34;#å¯¹ç§°åŠ å¯†&#34; class=&#34;headerlink&#34; title=&#34;å¯¹ç§°åŠ å¯†&#34;&gt;&lt;/a&gt;å¯¹ç§°åŠ å¯†&lt;/h4&gt;&lt;p&gt;æ–‡ä»¶åŠ å¯†å’Œè§£å¯†ä½¿ç”¨ç›¸åŒçš„å¯†é’¥ï¼Œå³åŠ å¯†å¯†é’¥ä¹Ÿå¯ä»¥ç”¨ä½œè§£å¯†å¯†é’¥&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230521125012727.png&#34; alt=&#34;image-20230521125012727&#34;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;æ•°æ®å‘ä¿¡æ–¹å°†æ˜æ–‡å’ŒåŠ å¯†å¯†é’¥ä¸€èµ·ç»è¿‡ç‰¹æ®Šçš„åŠ å¯†ç®—æ³•å¤„ç†åï¼Œä½¿å…¶å˜æˆå¤æ‚çš„åŠ å¯†å¯†æ–‡å‘é€å‡ºå»ï¼Œ&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;æ”¶ä¿¡æ–¹æ”¶åˆ°å¯†æ–‡åï¼Œè‹¥æƒ³è§£è¯»å‡ºåŸæ–‡ï¼Œåˆ™éœ€è¦ä½¿ç”¨åŠ å¯†æ—¶ç”¨çš„å¯†é’¥ä»¥åŠç›¸åŒåŠ å¯†ç®—æ³•çš„é€†ç®—æ³•å¯¹å¯†æ–‡è¿›è¡Œè§£å¯†ï¼Œæ‰èƒ½ä½¿å…¶å›å¤æˆå¯è¯»æ˜æ–‡ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;åœ¨å¯¹ç§°åŠ å¯†ç®—æ³•ä¸­ï¼Œä½¿ç”¨çš„å¯†é’¥åªæœ‰ä¸€ä¸ªï¼Œæ”¶å‘åŒæ–¹éƒ½ä½¿ç”¨è¿™ä¸ªå¯†é’¥ï¼Œè¿™å°±éœ€è¦è§£å¯†æ–¹äº‹å…ˆçŸ¥é“åŠ å¯†å¯†é’¥ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;ä¼˜ç‚¹:&lt;/strong&gt;  å¯¹ç§°åŠ å¯†ç®—æ³•çš„ä¼˜ç‚¹æ˜¯ç®—æ³•å…¬å¼€ã€è®¡ç®—é‡å°ã€åŠ å¯†é€Ÿåº¦å¿«ã€åŠ å¯†æ•ˆç‡é«˜ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ç¼ºç‚¹:&lt;/strong&gt;  æ²¡æœ‰éå¯¹ç§°åŠ å¯†å®‰å…¨.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ç”¨é€”ï¼š&lt;/strong&gt; ä¸€èˆ¬ç”¨äºä¿å­˜ç”¨æˆ·æ‰‹æœºå·ã€èº«ä»½è¯ç­‰æ•æ„Ÿä½†èƒ½è§£å¯†çš„ä¿¡æ¯ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å¸¸è§çš„å¯¹ç§°åŠ å¯†ç®—æ³•æœ‰&lt;/strong&gt;: &lt;code&gt;AESã€DESã€3DESã€Blowfishã€IDEAã€RC4ã€RC5ã€RC6ã€HS256 &lt;/code&gt;&lt;/p&gt;
&lt;h4 id=&#34;éå¯¹ç§°åŠ å¯†&#34;&gt;&lt;a href=&#34;#éå¯¹ç§°åŠ å¯†&#34; class=&#34;headerlink&#34; title=&#34;éå¯¹ç§°åŠ å¯†&#34;&gt;&lt;/a&gt;éå¯¹ç§°åŠ å¯†&lt;/h4&gt;&lt;p&gt;ä¸¤ä¸ªå¯†é’¥ï¼šå…¬å¼€å¯†é’¥ï¼ˆpublickeyï¼‰å’Œç§æœ‰å¯†é’¥ï¼Œå…¬æœ‰å¯†é’¥åŠ å¯†ï¼Œç§æœ‰å¯†é’¥è§£å¯†&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230521125136717.png&#34; alt=&#34;image-20230521125136717&#34;&gt;&lt;/p&gt;
&lt;p&gt;è§£é‡Š:  åŒæ—¶ç”Ÿæˆä¸¤æŠŠå¯†é’¥ï¼šç§é’¥å’Œå…¬é’¥ï¼Œç§é’¥éšç§˜ä¿å­˜ï¼Œå…¬é’¥å¯ä»¥ä¸‹å‘ç»™ä¿¡ä»»å®¢æˆ·ç«¯.&lt;/p&gt;
&lt;p&gt;åŠ å¯†ä¸è§£å¯†:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ç§é’¥åŠ å¯†ï¼ŒæŒæœ‰å…¬é’¥æ‰å¯ä»¥è§£å¯†&lt;/li&gt;
&lt;li&gt;å…¬é’¥åŠ å¯†ï¼ŒæŒæœ‰ç§é’¥æ‰å¯è§£å¯†&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ç­¾å:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ç§é’¥ç­¾å,  æŒæœ‰å…¬é’¥è¿›è¡ŒéªŒè¯æ˜¯å¦è¢«ç¯¡æ”¹è¿‡.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;**ä¼˜ç‚¹: ** éå¯¹ç§°åŠ å¯†ä¸å¯¹ç§°åŠ å¯†ç›¸æ¯”ï¼Œå…¶å®‰å…¨æ€§æ›´å¥½ï¼›&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ç¼ºç‚¹:&lt;/strong&gt;  éå¯¹ç§°åŠ å¯†çš„ç¼ºç‚¹æ˜¯åŠ å¯†å’Œè§£å¯†èŠ±è´¹æ—¶é—´é•¿ã€é€Ÿåº¦æ…¢ï¼Œåªé€‚åˆå¯¹å°‘é‡æ•°æ®è¿›è¡ŒåŠ å¯†ã€‚&lt;br&gt;&lt;strong&gt;ç”¨é€”ï¼š&lt;/strong&gt; ä¸€èˆ¬ç”¨äºç­¾åå’Œè®¤è¯ã€‚ç§é’¥æœåŠ¡å™¨ä¿å­˜, ç”¨æ¥åŠ å¯†,  å…¬é’¥å®¢æˆ·æ‹¿ç€ç”¨äºå¯¹äºä»¤ç‰Œæˆ–è€…ç­¾åçš„è§£å¯†æˆ–è€…æ ¡éªŒä½¿ç”¨.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å¸¸è§çš„éå¯¹ç§°åŠ å¯†ç®—æ³•æœ‰ï¼š&lt;/strong&gt; RSAã€DSAï¼ˆæ•°å­—ç­¾åç”¨ï¼‰ã€ECCï¼ˆç§»åŠ¨è®¾å¤‡ç”¨ï¼‰ã€RS256 (é‡‡ç”¨SHA-256 çš„ RSA ç­¾å) &lt;/p&gt;
&lt;h4 id=&#34;å›ç­”è¦ç‚¹-2&#34;&gt;&lt;a href=&#34;#å›ç­”è¦ç‚¹-2&#34; class=&#34;headerlink&#34; title=&#34;å›ç­”è¦ç‚¹&#34;&gt;&lt;/a&gt;å›ç­”è¦ç‚¹&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;ä½¿ç”¨éå¯¹ç§°åŠ å¯†ï¼ˆæˆ–å¯¹ç§°åŠ å¯†ï¼‰ï¼Œç»™å‰ç«¯ä¸€ä¸ªå…¬é’¥è®©ä»–æŠŠæ•°æ®åŠ å¯†åä¼ åˆ°åå°ï¼Œåå°è§£å¯†åå¤„ç†æ•°æ®&lt;ul&gt;
&lt;li&gt;ä¼ è¾“çš„æ•°æ®å¾ˆå¤§å»ºè®®ä½¿ç”¨å¯¹ç§°åŠ å¯†ï¼Œä¸è¿‡ä¸èƒ½ä¿å­˜æ•æ„Ÿä¿¡æ¯&lt;/li&gt;
&lt;li&gt;ä¼ è¾“çš„æ•°æ®è¾ƒå°ï¼Œè¦æ±‚å®‰å…¨æ€§é«˜ï¼Œå»ºè®®é‡‡ç”¨éå¯¹ç§°åŠ å¯†&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;ä½ è´Ÿè´£é¡¹ç›®çš„æ—¶å€™é‡åˆ°äº†å“ªäº›æ¯”è¾ƒæ£˜æ‰‹çš„é—®é¢˜&#34;&gt;&lt;a href=&#34;#ä½ è´Ÿè´£é¡¹ç›®çš„æ—¶å€™é‡åˆ°äº†å“ªäº›æ¯”è¾ƒæ£˜æ‰‹çš„é—®é¢˜&#34; class=&#34;headerlink&#34; title=&#34;ä½ è´Ÿè´£é¡¹ç›®çš„æ—¶å€™é‡åˆ°äº†å“ªäº›æ¯”è¾ƒæ£˜æ‰‹çš„é—®é¢˜&#34;&gt;&lt;/a&gt;ä½ è´Ÿè´£é¡¹ç›®çš„æ—¶å€™é‡åˆ°äº†å“ªäº›æ¯”è¾ƒæ£˜æ‰‹çš„é—®é¢˜&lt;/h3&gt;&lt;p&gt;è¿™ä¸ªé¢è¯•é¢˜ä¸»è¦è€ƒå¯Ÿçš„æ˜¯ï¼Œ&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä½ æ˜¯å¦æœ‰è¿‡å¼€å‘ç»éªŒ&lt;/li&gt;
&lt;li&gt;æ˜¯å¦æ˜¯æ ¸å¿ƒå¼€å‘äººå‘˜&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æœ‰4ä¸ªæ–¹é¢å¯ä»¥å›ç­”ï¼Œåªè¦æŒ‘å‡ºä¸€ä¸ªå›ç­”å°±è¡Œäº†&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ï¼ˆ1ï¼‰è®¾è®¡æ¨¡å¼&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å·¥å‚æ¨¡å¼+ç­–ç•¥&lt;/li&gt;
&lt;li&gt;è´£ä»»é“¾æ¨¡å¼&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;å›ç­”æ€è·¯&lt;/p&gt;
&lt;p&gt;1ï¼Œä»€ä¹ˆèƒŒæ™¯ï¼ˆæŠ€æœ¯é—®é¢˜ï¼‰&lt;/p&gt;
&lt;p&gt;2ï¼Œè¿‡ç¨‹ï¼ˆè§£å†³é—®é¢˜çš„è¿‡ç¨‹ï¼‰&lt;/p&gt;
&lt;p&gt;3ï¼Œæœ€ç»ˆè½åœ°æ–¹æ¡ˆ&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ä¸¾ä¾‹ï¼š&lt;/p&gt;
&lt;p&gt;â‘ ï¼šä»‹ç»ç™»å½•ä¸šåŠ¡ï¼ˆä¸€å¼€å§‹æ²¡æœ‰ç”¨è®¾è®¡æ¨¡å¼ï¼Œæ‰€æœ‰çš„ç™»å½•æ–¹å¼éƒ½æŸ”å’Œåœ¨ä¸€ä¸ªä¸šåŠ¡ç±»ä¸­ï¼Œä¸è¿‡ï¼Œå‘ç°éœ€æ±‚ç»å¸¸æ”¹ï¼‰&lt;/p&gt;
&lt;p&gt;â‘¡ï¼šç™»å½•æ–¹å¼ç»å¸¸ä¼šå¢åŠ æˆ–æ›´æ¢ï¼Œæ¯æ¬¡éƒ½è¦ä¿®æ”¹ä¸šåŠ¡å±‚ä»£ç ï¼Œæ‰€ä»¥ï¼Œç»è¿‡æˆ‘çš„è®¾è®¡ï¼Œä½¿ç”¨äº†å·¥å‚è®¾è®¡æ¨¡å¼å’Œç­–ç•¥æ¨¡å¼ï¼Œè§£å†³äº†ï¼Œç»å¸¸ä¿®æ”¹ä¸šåŠ¡å±‚ä»£ç çš„é—®é¢˜&lt;/p&gt;
&lt;p&gt;â‘¢ï¼šè¯¦ç»†ä»‹ç»ä¸€ä¸‹å·¥å‚æ¨¡å¼å’Œç­–ç•¥æ¨¡å¼ï¼ˆå‚è€ƒå‰é¢è®¾è®¡æ¨¡å¼çš„è¯¾ç¨‹ï¼‰&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ï¼ˆ2ï¼‰çº¿ä¸ŠBUG&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;CPUé£™é«˜&lt;/li&gt;
&lt;li&gt;å†…å­˜æ³„æ¼&lt;/li&gt;
&lt;li&gt;çº¿ç¨‹æ­»é”&lt;/li&gt;
&lt;li&gt;â€¦.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å›ç­”æ–¹å¼å‚è€ƒä¸Šé¢çš„å›ç­”æ€è·¯ï¼Œå…·ä½“é—®é¢˜å¯ä»¥å‚è€ƒå‰é¢çš„è¯¾ç¨‹ï¼ˆJVMå’Œå¤šçº¿ç¨‹ç›¸å…³çš„é¢è¯•é¢˜ï¼‰&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ï¼ˆ3ï¼‰è°ƒä¼˜&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ…¢æ¥å£&lt;/li&gt;
&lt;li&gt;æ…¢SQL&lt;/li&gt;
&lt;li&gt;ç¼“å­˜æ–¹æ¡ˆ&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;ï¼ˆ4ï¼‰ç»„ä»¶å°è£…&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;åˆ†å¸ƒå¼é”&lt;/li&gt;
&lt;li&gt;æ¥å£å¹‚ç­‰&lt;/li&gt;
&lt;li&gt;åˆ†å¸ƒå¼äº‹åŠ¡&lt;/li&gt;
&lt;li&gt;æ”¯ä»˜é€šç”¨&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;ä½ ä»¬é¡¹ç›®ä¸­æ—¥å¿—æ€ä¹ˆé‡‡é›†çš„&#34;&gt;&lt;a href=&#34;#ä½ ä»¬é¡¹ç›®ä¸­æ—¥å¿—æ€ä¹ˆé‡‡é›†çš„&#34; class=&#34;headerlink&#34; title=&#34;ä½ ä»¬é¡¹ç›®ä¸­æ—¥å¿—æ€ä¹ˆé‡‡é›†çš„&#34;&gt;&lt;/a&gt;ä½ ä»¬é¡¹ç›®ä¸­æ—¥å¿—æ€ä¹ˆé‡‡é›†çš„&lt;/h3&gt;&lt;h4 id=&#34;é—®é¢˜&#34;&gt;&lt;a href=&#34;#é—®é¢˜&#34; class=&#34;headerlink&#34; title=&#34;é—®é¢˜&#34;&gt;&lt;/a&gt;é—®é¢˜&lt;/h4&gt;&lt;p&gt;1ï¼Œä¸ºä»€ä¹ˆè¦é‡‡é›†æ—¥å¿—ï¼Ÿ&lt;/p&gt;
&lt;p&gt;æ—¥å¿—æ˜¯å®šä½ç³»ç»Ÿé—®é¢˜çš„é‡è¦æ‰‹æ®µï¼Œå¯ä»¥æ ¹æ®æ—¥å¿—ä¿¡æ¯å¿«é€Ÿå®šä½ç³»ç»Ÿä¸­çš„é—®é¢˜&lt;/p&gt;
&lt;p&gt;2ï¼Œé‡‡é›†æ—¥å¿—çš„æ–¹å¼æœ‰å“ªäº›?&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;ELKï¼šå³Elasticsearchã€Logstashå’ŒKibanaä¸‰ä¸ªè½¯ä»¶çš„é¦–å­—æ¯&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;å¸¸è§„é‡‡é›†ï¼šæŒ‰å¤©ä¿å­˜åˆ°ä¸€ä¸ªæ—¥å¿—æ–‡ä»¶&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230521232726959.png&#34; alt=&#34;image-20230521232726959&#34;&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;ELKåŸºæœ¬æ¶æ„&#34;&gt;&lt;a href=&#34;#ELKåŸºæœ¬æ¶æ„&#34; class=&#34;headerlink&#34; title=&#34;ELKåŸºæœ¬æ¶æ„&#34;&gt;&lt;/a&gt;ELKåŸºæœ¬æ¶æ„&lt;/h4&gt;&lt;p&gt;ELKå³Elasticsearchã€Logstashå’ŒKibanaä¸‰ä¸ªå¼€æºè½¯ä»¶çš„ç¼©å†™&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230521232913086.png&#34; alt=&#34;image-20230521232913086&#34;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Elasticsearch&lt;br&gt;Elasticsearch  å…¨æ–‡æœç´¢å’Œåˆ†æå¼•æ“ï¼Œå¯¹å¤§å®¹é‡çš„æ•°æ®è¿›è¡Œæ¥è¿‘å®æ—¶çš„å­˜å‚¨ã€æœç´¢å’Œåˆ†ææ“ä½œã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Logstash&lt;br&gt;Logstashæ˜¯ä¸€ä¸ªæ•°æ®æ”¶é›†å¼•æ“ï¼Œå®ƒå¯ä»¥åŠ¨æ€çš„ä»å„ç§æ•°æ®æºæœé›†æ•°æ®ï¼Œå¹¶å¯¹æ•°æ®è¿›è¡Œè¿‡æ»¤ã€åˆ†æå’Œç»Ÿä¸€æ ¼å¼ç­‰æ“ä½œï¼Œå¹¶å°†è¾“å‡ºç»“æœå­˜å‚¨åˆ°æŒ‡å®šä½ç½®ä¸Š&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Kibana&lt;br&gt;Kibanaæ˜¯ä¸€ä¸ªæ•°æ®åˆ†æå’Œå¯è§†åŒ–å¹³å°ï¼Œé€šå¸¸ä¸Elasticsearché…åˆä½¿ç”¨ï¼Œç”¨äºå¯¹å…¶ä¸­çš„æ•°æ®è¿›è¡Œæœç´¢ã€åˆ†æï¼Œå¹¶ä¸”ä»¥ç»Ÿè®¡å›¾æ ‡çš„å½¢å¼å±•ç¤ºã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;å‚è€ƒå›ç­”&#34;&gt;&lt;a href=&#34;#å‚è€ƒå›ç­”&#34; class=&#34;headerlink&#34; title=&#34;å‚è€ƒå›ç­”&#34;&gt;&lt;/a&gt;å‚è€ƒå›ç­”&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;&lt;p&gt;æˆ‘ä»¬æ­å»ºäº†ELKæ—¥å¿—é‡‡é›†ç³»ç»Ÿ&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;ä»‹ç»ELKçš„ä¸‰ä¸ªç»„ä»¶ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Elasticsearchæ˜¯å…¨æ–‡æœç´¢åˆ†æå¼•æ“ï¼Œå¯ä»¥å¯¹æ•°æ®å­˜å‚¨ã€æœç´¢ã€åˆ†æ&lt;/li&gt;
&lt;li&gt;Logstashæ˜¯ä¸€ä¸ªæ•°æ®æ”¶é›†å¼•æ“ï¼Œå¯ä»¥åŠ¨æ€æ”¶é›†æ•°æ®ï¼Œå¯ä»¥å¯¹æ•°æ®è¿›è¡Œè¿‡æ»¤ã€åˆ†æï¼Œå°†æ•°æ®å­˜å‚¨åˆ°æŒ‡å®šçš„ä½ç½®&lt;/li&gt;
&lt;li&gt;Kibanaæ˜¯ä¸€ä¸ªæ•°æ®åˆ†æå’Œå¯è§†åŒ–å¹³å°ï¼Œé…åˆElasticsearchå¯¹æ•°æ®è¿›è¡Œæœç´¢ï¼Œåˆ†æï¼Œå›¾è¡¨åŒ–å±•ç¤º&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;æŸ¥çœ‹æ—¥å¿—çš„å‘½ä»¤&#34;&gt;&lt;a href=&#34;#æŸ¥çœ‹æ—¥å¿—çš„å‘½ä»¤&#34; class=&#34;headerlink&#34; title=&#34;æŸ¥çœ‹æ—¥å¿—çš„å‘½ä»¤&#34;&gt;&lt;/a&gt;æŸ¥çœ‹æ—¥å¿—çš„å‘½ä»¤&lt;/h3&gt;&lt;p&gt;ç›®å‰é‡‡é›†æ—¥å¿—çš„æ–¹å¼ï¼šæŒ‰å¤©ä¿å­˜åˆ°ä¸€ä¸ªæ—¥å¿—æ–‡ä»¶&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230521233150276.png&#34; alt=&#34;image-20230521233150276&#34;&gt;&lt;/p&gt;
&lt;p&gt;ä¹Ÿå¯ä»¥åœ¨logbacké…ç½®æ–‡ä»¶ä¸­è®¾ç½®æ—¥å¿—çš„ç›®å½•å’Œåå­—&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230521233220905.png&#34; alt=&#34;image-20230521233220905&#34;&gt;&lt;/p&gt;
&lt;p&gt;éœ€è¦æŒæ¡çš„Linuxä¸­çš„æ—¥å¿—ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;å®æ—¶ç›‘æ§æ—¥å¿—çš„å˜åŒ–&lt;/p&gt;
&lt;p&gt;å®æ—¶ç›‘æ§æŸä¸€ä¸ªæ—¥å¿—æ–‡ä»¶çš„å˜åŒ–ï¼štail -f xx.logï¼›å®æ—¶ç›‘æ§æ—¥å¿—æœ€å100è¡Œæ—¥å¿—ï¼š tail â€“n 100 -f xx.log&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;æŒ‰ç…§è¡Œå·æŸ¥è¯¢&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;æŸ¥è¯¢æ—¥å¿—å°¾éƒ¨æœ€å100è¡Œæ—¥å¿—ï¼štail â€“ n 100 xx.log&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;æŸ¥è¯¢æ—¥å¿—å¤´éƒ¨å¼€å§‹100è¡Œæ—¥å¿—ï¼šhead â€“n 100 xx.log&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;æŸ¥è¯¢æŸä¸€ä¸ªæ—¥å¿—è¡Œå·åŒºé—´ï¼šcat -n xx.log | tail -n +100 | head -n 100 (æŸ¥è¯¢100è¡Œè‡³200è¡Œçš„æ—¥å¿—)&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;æŒ‰ç…§å…³é”®å­—æ‰¾æ—¥å¿—çš„ä¿¡æ¯&lt;/p&gt;
&lt;p&gt;æŸ¥è¯¢æ—¥å¿—æ–‡ä»¶ä¸­åŒ…å«debugçš„æ—¥å¿—è¡Œå·ï¼šcat -n xx.log | grep â€œdebugâ€&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;æŒ‰ç…§æ—¥æœŸæŸ¥è¯¢&lt;/p&gt;
&lt;p&gt;sed -n â€˜&amp;#x2F;2023-05-18 14:22:31.070&amp;#x2F;,&amp;#x2F; 2023-05-18 14:27:14.158&amp;#x2F;pâ€™xx.log &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;æ—¥å¿—å¤ªå¤šï¼Œå¤„ç†æ–¹å¼&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;åˆ†é¡µæŸ¥è¯¢æ—¥å¿—ä¿¡æ¯ï¼šcat -n xx.log |grep â€œdebugâ€ | more&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;ç­›é€‰è¿‡æ»¤ä»¥åï¼Œè¾“å‡ºåˆ°ä¸€ä¸ªæ–‡ä»¶ï¼šcat -n xx.log | grep â€œdebugâ€ &amp;gt;debug.txt&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;ç”Ÿäº§é—®é¢˜æ€ä¹ˆæ’æŸ¥&#34;&gt;&lt;a href=&#34;#ç”Ÿäº§é—®é¢˜æ€ä¹ˆæ’æŸ¥&#34; class=&#34;headerlink&#34; title=&#34;ç”Ÿäº§é—®é¢˜æ€ä¹ˆæ’æŸ¥&#34;&gt;&lt;/a&gt;ç”Ÿäº§é—®é¢˜æ€ä¹ˆæ’æŸ¥&lt;/h3&gt;&lt;p&gt;å·²ç»ä¸Šçº¿çš„bugæ’æŸ¥çš„æ€è·¯ï¼š&lt;/p&gt;
&lt;p&gt;1ï¼Œå…ˆåˆ†ææ—¥å¿—ï¼Œé€šå¸¸åœ¨ä¸šåŠ¡ä¸­éƒ½ä¼šæœ‰æ—¥å¿—çš„è®°å½•ï¼Œæˆ–è€…æŸ¥çœ‹ç³»ç»Ÿæ—¥å¿—ï¼Œæˆ–è€…æŸ¥çœ‹æ—¥å¿—æ–‡ä»¶ï¼Œç„¶åå®šä½é—®é¢˜&lt;/p&gt;
&lt;p&gt;2ï¼Œè¿œç¨‹debug(é€šå¸¸å…¬å¸çš„æ­£å¼ç¯å¢ƒï¼ˆç”Ÿäº§ç¯å¢ƒï¼‰æ˜¯ä¸å…è®¸è¿œç¨‹debugçš„ã€‚ä¸€èˆ¬è¿œç¨‹debugéƒ½æ˜¯å…¬å¸çš„æµ‹è¯•ç¯å¢ƒï¼Œæ–¹ä¾¿è°ƒè¯•ä»£ç )&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;è¿œç¨‹debugé…ç½®&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å‰ææ¡ä»¶ï¼š&lt;strong&gt;è¿œç¨‹çš„ä»£ç å’Œæœ¬åœ°çš„ä»£ç è¦ä¿æŒä¸€è‡´&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;1.è¿œç¨‹ä»£ç éœ€è¦é…ç½®å¯åŠ¨å‚æ•°ï¼ŒæŠŠé¡¹ç›®æ‰“åŒ…æ”¾åˆ°æœåŠ¡å™¨åå¯åŠ¨é¡¹ç›®çš„å‚æ•°ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;shell&#34;&gt;java -jar -agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=5005 project-1.0-SNAPSHOT.jar
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;-agentlib:jdwp&lt;/strong&gt;  æ˜¯é€šçŸ¥JVMä½¿ç”¨(java debug wire protocol)æ¥è¿è¡Œè°ƒè¯•ç¯å¢ƒ&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;transport&amp;#x3D;dt_socket&lt;/strong&gt;  è°ƒè¯•æ•°æ®çš„ä¼ é€æ–¹å¼&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;server&amp;#x3D;y&lt;/strong&gt;  å‚æ•°æ˜¯æŒ‡æ˜¯å¦æ”¯æŒåœ¨serveræ¨¡å¼&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;suspend&amp;#x3D;n&lt;/strong&gt; æ˜¯å¦åœ¨è°ƒè¯•å®¢æˆ·ç«¯å»ºç«‹èµ·æ¥åï¼Œå†æ‰§è¡ŒJVMã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;address&amp;#x3D;5005&lt;/strong&gt;  è°ƒè¯•ç«¯å£è®¾ç½®ä¸º5005ï¼Œå…¶å®ƒç«¯å£ä¹Ÿå¯ä»¥&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;2.ideaä¸­è®¾ç½®è¿œç¨‹debugï¼Œæ‰¾åˆ°ideaä¸­çš„ Edit Configurationsâ€¦&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230521233554657.png&#34; alt=&#34;image-20230521233554657&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230521233600556.png&#34; alt=&#34;image-20230521233600556&#34;&gt;&lt;/p&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;ideaä¸­å¯åŠ¨è¿œç¨‹debug&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230521233715574.png&#34; alt=&#34;image-20230521233715574&#34;&gt;&lt;/li&gt;
&lt;li&gt;è®¿é—®è¿œç¨‹æœåŠ¡å™¨ï¼Œåœ¨æœ¬åœ°ä»£ç ä¸­æ‰“æ–­ç‚¹å³å¯è°ƒè¯•è¿œç¨‹&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;æ€ä¹ˆå¿«é€Ÿå®šä½ç³»ç»Ÿçš„ç“¶é¢ˆ&#34;&gt;&lt;a href=&#34;#æ€ä¹ˆå¿«é€Ÿå®šä½ç³»ç»Ÿçš„ç“¶é¢ˆ&#34; class=&#34;headerlink&#34; title=&#34;æ€ä¹ˆå¿«é€Ÿå®šä½ç³»ç»Ÿçš„ç“¶é¢ˆ&#34;&gt;&lt;/a&gt;æ€ä¹ˆå¿«é€Ÿå®šä½ç³»ç»Ÿçš„ç“¶é¢ˆ&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;&lt;p&gt;å‹æµ‹ï¼ˆæ€§èƒ½æµ‹è¯•ï¼‰ï¼Œé¡¹ç›®ä¸Šçº¿ä¹‹å‰æµ‹è¯„ç³»ç»Ÿçš„å‹åŠ›&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å‹æµ‹ç›®çš„ï¼šç»™å‡ºç³»ç»Ÿå½“å‰çš„æ€§èƒ½çŠ¶å†µï¼›å®šä½ç³»ç»Ÿæ€§èƒ½ç“¶é¢ˆæˆ–æ½œåœ¨æ€§èƒ½ç“¶é¢ˆ&lt;/li&gt;
&lt;li&gt;æŒ‡æ ‡ï¼šå“åº”æ—¶é—´ã€ QPSã€å¹¶å‘æ•°ã€ååé‡ã€ CPUåˆ©ç”¨ç‡ã€å†…å­˜ä½¿ç”¨ç‡ã€ç£ç›˜IOã€é”™è¯¯ç‡&lt;/li&gt;
&lt;li&gt;å‹æµ‹å·¥å…·ï¼šLoadRunnerã€Apache Jmeter â€¦&lt;/li&gt;
&lt;li&gt;åç«¯å·¥ç¨‹å¸ˆï¼šæ ¹æ®å‹æµ‹çš„ç»“æœè¿›è¡Œè§£å†³æˆ–è°ƒä¼˜ï¼ˆæ¥å£æ…¢ã€ä»£ç æŠ¥é”™ã€å¹¶å‘è¾¾ä¸åˆ°è¦æ±‚â€¦ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;ç›‘æ§å·¥å…·ã€é“¾è·¯è¿½è¸ªå·¥å…·ï¼Œé¡¹ç›®ä¸Šçº¿ä¹‹åç›‘æ§&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ç›‘æ§å·¥å…·ï¼šPrometheus+Grafana&lt;/li&gt;
&lt;li&gt;é“¾è·¯è¿½è¸ªå·¥å…·ï¼šskywalkingã€Zipkin&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;çº¿ä¸Šè¯Šæ–­å·¥å…·Arthas(é˜¿å°”è¨æ–¯)ï¼Œé¡¹ç›®ä¸Šçº¿ä¹‹åç›‘æ§ã€æ’æŸ¥&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;å®˜ç½‘ï¼š&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9hcnRoYXMuYWxpeXVuLmNvbS8=&#34;&gt;https://arthas.aliyun.com/&lt;/span&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;æ ¸å¿ƒåŠŸèƒ½ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230521233926897.png&#34; alt=&#34;image-20230521233926897&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230521233934644.png&#34; alt=&#34;image-20230521233934644&#34;&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
</content>
        <category term="é¢ç»" scheme="https://anoxiahub.github.io/categories/interview/" />
        <category term="é¡¹ç›®" scheme="https://anoxiahub.github.io/tags/%E9%A1%B9%E7%9B%AE/" />
        <updated>2023-08-14T16:00:00.000Z</updated>
    </entry>
    <entry>
        <id>https://anoxiahub.github.io/java/JUC%E8%AF%A6%E8%A7%A3/</id>
        <title>JUCè¯¦è§£</title>
        <link rel="alternate" href="https://anoxiahub.github.io/java/JUC%E8%AF%A6%E8%A7%A3/"/>
        <content type="html">&lt;p&gt;&lt;code&gt; æ–‡æ¡£è¯´æ˜&lt;/code&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;åœ¨æ–‡æ¡£ä¸­å¯¹æ‰€æœ‰çš„é¢è¯•é¢˜éƒ½è¿›è¡Œäº†&lt;strong&gt;éš¾æ˜“ç¨‹åº¦&lt;/strong&gt;å’Œ&lt;strong&gt;å‡ºç°é¢‘ç‡&lt;/strong&gt;çš„ç­‰çº§è¯´æ˜&lt;/p&gt;
&lt;p&gt;æ˜Ÿæ•°è¶Šå¤šä»£è¡¨æƒé‡è¶Šå¤§ï¼Œæœ€å¤šäº”é¢—æ˜Ÿï¼ˆâ˜†â˜†â˜†â˜†â˜†ï¼‰ æœ€å°‘ä¸€é¢—æ˜Ÿï¼ˆâ˜†ï¼‰&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;çº¿ç¨‹çš„åŸºç¡€çŸ¥è¯†&#34;&gt;&lt;a href=&#34;#çº¿ç¨‹çš„åŸºç¡€çŸ¥è¯†&#34; class=&#34;headerlink&#34; title=&#34;çº¿ç¨‹çš„åŸºç¡€çŸ¥è¯†&#34;&gt;&lt;/a&gt;çº¿ç¨‹çš„åŸºç¡€çŸ¥è¯†&lt;/h2&gt;&lt;h3 id=&#34;çº¿ç¨‹å’Œè¿›ç¨‹çš„åŒºåˆ«ï¼Ÿ&#34;&gt;&lt;a href=&#34;#çº¿ç¨‹å’Œè¿›ç¨‹çš„åŒºåˆ«ï¼Ÿ&#34; class=&#34;headerlink&#34; title=&#34;çº¿ç¨‹å’Œè¿›ç¨‹çš„åŒºåˆ«ï¼Ÿ&#34;&gt;&lt;/a&gt;çº¿ç¨‹å’Œè¿›ç¨‹çš„åŒºåˆ«ï¼Ÿ&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;éš¾æ˜“ç¨‹åº¦ï¼šâ˜†â˜†&lt;/p&gt;
&lt;p&gt;å‡ºç°é¢‘ç‡ï¼šâ˜†â˜†â˜†&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ç¨‹åºç”±æŒ‡ä»¤å’Œæ•°æ®ç»„æˆï¼Œä½†è¿™äº›æŒ‡ä»¤è¦è¿è¡Œï¼Œæ•°æ®è¦è¯»å†™ï¼Œå°±å¿…é¡»å°†æŒ‡ä»¤åŠ è½½è‡³ CPUï¼Œæ•°æ®åŠ è½½è‡³å†…å­˜ã€‚åœ¨æŒ‡ä»¤è¿è¡Œè¿‡ç¨‹ä¸­è¿˜éœ€è¦ç”¨åˆ°ç£ç›˜ã€ç½‘ç»œç­‰è®¾å¤‡ã€‚è¿›ç¨‹å°±æ˜¯ç”¨æ¥åŠ è½½æŒ‡ä»¤ã€ç®¡ç†å†…å­˜ã€ç®¡ç† IO çš„ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å½“ä¸€ä¸ªç¨‹åºè¢«è¿è¡Œï¼Œä»ç£ç›˜åŠ è½½è¿™ä¸ªç¨‹åºçš„ä»£ç è‡³å†…å­˜ï¼Œè¿™æ—¶å°±å¼€å¯äº†ä¸€ä¸ªè¿›ç¨‹ã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20221026105350827.png&#34; alt=&#34;image-20221026105350827&#34;&gt;&lt;/p&gt;
&lt;p&gt;ä¸€ä¸ªè¿›ç¨‹ä¹‹å†…å¯ä»¥åˆ†ä¸ºä¸€åˆ°å¤šä¸ªçº¿ç¨‹ã€‚&lt;/p&gt;
&lt;p&gt;ä¸€ä¸ªçº¿ç¨‹å°±æ˜¯ä¸€ä¸ªæŒ‡ä»¤æµï¼Œå°†æŒ‡ä»¤æµä¸­çš„ä¸€æ¡æ¡æŒ‡ä»¤ä»¥ä¸€å®šçš„é¡ºåºäº¤ç»™ CPU æ‰§è¡Œ&lt;/p&gt;
&lt;p&gt;Java ä¸­ï¼Œçº¿ç¨‹ä½œä¸ºæœ€å°è°ƒåº¦å•ä½ï¼Œè¿›ç¨‹ä½œä¸ºèµ„æºåˆ†é…çš„æœ€å°å•ä½ã€‚åœ¨ windows ä¸­è¿›ç¨‹æ˜¯ä¸æ´»åŠ¨çš„ï¼Œåªæ˜¯ä½œä¸ºçº¿ç¨‹çš„å®¹å™¨&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20221026105442158.png&#34; alt=&#34;image-20221026105442158&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;äºŒè€…å¯¹æ¯”&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è¿›ç¨‹æ˜¯æ­£åœ¨è¿è¡Œç¨‹åºçš„å®ä¾‹ï¼Œè¿›ç¨‹ä¸­åŒ…å«äº†çº¿ç¨‹ï¼Œæ¯ä¸ªçº¿ç¨‹æ‰§è¡Œä¸åŒçš„ä»»åŠ¡&lt;/li&gt;
&lt;li&gt;ä¸åŒçš„è¿›ç¨‹ä½¿ç”¨ä¸åŒçš„å†…å­˜ç©ºé—´ï¼Œåœ¨å½“å‰è¿›ç¨‹ä¸‹çš„æ‰€æœ‰çº¿ç¨‹å¯ä»¥å…±äº«å†…å­˜ç©ºé—´&lt;/li&gt;
&lt;li&gt;çº¿ç¨‹æ›´è½»é‡ï¼Œçº¿ç¨‹ä¸Šä¸‹æ–‡åˆ‡æ¢æˆæœ¬ä¸€èˆ¬ä¸Šè¦æ¯”è¿›ç¨‹ä¸Šä¸‹æ–‡åˆ‡æ¢ä½(ä¸Šä¸‹æ–‡åˆ‡æ¢æŒ‡çš„æ˜¯ä»ä¸€ä¸ªçº¿ç¨‹åˆ‡æ¢åˆ°å¦ä¸€ä¸ªçº¿ç¨‹)&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;å¹¶è¡Œå’Œå¹¶å‘æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ&#34;&gt;&lt;a href=&#34;#å¹¶è¡Œå’Œå¹¶å‘æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ&#34; class=&#34;headerlink&#34; title=&#34;å¹¶è¡Œå’Œå¹¶å‘æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ&#34;&gt;&lt;/a&gt;å¹¶è¡Œå’Œå¹¶å‘æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;éš¾æ˜“ç¨‹åº¦ï¼šâ˜†&lt;/p&gt;
&lt;p&gt;å‡ºç°é¢‘ç‡ï¼šâ˜†&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;å•æ ¸CPU&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;å•æ ¸CPUä¸‹çº¿ç¨‹å®é™…è¿˜æ˜¯ä¸²è¡Œæ‰§è¡Œçš„&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;æ“ä½œç³»ç»Ÿä¸­æœ‰ä¸€ä¸ªç»„ä»¶å«åšä»»åŠ¡è°ƒåº¦å™¨ï¼Œå°†cpuçš„æ—¶é—´ç‰‡ï¼ˆwindowsä¸‹æ—¶é—´ç‰‡æœ€å°çº¦ä¸º 15 æ¯«ç§’ï¼‰åˆ†ç»™ä¸åŒçš„ç¨‹åºä½¿ç”¨ï¼Œåªæ˜¯ç”±äºcpuåœ¨çº¿ç¨‹é—´ï¼ˆæ—¶é—´ç‰‡å¾ˆçŸ­ï¼‰çš„åˆ‡æ¢éå¸¸å¿«ï¼Œäººç±»æ„Ÿè§‰æ˜¯åŒæ—¶è¿è¡Œçš„ ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;æ€»ç»“ä¸ºä¸€å¥è¯å°±æ˜¯ï¼š å¾®è§‚ä¸²è¡Œï¼Œå®è§‚å¹¶è¡Œ&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä¸€èˆ¬ä¼šå°†è¿™ç§çº¿ç¨‹è½®æµä½¿ç”¨CPUçš„åšæ³•ç§°ä¸ºå¹¶å‘ï¼ˆconcurrentï¼‰&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230503203246348.png&#34; alt=&#34;image-20230503203246348&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20221026105607248.png&#34; alt=&#34;image-20221026105607248&#34;&gt;&lt;/p&gt;
&lt;p&gt;å¤šæ ¸CPU&lt;/p&gt;
&lt;p&gt;æ¯ä¸ªæ ¸ï¼ˆcoreï¼‰éƒ½å¯ä»¥è°ƒåº¦è¿è¡Œçº¿ç¨‹ï¼Œè¿™æ—¶å€™çº¿ç¨‹å¯ä»¥æ˜¯å¹¶è¡Œçš„ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230503203330700.png&#34; alt=&#34;image-20230503203330700&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å¹¶å‘ï¼ˆconcurrentï¼‰æ˜¯åŒä¸€æ—¶é—´åº”å¯¹ï¼ˆdealing withï¼‰å¤šä»¶äº‹æƒ…çš„èƒ½åŠ›&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å¹¶è¡Œï¼ˆparallelï¼‰æ˜¯åŒä¸€æ—¶é—´åŠ¨æ‰‹åšï¼ˆdoingï¼‰å¤šä»¶äº‹æƒ…çš„èƒ½åŠ›&lt;/strong&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ä¸¾ä¾‹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;å®¶åº­ä¸»å¦‡åšé¥­ã€æ‰“æ‰«å«ç”Ÿã€ç»™å­©å­å–‚å¥¶ï¼Œå¥¹ä¸€ä¸ªäººè½®æµäº¤æ›¿åšè¿™å¤šä»¶äº‹ï¼Œè¿™æ—¶å°±æ˜¯å¹¶å‘&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;å®¶åº­ä¸»å¦‡é›‡äº†ä¸ªä¿å§†ï¼Œå¥¹ä»¬ä¸€èµ·è¿™äº›äº‹ï¼Œè¿™æ—¶æ—¢æœ‰å¹¶å‘ï¼Œä¹Ÿæœ‰å¹¶è¡Œï¼ˆè¿™æ—¶ä¼šäº§ç”Ÿç«äº‰ï¼Œä¾‹å¦‚é”…åªæœ‰ä¸€å£ï¼Œä¸€ä¸ªäººç”¨é”…æ—¶ï¼Œå¦ä¸€ä¸ªäººå°±å¾—ç­‰å¾…ï¼‰&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;é›‡äº†3ä¸ªä¿å§†ï¼Œä¸€ä¸ªä¸“åšé¥­ã€ä¸€ä¸ªä¸“æ‰“æ‰«å«ç”Ÿã€ä¸€ä¸ªä¸“å–‚å¥¶ï¼Œäº’ä¸å¹²æ‰°ï¼Œè¿™æ—¶æ˜¯å¹¶è¡Œ&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;åˆ›å»ºçº¿ç¨‹çš„å››ç§æ–¹å¼&#34;&gt;&lt;a href=&#34;#åˆ›å»ºçº¿ç¨‹çš„å››ç§æ–¹å¼&#34; class=&#34;headerlink&#34; title=&#34;åˆ›å»ºçº¿ç¨‹çš„å››ç§æ–¹å¼&#34;&gt;&lt;/a&gt;åˆ›å»ºçº¿ç¨‹çš„å››ç§æ–¹å¼&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;éš¾æ˜“ç¨‹åº¦ï¼šâ˜†â˜†&lt;/p&gt;
&lt;p&gt;å‡ºç°é¢‘ç‡ï¼šâ˜†â˜†â˜†â˜†&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;å‚è€ƒå›ç­”ï¼š&lt;/p&gt;
&lt;p&gt;å…±æœ‰å››ç§æ–¹å¼å¯ä»¥åˆ›å»ºçº¿ç¨‹ï¼Œåˆ†åˆ«æ˜¯ï¼šç»§æ‰¿Threadç±»ã€å®ç°runnableæ¥å£ã€å®ç°Callableæ¥å£ã€çº¿ç¨‹æ± åˆ›å»ºçº¿ç¨‹&lt;/p&gt;
&lt;p&gt;è¯¦ç»†åˆ›å»ºæ–¹å¼å‚è€ƒä¸‹é¢ä»£ç ï¼š&lt;/p&gt;
&lt;p&gt;â‘  &lt;strong&gt;ç»§æ‰¿Threadç±»&lt;/strong&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;java&#34;&gt;public class MyThread extends Thread &amp;#123;

    @Override
    public void run() &amp;#123;
        System.out.println(&amp;quot;MyThread...run...&amp;quot;);
    &amp;#125;

    
    public static void main(String[] args) &amp;#123;

        // åˆ›å»ºMyThreadå¯¹è±¡
        MyThread t1 = new MyThread() ;
        MyThread t2 = new MyThread() ;

        // è°ƒç”¨startæ–¹æ³•å¯åŠ¨çº¿ç¨‹
        t1.start();
        t2.start();

    &amp;#125;
    
&amp;#125;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;â‘¡ &lt;strong&gt;å®ç°runnableæ¥å£&lt;/strong&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;java&#34;&gt;public class MyRunnable implements Runnable&amp;#123;

    @Override
    public void run() &amp;#123;
        System.out.println(&amp;quot;MyRunnable...run...&amp;quot;);
    &amp;#125;

    public static void main(String[] args) &amp;#123;

        // åˆ›å»ºMyRunnableå¯¹è±¡
        MyRunnable mr = new MyRunnable() ;

        // åˆ›å»ºThreadå¯¹è±¡
        Thread t1 = new Thread(mr) ;
        Thread t2 = new Thread(mr) ;

        // è°ƒç”¨startæ–¹æ³•å¯åŠ¨çº¿ç¨‹
        t1.start();
        t2.start();

    &amp;#125;

&amp;#125;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;â‘¢ &lt;strong&gt;å®ç°Callableæ¥å£&lt;/strong&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;java&#34;&gt;public class MyCallable implements Callable&amp;lt;String&amp;gt; &amp;#123;

    @Override
    public String call() throws Exception &amp;#123;
        System.out.println(&amp;quot;MyCallable...call...&amp;quot;);
        return &amp;quot;OK&amp;quot;;
    &amp;#125;

    public static void main(String[] args) throws ExecutionException, InterruptedException &amp;#123;

        // åˆ›å»ºMyCallableå¯¹è±¡
        MyCallable mc = new MyCallable() ;

        // åˆ›å»ºF
        FutureTask&amp;lt;String&amp;gt; ft = new FutureTask&amp;lt;String&amp;gt;(mc) ;

        // åˆ›å»ºThreadå¯¹è±¡
        Thread t1 = new Thread(ft) ;
        Thread t2 = new Thread(ft) ;

        // è°ƒç”¨startæ–¹æ³•å¯åŠ¨çº¿ç¨‹
        t1.start();

        // è°ƒç”¨ftçš„getæ–¹æ³•è·å–æ‰§è¡Œç»“æœ
        String result = ft.get();

        // è¾“å‡º
        System.out.println(result);

    &amp;#125;

&amp;#125;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;â‘£ &lt;strong&gt;çº¿ç¨‹æ± åˆ›å»ºçº¿ç¨‹&lt;/strong&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;java&#34;&gt;public class MyExecutors implements Runnable&amp;#123;

    @Override
    public void run() &amp;#123;
        System.out.println(&amp;quot;MyRunnable...run...&amp;quot;);
    &amp;#125;

    public static void main(String[] args) &amp;#123;

        // åˆ›å»ºçº¿ç¨‹æ± å¯¹è±¡
        ExecutorService threadPool = Executors.newFixedThreadPool(3);
        threadPool.submit(new MyExecutors()) ;

        // å…³é—­çº¿ç¨‹æ± 
        threadPool.shutdown();

    &amp;#125;

&amp;#125;
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;runnable-å’Œ-callable-æœ‰ä»€ä¹ˆåŒºåˆ«&#34;&gt;&lt;a href=&#34;#runnable-å’Œ-callable-æœ‰ä»€ä¹ˆåŒºåˆ«&#34; class=&#34;headerlink&#34; title=&#34;runnable å’Œ callable æœ‰ä»€ä¹ˆåŒºåˆ«&#34;&gt;&lt;/a&gt;runnable å’Œ callable æœ‰ä»€ä¹ˆåŒºåˆ«&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;éš¾æ˜“ç¨‹åº¦ï¼šâ˜†â˜†&lt;/p&gt;
&lt;p&gt;å‡ºç°é¢‘ç‡ï¼šâ˜†â˜†â˜†&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;å‚è€ƒå›ç­”ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Runnable æ¥å£runæ–¹æ³•æ²¡æœ‰è¿”å›å€¼ï¼›Callableæ¥å£callæ–¹æ³•æœ‰è¿”å›å€¼ï¼Œæ˜¯ä¸ªæ³›å‹ï¼Œå’ŒFutureã€FutureTaské…åˆå¯ä»¥ç”¨æ¥è·å–å¼‚æ­¥æ‰§è¡Œçš„ç»“æœ&lt;/li&gt;
&lt;li&gt;Callalbeæ¥å£æ”¯æŒè¿”å›æ‰§è¡Œç»“æœï¼Œéœ€è¦è°ƒç”¨FutureTask.get()å¾—åˆ°ï¼Œæ­¤æ–¹æ³•ä¼šé˜»å¡ä¸»è¿›ç¨‹çš„ç»§ç»­å¾€ä¸‹æ‰§è¡Œï¼Œå¦‚æœä¸è°ƒç”¨ä¸ä¼šé˜»å¡ã€‚&lt;/li&gt;
&lt;li&gt;Callableæ¥å£çš„call()æ–¹æ³•å…è®¸æŠ›å‡ºå¼‚å¸¸ï¼›è€ŒRunnableæ¥å£çš„run()æ–¹æ³•çš„å¼‚å¸¸åªèƒ½åœ¨å†…éƒ¨æ¶ˆåŒ–ï¼Œä¸èƒ½ç»§ç»­ä¸ŠæŠ›&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;çº¿ç¨‹çš„-run-å’Œ-start-æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ&#34;&gt;&lt;a href=&#34;#çº¿ç¨‹çš„-run-å’Œ-start-æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ&#34; class=&#34;headerlink&#34; title=&#34;çº¿ç¨‹çš„ run()å’Œ start()æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ&#34;&gt;&lt;/a&gt;çº¿ç¨‹çš„ run()å’Œ start()æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;éš¾æ˜“ç¨‹åº¦ï¼šâ˜†â˜†&lt;/p&gt;
&lt;p&gt;å‡ºç°é¢‘ç‡ï¼šâ˜†â˜†&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;start(): ç”¨æ¥å¯åŠ¨çº¿ç¨‹ï¼Œé€šè¿‡è¯¥çº¿ç¨‹è°ƒç”¨runæ–¹æ³•æ‰§è¡Œrunæ–¹æ³•ä¸­æ‰€å®šä¹‰çš„é€»è¾‘ä»£ç ã€‚startæ–¹æ³•åªèƒ½è¢«è°ƒç”¨ä¸€æ¬¡ã€‚&lt;/p&gt;
&lt;p&gt;run(): å°è£…äº†è¦è¢«çº¿ç¨‹æ‰§è¡Œçš„ä»£ç ï¼Œå¯ä»¥è¢«è°ƒç”¨å¤šæ¬¡ã€‚&lt;/p&gt;
&lt;h3 id=&#34;çº¿ç¨‹åŒ…æ‹¬å“ªäº›çŠ¶æ€ï¼ŒçŠ¶æ€ä¹‹é—´æ˜¯å¦‚ä½•å˜åŒ–çš„&#34;&gt;&lt;a href=&#34;#çº¿ç¨‹åŒ…æ‹¬å“ªäº›çŠ¶æ€ï¼ŒçŠ¶æ€ä¹‹é—´æ˜¯å¦‚ä½•å˜åŒ–çš„&#34; class=&#34;headerlink&#34; title=&#34;çº¿ç¨‹åŒ…æ‹¬å“ªäº›çŠ¶æ€ï¼ŒçŠ¶æ€ä¹‹é—´æ˜¯å¦‚ä½•å˜åŒ–çš„&#34;&gt;&lt;/a&gt;çº¿ç¨‹åŒ…æ‹¬å“ªäº›çŠ¶æ€ï¼ŒçŠ¶æ€ä¹‹é—´æ˜¯å¦‚ä½•å˜åŒ–çš„&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;éš¾æ˜“ç¨‹åº¦ï¼šâ˜†â˜†â˜†&lt;/p&gt;
&lt;p&gt;å‡ºç°é¢‘ç‡ï¼šâ˜†â˜†â˜†â˜†&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;çº¿ç¨‹çš„çŠ¶æ€å¯ä»¥å‚è€ƒJDKä¸­çš„Threadç±»ä¸­çš„æšä¸¾State&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;java&#34;&gt;public enum State &amp;#123;
        /**
         * å°šæœªå¯åŠ¨çš„çº¿ç¨‹çš„çº¿ç¨‹çŠ¶æ€
         */
        NEW,

        /**
         * å¯è¿è¡Œçº¿ç¨‹çš„çº¿ç¨‹çŠ¶æ€ã€‚å¤„äºå¯è¿è¡ŒçŠ¶æ€çš„çº¿ç¨‹æ­£åœ¨ Java è™šæ‹Ÿæœºä¸­æ‰§è¡Œï¼Œä½†å®ƒå¯èƒ½æ­£åœ¨ç­‰å¾…æ¥è‡ª		 * æ“ä½œç³»ç»Ÿçš„å…¶ä»–èµ„æºï¼Œä¾‹å¦‚å¤„ç†å™¨ã€‚
         */
        RUNNABLE,

        /**
         * çº¿ç¨‹é˜»å¡ç­‰å¾…ç›‘è§†å™¨é”çš„çº¿ç¨‹çŠ¶æ€ã€‚å¤„äºé˜»å¡çŠ¶æ€çš„çº¿ç¨‹æ­£åœ¨ç­‰å¾…ç›‘è§†å™¨é”è¿›å…¥åŒæ­¥å—/æ–¹æ³•æˆ–åœ¨è°ƒ          * ç”¨Object.waitåé‡æ–°è¿›å…¥åŒæ­¥å—/æ–¹æ³•ã€‚
         */
        BLOCKED,

        /**
         * ç­‰å¾…çº¿ç¨‹çš„çº¿ç¨‹çŠ¶æ€ã€‚ç”±äºè°ƒç”¨ä»¥ä¸‹æ–¹æ³•ä¹‹ä¸€ï¼Œçº¿ç¨‹å¤„äºç­‰å¾…çŠ¶æ€ï¼š
        * Object.waitæ²¡æœ‰è¶…æ—¶
         * æ²¡æœ‰è¶…æ—¶çš„Thread.join
         * LockSupport.park
         * å¤„äºç­‰å¾…çŠ¶æ€çš„çº¿ç¨‹æ­£åœ¨ç­‰å¾…å¦ä¸€ä¸ªçº¿ç¨‹æ‰§è¡Œç‰¹å®šæ“ä½œã€‚
         * ä¾‹å¦‚ï¼Œä¸€ä¸ªå¯¹å¯¹è±¡è°ƒç”¨Object.wait()çš„çº¿ç¨‹æ­£åœ¨ç­‰å¾…å¦ä¸€ä¸ªçº¿ç¨‹å¯¹è¯¥å¯¹è±¡è°ƒç”¨Object.notify()			* æˆ–Object.notifyAll() ã€‚å·²è°ƒç”¨Thread.join()çš„çº¿ç¨‹æ­£åœ¨ç­‰å¾…æŒ‡å®šçº¿ç¨‹ç»ˆæ­¢ã€‚
         */
        WAITING,

        /**
         * å…·æœ‰æŒ‡å®šç­‰å¾…æ—¶é—´çš„ç­‰å¾…çº¿ç¨‹çš„çº¿ç¨‹çŠ¶æ€ã€‚ç”±äºä»¥æŒ‡å®šçš„æ­£ç­‰å¾…æ—¶é—´è°ƒç”¨ä»¥ä¸‹æ–¹æ³•ä¹‹ä¸€ï¼Œçº¿ç¨‹å¤„äºå®š          * æ—¶ç­‰å¾…çŠ¶æ€ï¼š
        * Thread.sleep
        * Object.waitè¶…æ—¶
        * Thread.joinè¶…æ—¶
        * LockSupport.parkNanos
        * LockSupport.parkUntil
         * &amp;lt;/ul&amp;gt;
         */
        TIMED_WAITING,

        /**
         * å·²ç»ˆæ­¢çº¿ç¨‹çš„çº¿ç¨‹çŠ¶æ€ã€‚çº¿ç¨‹å·²å®Œæˆæ‰§è¡Œ
         */
        TERMINATED;
    &amp;#125;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;çŠ¶æ€ä¹‹é—´æ˜¯å¦‚ä½•å˜åŒ–çš„&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230503203629212.png&#34; alt=&#34;image-20230503203629212&#34;&gt;&lt;/p&gt;
&lt;p&gt;åˆ†åˆ«æ˜¯&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ–°å»º&lt;ul&gt;
&lt;li&gt;å½“ä¸€ä¸ªçº¿ç¨‹å¯¹è±¡è¢«åˆ›å»ºï¼Œä½†è¿˜æœªè°ƒç”¨ start æ–¹æ³•æ—¶å¤„äº&lt;strong&gt;æ–°å»º&lt;/strong&gt;çŠ¶æ€&lt;/li&gt;
&lt;li&gt;æ­¤æ—¶æœªä¸æ“ä½œç³»ç»Ÿåº•å±‚çº¿ç¨‹å…³è”&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;å¯è¿è¡Œ&lt;ul&gt;
&lt;li&gt;è°ƒç”¨äº† start æ–¹æ³•ï¼Œå°±ä¼šç”±&lt;strong&gt;æ–°å»º&lt;/strong&gt;è¿›å…¥&lt;strong&gt;å¯è¿è¡Œ&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;æ­¤æ—¶ä¸åº•å±‚çº¿ç¨‹å…³è”ï¼Œç”±æ“ä½œç³»ç»Ÿè°ƒåº¦æ‰§è¡Œ&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;ç»ˆç»“&lt;ul&gt;
&lt;li&gt;çº¿ç¨‹å†…ä»£ç å·²ç»æ‰§è¡Œå®Œæ¯•ï¼Œç”±&lt;strong&gt;å¯è¿è¡Œ&lt;/strong&gt;è¿›å…¥&lt;strong&gt;ç»ˆç»“&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;æ­¤æ—¶ä¼šå–æ¶ˆä¸åº•å±‚çº¿ç¨‹å…³è”&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;é˜»å¡&lt;ul&gt;
&lt;li&gt;å½“è·å–é”å¤±è´¥åï¼Œç”±&lt;strong&gt;å¯è¿è¡Œ&lt;/strong&gt;è¿›å…¥ Monitor çš„é˜»å¡é˜Ÿåˆ—&lt;strong&gt;é˜»å¡&lt;/strong&gt;ï¼Œæ­¤æ—¶ä¸å ç”¨ cpu æ—¶é—´&lt;/li&gt;
&lt;li&gt;å½“æŒé”çº¿ç¨‹é‡Šæ”¾é”æ—¶ï¼Œä¼šæŒ‰ç…§ä¸€å®šè§„åˆ™å”¤é†’é˜»å¡é˜Ÿåˆ—ä¸­çš„&lt;strong&gt;é˜»å¡&lt;/strong&gt;çº¿ç¨‹ï¼Œå”¤é†’åçš„çº¿ç¨‹è¿›å…¥&lt;strong&gt;å¯è¿è¡Œ&lt;/strong&gt;çŠ¶æ€&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;ç­‰å¾…&lt;ul&gt;
&lt;li&gt;å½“è·å–é”æˆåŠŸåï¼Œä½†ç”±äºæ¡ä»¶ä¸æ»¡è¶³ï¼Œè°ƒç”¨äº† wait() æ–¹æ³•ï¼Œæ­¤æ—¶ä»&lt;strong&gt;å¯è¿è¡Œ&lt;/strong&gt;çŠ¶æ€é‡Šæ”¾é”è¿›å…¥ Monitor ç­‰å¾…é›†åˆ&lt;strong&gt;ç­‰å¾…&lt;/strong&gt;ï¼ŒåŒæ ·ä¸å ç”¨ cpu æ—¶é—´&lt;/li&gt;
&lt;li&gt;å½“å…¶å®ƒæŒé”çº¿ç¨‹è°ƒç”¨ notify() æˆ– notifyAll() æ–¹æ³•ï¼Œä¼šæŒ‰ç…§ä¸€å®šè§„åˆ™å”¤é†’ç­‰å¾…é›†åˆä¸­çš„&lt;strong&gt;ç­‰å¾…&lt;/strong&gt;çº¿ç¨‹ï¼Œæ¢å¤ä¸º&lt;strong&gt;å¯è¿è¡Œ&lt;/strong&gt;çŠ¶æ€&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;æœ‰æ—¶é™ç­‰å¾…&lt;ul&gt;
&lt;li&gt;å½“è·å–é”æˆåŠŸåï¼Œä½†ç”±äºæ¡ä»¶ä¸æ»¡è¶³ï¼Œè°ƒç”¨äº† wait(long) æ–¹æ³•ï¼Œæ­¤æ—¶ä»&lt;strong&gt;å¯è¿è¡Œ&lt;/strong&gt;çŠ¶æ€é‡Šæ”¾é”è¿›å…¥ Monitor ç­‰å¾…é›†åˆè¿›è¡Œ&lt;strong&gt;æœ‰æ—¶é™ç­‰å¾…&lt;/strong&gt;ï¼ŒåŒæ ·ä¸å ç”¨ cpu æ—¶é—´&lt;/li&gt;
&lt;li&gt;å½“å…¶å®ƒæŒé”çº¿ç¨‹è°ƒç”¨ notify() æˆ– notifyAll() æ–¹æ³•ï¼Œä¼šæŒ‰ç…§ä¸€å®šè§„åˆ™å”¤é†’ç­‰å¾…é›†åˆä¸­çš„&lt;strong&gt;æœ‰æ—¶é™ç­‰å¾…&lt;/strong&gt;çº¿ç¨‹ï¼Œæ¢å¤ä¸º&lt;strong&gt;å¯è¿è¡Œ&lt;/strong&gt;çŠ¶æ€ï¼Œå¹¶é‡æ–°å»ç«äº‰é”&lt;/li&gt;
&lt;li&gt;å¦‚æœç­‰å¾…è¶…æ—¶ï¼Œä¹Ÿä¼šä»&lt;strong&gt;æœ‰æ—¶é™ç­‰å¾…&lt;/strong&gt;çŠ¶æ€æ¢å¤ä¸º&lt;strong&gt;å¯è¿è¡Œ&lt;/strong&gt;çŠ¶æ€ï¼Œå¹¶é‡æ–°å»ç«äº‰é”&lt;/li&gt;
&lt;li&gt;è¿˜æœ‰ä¸€ç§æƒ…å†µæ˜¯è°ƒç”¨ sleep(long) æ–¹æ³•ä¹Ÿä¼šä»&lt;strong&gt;å¯è¿è¡Œ&lt;/strong&gt;çŠ¶æ€è¿›å…¥&lt;strong&gt;æœ‰æ—¶é™ç­‰å¾…&lt;/strong&gt;çŠ¶æ€ï¼Œä½†ä¸ Monitor æ— å…³ï¼Œä¸éœ€è¦ä¸»åŠ¨å”¤é†’ï¼Œè¶…æ—¶æ—¶é—´åˆ°è‡ªç„¶æ¢å¤ä¸º&lt;strong&gt;å¯è¿è¡Œ&lt;/strong&gt;çŠ¶æ€&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;æ–°å»º-T1ã€T2ã€T3-ä¸‰ä¸ªçº¿ç¨‹ï¼Œå¦‚ä½•ä¿è¯å®ƒä»¬æŒ‰é¡ºåºæ‰§è¡Œï¼Ÿ&#34;&gt;&lt;a href=&#34;#æ–°å»º-T1ã€T2ã€T3-ä¸‰ä¸ªçº¿ç¨‹ï¼Œå¦‚ä½•ä¿è¯å®ƒä»¬æŒ‰é¡ºåºæ‰§è¡Œï¼Ÿ&#34; class=&#34;headerlink&#34; title=&#34;æ–°å»º T1ã€T2ã€T3 ä¸‰ä¸ªçº¿ç¨‹ï¼Œå¦‚ä½•ä¿è¯å®ƒä»¬æŒ‰é¡ºåºæ‰§è¡Œï¼Ÿ&#34;&gt;&lt;/a&gt;æ–°å»º T1ã€T2ã€T3 ä¸‰ä¸ªçº¿ç¨‹ï¼Œå¦‚ä½•ä¿è¯å®ƒä»¬æŒ‰é¡ºåºæ‰§è¡Œï¼Ÿ&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;éš¾æ˜“ç¨‹åº¦ï¼šâ˜†â˜†&lt;/p&gt;
&lt;p&gt;å‡ºç°é¢‘ç‡ï¼šâ˜†â˜†â˜†&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;åœ¨å¤šçº¿ç¨‹ä¸­æœ‰å¤šç§æ–¹æ³•è®©çº¿ç¨‹æŒ‰ç‰¹å®šé¡ºåºæ‰§è¡Œï¼Œä½ å¯ä»¥ç”¨çº¿ç¨‹ç±»çš„&lt;strong&gt;join&lt;/strong&gt;()æ–¹æ³•åœ¨ä¸€ä¸ªçº¿ç¨‹ä¸­å¯åŠ¨å¦ä¸€ä¸ªçº¿ç¨‹ï¼Œå¦å¤–ä¸€ä¸ªçº¿ç¨‹å®Œæˆè¯¥çº¿ç¨‹ç»§ç»­æ‰§è¡Œã€‚&lt;/p&gt;
&lt;p&gt;ä»£ç ä¸¾ä¾‹ï¼š&lt;/p&gt;
&lt;p&gt;ä¸ºäº†ç¡®ä¿ä¸‰ä¸ªçº¿ç¨‹çš„é¡ºåºä½ åº”è¯¥å…ˆå¯åŠ¨æœ€åä¸€ä¸ª(T3è°ƒç”¨T2ï¼ŒT2è°ƒç”¨T1)ï¼Œè¿™æ ·T1å°±ä¼šå…ˆå®Œæˆè€ŒT3æœ€åå®Œæˆ&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;java&#34;&gt;public class JoinTest &amp;#123;

    public static void main(String[] args) &amp;#123;

        // åˆ›å»ºçº¿ç¨‹å¯¹è±¡
        Thread t1 = new Thread(() -&amp;gt; &amp;#123;
            System.out.println(&amp;quot;t1&amp;quot;);
        &amp;#125;) ;

        Thread t2 = new Thread(() -&amp;gt; &amp;#123;
            try &amp;#123;
                t1.join();                          // åŠ å…¥çº¿ç¨‹t1,åªæœ‰t1çº¿ç¨‹æ‰§è¡Œå®Œæ¯•ä»¥åï¼Œå†æ¬¡æ‰§è¡Œè¯¥çº¿ç¨‹
            &amp;#125; catch (InterruptedException e) &amp;#123;
                e.printStackTrace();
            &amp;#125;
            System.out.println(&amp;quot;t2&amp;quot;);
        &amp;#125;) ;


        Thread t3 = new Thread(() -&amp;gt; &amp;#123;
            try &amp;#123;
                t2.join();                              // åŠ å…¥çº¿ç¨‹t2,åªæœ‰t2çº¿ç¨‹æ‰§è¡Œå®Œæ¯•ä»¥åï¼Œå†æ¬¡æ‰§è¡Œè¯¥çº¿ç¨‹
            &amp;#125; catch (InterruptedException e) &amp;#123;
                e.printStackTrace();
            &amp;#125;
            System.out.println(&amp;quot;t3&amp;quot;);
        &amp;#125;) ;

        // å¯åŠ¨çº¿ç¨‹
        t1.start();
        t2.start();
        t3.start();

    &amp;#125;

&amp;#125;
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;notify-å’Œ-notifyAll-æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ&#34;&gt;&lt;a href=&#34;#notify-å’Œ-notifyAll-æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ&#34; class=&#34;headerlink&#34; title=&#34;notify()å’Œ notifyAll()æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ&#34;&gt;&lt;/a&gt;notify()å’Œ notifyAll()æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;éš¾æ˜“ç¨‹åº¦ï¼šâ˜†â˜†&lt;/p&gt;
&lt;p&gt;å‡ºç°é¢‘ç‡ï¼šâ˜†â˜†&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;notifyAllï¼šå”¤é†’æ‰€æœ‰waitçš„çº¿ç¨‹&lt;/p&gt;
&lt;p&gt;notifyï¼šåªéšæœºå”¤é†’ä¸€ä¸ª wait çº¿ç¨‹&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;java&#34;&gt;package com.itheima.basic;

public class WaitNotify &amp;#123;

    static boolean flag = false;
    static Object lock = new Object();

    public static void main(String[] args) &amp;#123;

        Thread t1 = new Thread(() -&amp;gt; &amp;#123;
            synchronized (lock)&amp;#123;
                while (!flag)&amp;#123;
                    System.out.println(Thread.currentThread().getName()+&amp;quot;...wating...&amp;quot;);
                    try &amp;#123;
                        lock.wait();
                    &amp;#125; catch (InterruptedException e) &amp;#123;
                        e.printStackTrace();
                    &amp;#125;
                &amp;#125;
                System.out.println(Thread.currentThread().getName()+&amp;quot;...flag is true&amp;quot;);
            &amp;#125;
        &amp;#125;);

        Thread t2 = new Thread(() -&amp;gt; &amp;#123;
            synchronized (lock)&amp;#123;
                while (!flag)&amp;#123;
                    System.out.println(Thread.currentThread().getName()+&amp;quot;...wating...&amp;quot;);
                    try &amp;#123;
                        lock.wait();
                    &amp;#125; catch (InterruptedException e) &amp;#123;
                        e.printStackTrace();
                    &amp;#125;
                &amp;#125;
                System.out.println(Thread.currentThread().getName()+&amp;quot;...flag is true&amp;quot;);
            &amp;#125;
        &amp;#125;);

        Thread t3 = new Thread(() -&amp;gt; &amp;#123;
            synchronized (lock) &amp;#123;
                System.out.println(Thread.currentThread().getName() + &amp;quot; hold lock&amp;quot;);
                lock.notifyAll();
                flag = true;
                try &amp;#123;
                    Thread.sleep(2000);
                &amp;#125; catch (InterruptedException e) &amp;#123;
                    e.printStackTrace();
                &amp;#125;
            &amp;#125;
        &amp;#125;);
        t1.start();
        t2.start();
        t3.start();

    &amp;#125;

&amp;#125;
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;åœ¨-java-ä¸­-wait-å’Œ-sleep-æ–¹æ³•çš„ä¸åŒï¼Ÿ&#34;&gt;&lt;a href=&#34;#åœ¨-java-ä¸­-wait-å’Œ-sleep-æ–¹æ³•çš„ä¸åŒï¼Ÿ&#34; class=&#34;headerlink&#34; title=&#34;åœ¨ java ä¸­ wait å’Œ sleep æ–¹æ³•çš„ä¸åŒï¼Ÿ&#34;&gt;&lt;/a&gt;åœ¨ java ä¸­ wait å’Œ sleep æ–¹æ³•çš„ä¸åŒï¼Ÿ&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;éš¾æ˜“ç¨‹åº¦ï¼šâ˜†â˜†â˜†&lt;/p&gt;
&lt;p&gt;å‡ºç°é¢‘ç‡ï¼šâ˜†â˜†â˜†&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;å‚è€ƒå›ç­”ï¼š&lt;/p&gt;
&lt;p&gt;å…±åŒç‚¹&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;wait() ï¼Œwait(long) å’Œ sleep(long) çš„æ•ˆæœéƒ½æ˜¯è®©å½“å‰çº¿ç¨‹æš‚æ—¶æ”¾å¼ƒ CPU çš„ä½¿ç”¨æƒï¼Œè¿›å…¥é˜»å¡çŠ¶æ€&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä¸åŒç‚¹&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;æ–¹æ³•å½’å±ä¸åŒ&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;sleep(long) æ˜¯ Thread çš„é™æ€æ–¹æ³•&lt;/li&gt;
&lt;li&gt;è€Œ wait()ï¼Œwait(long) éƒ½æ˜¯ Object çš„æˆå‘˜æ–¹æ³•ï¼Œæ¯ä¸ªå¯¹è±¡éƒ½æœ‰&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;é†’æ¥æ—¶æœºä¸åŒ&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ‰§è¡Œ sleep(long) å’Œ wait(long) çš„çº¿ç¨‹éƒ½ä¼šåœ¨ç­‰å¾…ç›¸åº”æ¯«ç§’åé†’æ¥&lt;/li&gt;
&lt;li&gt;wait(long) å’Œ wait() è¿˜å¯ä»¥è¢« notify å”¤é†’ï¼Œwait() å¦‚æœä¸å”¤é†’å°±ä¸€ç›´ç­‰ä¸‹å»&lt;/li&gt;
&lt;li&gt;å®ƒä»¬éƒ½å¯ä»¥è¢«æ‰“æ–­å”¤é†’&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;é”ç‰¹æ€§ä¸åŒï¼ˆé‡ç‚¹ï¼‰&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;wait æ–¹æ³•çš„è°ƒç”¨å¿…é¡»å…ˆè·å– wait å¯¹è±¡çš„é”ï¼Œè€Œ sleep åˆ™æ— æ­¤é™åˆ¶&lt;/li&gt;
&lt;li&gt;wait æ–¹æ³•æ‰§è¡Œåä¼šé‡Šæ”¾å¯¹è±¡é”ï¼Œå…è®¸å…¶å®ƒçº¿ç¨‹è·å¾—è¯¥å¯¹è±¡é”ï¼ˆæˆ‘æ”¾å¼ƒ cpuï¼Œä½†ä½ ä»¬è¿˜å¯ä»¥ç”¨ï¼‰&lt;/li&gt;
&lt;li&gt;è€Œ sleep å¦‚æœåœ¨ synchronized ä»£ç å—ä¸­æ‰§è¡Œï¼Œå¹¶ä¸ä¼šé‡Šæ”¾å¯¹è±¡é”ï¼ˆæˆ‘æ”¾å¼ƒ cpuï¼Œä½ ä»¬ä¹Ÿç”¨ä¸äº†ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä»£ç ç¤ºä¾‹ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;java&#34;&gt;public class WaitSleepCase &amp;#123;

    static final Object LOCK = new Object();

    public static void main(String[] args) throws InterruptedException &amp;#123;
        sleeping();
    &amp;#125;

    private static void illegalWait() throws InterruptedException &amp;#123;
        LOCK.wait();
    &amp;#125;

    private static void waiting() throws InterruptedException &amp;#123;
        Thread t1 = new Thread(() -&amp;gt; &amp;#123;
            synchronized (LOCK) &amp;#123;
                try &amp;#123;
                    get(&amp;quot;t&amp;quot;).debug(&amp;quot;waiting...&amp;quot;);
                    LOCK.wait(5000L);
                &amp;#125; catch (InterruptedException e) &amp;#123;
                    get(&amp;quot;t&amp;quot;).debug(&amp;quot;interrupted...&amp;quot;);
                    e.printStackTrace();
                &amp;#125;
            &amp;#125;
        &amp;#125;, &amp;quot;t1&amp;quot;);
        t1.start();

        Thread.sleep(100);
        synchronized (LOCK) &amp;#123;
            main.debug(&amp;quot;other...&amp;quot;);
        &amp;#125;

    &amp;#125;

    private static void sleeping() throws InterruptedException &amp;#123;
        Thread t1 = new Thread(() -&amp;gt; &amp;#123;
            synchronized (LOCK) &amp;#123;
                try &amp;#123;
                    get(&amp;quot;t&amp;quot;).debug(&amp;quot;sleeping...&amp;quot;);
                    Thread.sleep(5000L);
                &amp;#125; catch (InterruptedException e) &amp;#123;
                    get(&amp;quot;t&amp;quot;).debug(&amp;quot;interrupted...&amp;quot;);
                    e.printStackTrace();
                &amp;#125;
            &amp;#125;
        &amp;#125;, &amp;quot;t1&amp;quot;);
        t1.start();

        Thread.sleep(100);
        synchronized (LOCK) &amp;#123;
            main.debug(&amp;quot;other...&amp;quot;);
        &amp;#125;
    &amp;#125;
&amp;#125;
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;å¦‚ä½•åœæ­¢ä¸€ä¸ªæ­£åœ¨è¿è¡Œçš„çº¿ç¨‹ï¼Ÿ&#34;&gt;&lt;a href=&#34;#å¦‚ä½•åœæ­¢ä¸€ä¸ªæ­£åœ¨è¿è¡Œçš„çº¿ç¨‹ï¼Ÿ&#34; class=&#34;headerlink&#34; title=&#34;å¦‚ä½•åœæ­¢ä¸€ä¸ªæ­£åœ¨è¿è¡Œçš„çº¿ç¨‹ï¼Ÿ&#34;&gt;&lt;/a&gt;å¦‚ä½•åœæ­¢ä¸€ä¸ªæ­£åœ¨è¿è¡Œçš„çº¿ç¨‹ï¼Ÿ&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;éš¾æ˜“ç¨‹åº¦ï¼šâ˜†â˜†&lt;/p&gt;
&lt;p&gt;å‡ºç°é¢‘ç‡ï¼šâ˜†â˜†&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;å‚è€ƒå›ç­”ï¼š&lt;/p&gt;
&lt;p&gt;æœ‰ä¸‰ç§æ–¹å¼å¯ä»¥åœæ­¢çº¿ç¨‹&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä½¿ç”¨é€€å‡ºæ ‡å¿—ï¼Œä½¿çº¿ç¨‹æ­£å¸¸é€€å‡ºï¼Œä¹Ÿå°±æ˜¯å½“runæ–¹æ³•å®Œæˆåçº¿ç¨‹ç»ˆæ­¢&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨stopæ–¹æ³•å¼ºè¡Œç»ˆæ­¢ï¼ˆä¸æ¨èï¼Œæ–¹æ³•å·²ä½œåºŸï¼‰&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨interruptæ–¹æ³•ä¸­æ–­çº¿ç¨‹&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä»£ç å‚è€ƒå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;â‘  &lt;strong&gt;ä½¿ç”¨é€€å‡ºæ ‡å¿—ï¼Œä½¿çº¿ç¨‹æ­£å¸¸é€€å‡º&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;java&#34;&gt;public class MyInterrupt1 extends Thread &amp;#123;

    volatile boolean flag = false ;     // çº¿ç¨‹æ‰§è¡Œçš„é€€å‡ºæ ‡è®°

    @Override
    public void run() &amp;#123;
        while(!flag) &amp;#123;
            System.out.println(&amp;quot;MyThread...run...&amp;quot;);
            try &amp;#123;
                Thread.sleep(3000);
            &amp;#125; catch (InterruptedException e) &amp;#123;
                e.printStackTrace();
            &amp;#125;
        &amp;#125;
    &amp;#125;

    public static void main(String[] args) throws InterruptedException &amp;#123;

        // åˆ›å»ºMyThreadå¯¹è±¡
        MyInterrupt1 t1 = new MyInterrupt1() ;
        t1.start();

        // ä¸»çº¿ç¨‹ä¼‘çœ 6ç§’
        Thread.sleep(6000);

        // æ›´æ”¹æ ‡è®°ä¸ºtrue
        t1.flag = true ;

    &amp;#125;
&amp;#125;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;â‘¡ &lt;strong&gt;ä½¿ç”¨stopæ–¹æ³•å¼ºè¡Œç»ˆæ­¢&lt;/strong&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;java&#34;&gt;public class MyInterrupt2 extends Thread &amp;#123;

    volatile boolean flag = false ;     // çº¿ç¨‹æ‰§è¡Œçš„é€€å‡ºæ ‡è®°

    @Override
    public void run() &amp;#123;
        while(!flag) &amp;#123;
            System.out.println(&amp;quot;MyThread...run...&amp;quot;);
            try &amp;#123;
                Thread.sleep(3000);
            &amp;#125; catch (InterruptedException e) &amp;#123;
                e.printStackTrace();
            &amp;#125;
        &amp;#125;
    &amp;#125;

    public static void main(String[] args) throws InterruptedException &amp;#123;

        // åˆ›å»ºMyThreadå¯¹è±¡
        MyInterrupt2 t1 = new MyInterrupt2() ;
        t1.start();

        // ä¸»çº¿ç¨‹ä¼‘çœ 2ç§’
        Thread.sleep(6000);

        // è°ƒç”¨stopæ–¹æ³•
        t1.stop();

    &amp;#125;
&amp;#125;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;â‘¢ &lt;strong&gt;ä½¿ç”¨interruptæ–¹æ³•ä¸­æ–­çº¿ç¨‹&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;java&#34;&gt;package com.itheima.basic;

public class MyInterrupt3 &amp;#123;

    public static void main(String[] args) throws InterruptedException &amp;#123;

        //1.æ‰“æ–­é˜»å¡çš„çº¿ç¨‹
        /*Thread t1 = new Thread(()-&amp;gt;&amp;#123;
            System.out.println(&amp;quot;t1 æ­£åœ¨è¿è¡Œ...&amp;quot;);
            try &amp;#123;
                Thread.sleep(5000);
            &amp;#125; catch (InterruptedException e) &amp;#123;
                e.printStackTrace();
            &amp;#125;
        &amp;#125;, &amp;quot;t1&amp;quot;);
        t1.start();
        Thread.sleep(500);
        t1.interrupt();
        System.out.println(t1.isInterrupted());*/


        //2.æ‰“æ–­æ­£å¸¸çš„çº¿ç¨‹
        Thread t2 = new Thread(()-&amp;gt;&amp;#123;
            while(true) &amp;#123;
                Thread current = Thread.currentThread();
                boolean interrupted = current.isInterrupted();
                if(interrupted) &amp;#123;
                    System.out.println(&amp;quot;æ‰“æ–­çŠ¶æ€ï¼š&amp;quot;+interrupted);
                    break;
                &amp;#125;
            &amp;#125;
        &amp;#125;, &amp;quot;t2&amp;quot;);
        t2.start();
        Thread.sleep(500);
//        t2.interrupt();

    &amp;#125;
&amp;#125;
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;çº¿ç¨‹ä¸­å¹¶å‘é”&#34;&gt;&lt;a href=&#34;#çº¿ç¨‹ä¸­å¹¶å‘é”&#34; class=&#34;headerlink&#34; title=&#34;çº¿ç¨‹ä¸­å¹¶å‘é”&#34;&gt;&lt;/a&gt;çº¿ç¨‹ä¸­å¹¶å‘é”&lt;/h2&gt;&lt;h3 id=&#34;è®²ä¸€ä¸‹synchronizedå…³é”®å­—çš„åº•å±‚åŸç†ï¼Ÿ&#34;&gt;&lt;a href=&#34;#è®²ä¸€ä¸‹synchronizedå…³é”®å­—çš„åº•å±‚åŸç†ï¼Ÿ&#34; class=&#34;headerlink&#34; title=&#34;è®²ä¸€ä¸‹synchronizedå…³é”®å­—çš„åº•å±‚åŸç†ï¼Ÿ&#34;&gt;&lt;/a&gt;è®²ä¸€ä¸‹synchronizedå…³é”®å­—çš„åº•å±‚åŸç†ï¼Ÿ&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;éš¾æ˜“ç¨‹åº¦ï¼šâ˜†â˜†â˜†â˜†â˜†&lt;/p&gt;
&lt;p&gt;å‡ºç°é¢‘ç‡ï¼šâ˜†â˜†â˜†&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h4 id=&#34;åŸºæœ¬ä½¿ç”¨&#34;&gt;&lt;a href=&#34;#åŸºæœ¬ä½¿ç”¨&#34; class=&#34;headerlink&#34; title=&#34;åŸºæœ¬ä½¿ç”¨&#34;&gt;&lt;/a&gt;åŸºæœ¬ä½¿ç”¨&lt;/h4&gt;&lt;p&gt;å¦‚ä¸‹æŠ¢ç¥¨çš„ä»£ç ï¼Œå¦‚æœä¸åŠ é”ï¼Œå°±ä¼šå‡ºç°è¶…å–æˆ–è€…ä¸€å¼ ç¥¨å–ç»™å¤šä¸ªäºº&lt;/p&gt;
&lt;p&gt;Synchronizedã€å¯¹è±¡é”ã€‘é‡‡ç”¨äº’æ–¥çš„æ–¹å¼è®©åŒä¸€æ—¶åˆ»è‡³å¤šåªæœ‰ä¸€ä¸ªçº¿ç¨‹èƒ½æŒæœ‰ã€å¯¹è±¡é”ã€‘ï¼Œå…¶å®ƒçº¿ç¨‹å†æƒ³è·å–è¿™ä¸ªã€å¯¹è±¡é”ã€‘æ—¶å°±ä¼šé˜»å¡ä½&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;java&#34;&gt;
public class TicketDemo &amp;#123;

    static Object lock = new Object();
    int ticketNum = 10;


    public synchronized void getTicket() &amp;#123;
        synchronized (this) &amp;#123;
            if (ticketNum &amp;lt;= 0) &amp;#123;
                return;
            &amp;#125;
            System.out.println(Thread.currentThread().getName() + &amp;quot;æŠ¢åˆ°ä¸€å¼ ç¥¨,å‰©ä½™:&amp;quot; + ticketNum);
            // éåŸå­æ€§æ“ä½œ
            ticketNum--;
        &amp;#125;
    &amp;#125;

    public static void main(String[] args) &amp;#123;
        TicketDemo ticketDemo = new TicketDemo();
        for (int i = 0; i &amp;lt; 20; i++) &amp;#123;
            new Thread(() -&amp;gt; &amp;#123;
                ticketDemo.getTicket();
            &amp;#125;).start();
        &amp;#125;
    &amp;#125;


&amp;#125;
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;Monitor&#34;&gt;&lt;a href=&#34;#Monitor&#34; class=&#34;headerlink&#34; title=&#34;Monitor&#34;&gt;&lt;/a&gt;Monitor&lt;/h4&gt;&lt;p&gt;Monitor è¢«ç¿»è¯‘ä¸ºç›‘è§†å™¨ï¼Œæ˜¯ç”±jvmæä¾›ï¼Œc++è¯­è¨€å®ç°&lt;/p&gt;
&lt;p&gt;åœ¨ä»£ç ä¸­æƒ³è¦ä½“ç°monitoréœ€è¦å€ŸåŠ©javapå‘½ä»¤æŸ¥çœ‹clsssçš„å­—èŠ‚ç ï¼Œæ¯”å¦‚ä»¥ä¸‹ä»£ç ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;java&#34;&gt;public class SyncTest &amp;#123;

    static final Object lock = new Object();
    static int counter = 0;
    public static void main(String[] args) &amp;#123;
        synchronized (lock) &amp;#123;
            counter++;
        &amp;#125;
    &amp;#125;
&amp;#125;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;æ‰¾åˆ°è¿™ä¸ªç±»çš„classæ–‡ä»¶ï¼Œåœ¨classæ–‡ä»¶ç›®å½•ä¸‹æ‰§è¡Œ&lt;code&gt;javap -v SyncTest.class&lt;/code&gt;ï¼Œåç¼–è¯‘æ•ˆæœå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230504165342501.png&#34; alt=&#34;image-20230504165342501&#34;&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;monitorenter    ä¸Šé”å¼€å§‹çš„åœ°æ–¹&lt;/li&gt;
&lt;li&gt;monitorexit        è§£é”çš„åœ°æ–¹&lt;/li&gt;
&lt;li&gt;å…¶ä¸­è¢«monitorenterå’ŒmonitorexitåŒ…å›´ä½çš„æŒ‡ä»¤å°±æ˜¯ä¸Šé”çš„ä»£ç &lt;/li&gt;
&lt;li&gt;æœ‰ä¸¤ä¸ªmonitorexitçš„åŸå› ï¼Œç¬¬äºŒä¸ªmonitorexitæ˜¯ä¸ºäº†é˜²æ­¢é”ä½çš„ä»£ç æŠ›å¼‚å¸¸åä¸èƒ½åŠæ—¶é‡Šæ”¾é”&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;åœ¨ä½¿ç”¨äº†synchornizedä»£ç å—æ—¶éœ€è¦æŒ‡å®šä¸€ä¸ªå¯¹è±¡ï¼Œæ‰€ä»¥synchornizedä¹Ÿè¢«ç§°ä¸ºå¯¹è±¡é”&lt;/p&gt;
&lt;p&gt;monitorä¸»è¦å°±æ˜¯è·Ÿè¿™ä¸ªå¯¹è±¡äº§ç”Ÿå…³è”ï¼Œå¦‚ä¸‹å›¾&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230504165833809.png&#34; alt=&#34;image-20230504165833809&#34;&gt;&lt;/p&gt;
&lt;p&gt;Monitorå†…éƒ¨å…·ä½“çš„å­˜å‚¨ç»“æ„ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Ownerï¼šå­˜å‚¨å½“å‰è·å–é”çš„çº¿ç¨‹çš„ï¼Œåªèƒ½æœ‰ä¸€ä¸ªçº¿ç¨‹å¯ä»¥è·å–&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;EntryListï¼šå…³è”æ²¡æœ‰æŠ¢åˆ°é”çš„çº¿ç¨‹ï¼Œå¤„äºBlockedçŠ¶æ€çš„çº¿ç¨‹&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;WaitSetï¼šå…³è”è°ƒç”¨äº†waitæ–¹æ³•çš„çº¿ç¨‹ï¼Œå¤„äºWaitingçŠ¶æ€çš„çº¿ç¨‹&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å…·ä½“çš„æµç¨‹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä»£ç è¿›å…¥synchorizedä»£ç å—ï¼Œå…ˆè®©lockï¼ˆå¯¹è±¡é”ï¼‰å…³è”çš„monitorï¼Œç„¶ååˆ¤æ–­Owneræ˜¯å¦æœ‰çº¿ç¨‹æŒæœ‰&lt;/li&gt;
&lt;li&gt;å¦‚æœæ²¡æœ‰çº¿ç¨‹æŒæœ‰ï¼Œåˆ™è®©å½“å‰çº¿ç¨‹æŒæœ‰ï¼Œè¡¨ç¤ºè¯¥çº¿ç¨‹è·å–é”æˆåŠŸ&lt;/li&gt;
&lt;li&gt;å¦‚æœæœ‰çº¿ç¨‹æŒæœ‰ï¼Œåˆ™è®©å½“å‰çº¿ç¨‹è¿›å…¥entryListè¿›è¡Œé˜»å¡ï¼Œå¦‚æœOwneræŒæœ‰çš„çº¿ç¨‹å·²ç»é‡Šæ”¾äº†é”ï¼Œåœ¨EntryListä¸­çš„çº¿ç¨‹å»ç«äº‰é”çš„æŒæœ‰æƒï¼ˆéå…¬å¹³ï¼‰&lt;/li&gt;
&lt;li&gt;å¦‚æœä»£ç å—ä¸­è°ƒç”¨äº†wait()æ–¹æ³•ï¼Œåˆ™ä¼šè¿›å»WaitSetä¸­è¿›è¡Œç­‰å¾…&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å‚è€ƒå›ç­”ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Synchronizedã€å¯¹è±¡é”ã€‘é‡‡ç”¨äº’æ–¥çš„æ–¹å¼è®©åŒä¸€æ—¶åˆ»è‡³å¤šåªæœ‰ä¸€ä¸ªçº¿ç¨‹èƒ½æŒæœ‰ã€å¯¹è±¡é”ã€‘&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;å®ƒçš„åº•å±‚ç”±monitorå®ç°çš„ï¼Œmonitoræ˜¯jvmçº§åˆ«çš„å¯¹è±¡ï¼ˆ C++å®ç°ï¼‰ï¼Œçº¿ç¨‹è·å¾—é”éœ€è¦ä½¿ç”¨å¯¹è±¡ï¼ˆé”ï¼‰å…³è”monitor&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;åœ¨monitorå†…éƒ¨æœ‰ä¸‰ä¸ªå±æ€§ï¼Œåˆ†åˆ«æ˜¯ownerã€entrylistã€waitset&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;å…¶ä¸­owneræ˜¯å…³è”çš„è·å¾—é”çš„çº¿ç¨‹ï¼Œå¹¶ä¸”åªèƒ½å…³è”ä¸€ä¸ªçº¿ç¨‹ï¼›entrylistå…³è”çš„æ˜¯å¤„äºé˜»å¡çŠ¶æ€çš„çº¿ç¨‹ï¼›waitsetå…³è”çš„æ˜¯å¤„äºWaitingçŠ¶æ€çš„çº¿ç¨‹&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;synchronizedå…³é”®å­—çš„åº•å±‚åŸç†-è¿›é˜¶&#34;&gt;&lt;a href=&#34;#synchronizedå…³é”®å­—çš„åº•å±‚åŸç†-è¿›é˜¶&#34; class=&#34;headerlink&#34; title=&#34;synchronizedå…³é”®å­—çš„åº•å±‚åŸç†-è¿›é˜¶&#34;&gt;&lt;/a&gt;synchronizedå…³é”®å­—çš„åº•å±‚åŸç†-è¿›é˜¶&lt;/h3&gt;&lt;p&gt;Monitorå®ç°çš„é”å±äºé‡é‡çº§é”ï¼Œä½ äº†è§£è¿‡é”å‡çº§å—ï¼Ÿ&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Monitorå®ç°çš„é”å±äºé‡é‡çº§é”ï¼Œé‡Œé¢æ¶‰åŠåˆ°äº†ç”¨æˆ·æ€å’Œå†…æ ¸æ€çš„åˆ‡æ¢ã€è¿›ç¨‹çš„ä¸Šä¸‹æ–‡åˆ‡æ¢ï¼Œæˆæœ¬è¾ƒé«˜ï¼Œæ€§èƒ½æ¯”è¾ƒä½ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;åœ¨JDK 1.6å¼•å…¥äº†ä¸¤ç§æ–°å‹é”æœºåˆ¶ï¼šåå‘é”å’Œè½»é‡çº§é”ï¼Œå®ƒä»¬çš„å¼•å…¥æ˜¯ä¸ºäº†è§£å†³åœ¨æ²¡æœ‰å¤šçº¿ç¨‹ç«äº‰æˆ–åŸºæœ¬æ²¡æœ‰ç«äº‰çš„åœºæ™¯ä¸‹å› ä½¿ç”¨ä¼ ç»Ÿé”æœºåˆ¶å¸¦æ¥çš„æ€§èƒ½å¼€é”€é—®é¢˜ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;å¯¹è±¡çš„å†…å­˜ç»“æ„&#34;&gt;&lt;a href=&#34;#å¯¹è±¡çš„å†…å­˜ç»“æ„&#34; class=&#34;headerlink&#34; title=&#34;å¯¹è±¡çš„å†…å­˜ç»“æ„&#34;&gt;&lt;/a&gt;å¯¹è±¡çš„å†…å­˜ç»“æ„&lt;/h4&gt;&lt;p&gt;åœ¨HotSpotè™šæ‹Ÿæœºä¸­ï¼Œå¯¹è±¡åœ¨å†…å­˜ä¸­å­˜å‚¨çš„å¸ƒå±€å¯åˆ†ä¸º3å—åŒºåŸŸï¼šå¯¹è±¡å¤´ï¼ˆHeaderï¼‰ã€å®ä¾‹æ•°æ®ï¼ˆInstance Dataï¼‰å’Œå¯¹é½å¡«å……&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230504172253826.png&#34; alt=&#34;image-20230504172253826&#34;&gt;&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬éœ€è¦é‡ç‚¹åˆ†æMarkWordå¯¹è±¡å¤´&lt;/p&gt;
&lt;h4 id=&#34;MarkWord&#34;&gt;&lt;a href=&#34;#MarkWord&#34; class=&#34;headerlink&#34; title=&#34;MarkWord&#34;&gt;&lt;/a&gt;MarkWord&lt;/h4&gt;&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230504172541922.png&#34; alt=&#34;image-20230504172541922&#34;&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;hashcodeï¼š25ä½çš„å¯¹è±¡æ ‡è¯†Hashç &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;ageï¼šå¯¹è±¡åˆ†ä»£å¹´é¾„å 4ä½&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;biased_lockï¼šåå‘é”æ ‡è¯†ï¼Œå 1ä½ ï¼Œ0è¡¨ç¤ºæ²¡æœ‰å¼€å§‹åå‘é”ï¼Œ1è¡¨ç¤ºå¼€å¯äº†åå‘é”&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;threadï¼šæŒæœ‰åå‘é”çš„çº¿ç¨‹IDï¼Œå 23ä½&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;epochï¼šåå‘æ—¶é—´æˆ³ï¼Œå 2ä½&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;ptr_to_lock_recordï¼šè½»é‡çº§é”çŠ¶æ€ä¸‹ï¼ŒæŒ‡å‘æ ˆä¸­é”è®°å½•çš„æŒ‡é’ˆï¼Œå 30ä½&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;ptr_to_heavyweight_monitorï¼šé‡é‡çº§é”çŠ¶æ€ä¸‹ï¼ŒæŒ‡å‘å¯¹è±¡ç›‘è§†å™¨Monitorçš„æŒ‡é’ˆï¼Œå 30ä½&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;æˆ‘ä»¬å¯ä»¥é€šè¿‡lockçš„æ ‡è¯†ï¼Œæ¥åˆ¤æ–­æ˜¯å“ªä¸€ç§é”çš„ç­‰çº§&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;åä¸‰ä½æ˜¯001è¡¨ç¤ºæ— é”&lt;/li&gt;
&lt;li&gt;åä¸‰ä½æ˜¯101è¡¨ç¤ºåå‘é”&lt;/li&gt;
&lt;li&gt;åä¸¤ä½æ˜¯00è¡¨ç¤ºè½»é‡çº§é”&lt;/li&gt;
&lt;li&gt;åä¸¤ä½æ˜¯10è¡¨ç¤ºé‡é‡çº§é”&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;å†è¯´Monitoré‡é‡çº§é”&#34;&gt;&lt;a href=&#34;#å†è¯´Monitoré‡é‡çº§é”&#34; class=&#34;headerlink&#34; title=&#34;å†è¯´Monitoré‡é‡çº§é”&#34;&gt;&lt;/a&gt;å†è¯´Monitoré‡é‡çº§é”&lt;/h4&gt;&lt;p&gt;æ¯ä¸ª Java å¯¹è±¡éƒ½å¯ä»¥å…³è”ä¸€ä¸ª Monitor å¯¹è±¡ï¼Œå¦‚æœä½¿ç”¨ synchronized ç»™å¯¹è±¡ä¸Šé”ï¼ˆé‡é‡çº§ï¼‰ä¹‹åï¼Œ&lt;strong&gt;è¯¥å¯¹è±¡å¤´çš„Mark Word ä¸­å°±è¢«è®¾ç½®æŒ‡å‘ Monitor å¯¹è±¡çš„æŒ‡é’ˆ&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230504172957271.png&#34; alt=&#34;image-20230504172957271&#34;&gt;&lt;/p&gt;
&lt;p&gt;ç®€å•è¯´å°±æ˜¯ï¼šæ¯ä¸ªå¯¹è±¡çš„å¯¹è±¡å¤´éƒ½å¯ä»¥è®¾ç½®monoitorçš„æŒ‡é’ˆï¼Œè®©å¯¹è±¡ä¸monitoräº§ç”Ÿå…³è”&lt;/p&gt;
&lt;h4 id=&#34;è½»é‡çº§é”&#34;&gt;&lt;a href=&#34;#è½»é‡çº§é”&#34; class=&#34;headerlink&#34; title=&#34;è½»é‡çº§é”&#34;&gt;&lt;/a&gt;è½»é‡çº§é”&lt;/h4&gt;&lt;p&gt;åœ¨å¾ˆå¤šçš„æƒ…å†µä¸‹ï¼Œåœ¨Javaç¨‹åºè¿è¡Œæ—¶ï¼ŒåŒæ­¥å—ä¸­çš„ä»£ç éƒ½æ˜¯ä¸å­˜åœ¨ç«äº‰çš„ï¼Œä¸åŒçš„çº¿ç¨‹äº¤æ›¿çš„æ‰§è¡ŒåŒæ­¥å—ä¸­çš„ä»£ç ã€‚è¿™ç§æƒ…å†µä¸‹ï¼Œç”¨é‡é‡çº§é”æ˜¯æ²¡å¿…è¦çš„ã€‚å› æ­¤JVMå¼•å…¥äº†è½»é‡çº§é”çš„æ¦‚å¿µã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;java&#34;&gt;static final Object obj = new Object();

public static void method1() &amp;#123;
    synchronized (obj) &amp;#123;
        // åŒæ­¥å— A
        method2();
    &amp;#125;
&amp;#125;

public static void method2() &amp;#123;
    synchronized (obj) &amp;#123;
        // åŒæ­¥å— B
    &amp;#125;
&amp;#125;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;åŠ é”çš„æµç¨‹&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;1.åœ¨çº¿ç¨‹æ ˆä¸­åˆ›å»ºä¸€ä¸ªLock Recordï¼Œå°†å…¶objå­—æ®µæŒ‡å‘é”å¯¹è±¡ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230504173520412.png&#34; alt=&#34;image-20230504173520412&#34;&gt;&lt;/p&gt;
&lt;p&gt;2.é€šè¿‡CASæŒ‡ä»¤å°†Lock Recordçš„åœ°å€å­˜å‚¨åœ¨å¯¹è±¡å¤´çš„mark wordä¸­ï¼ˆæ•°æ®è¿›è¡Œäº¤æ¢ï¼‰ï¼Œå¦‚æœå¯¹è±¡å¤„äºæ— é”çŠ¶æ€åˆ™ä¿®æ”¹æˆåŠŸï¼Œä»£è¡¨è¯¥çº¿ç¨‹è·å¾—äº†è½»é‡çº§é”ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230504173611219.png&#34; alt=&#34;image-20230504173611219&#34;&gt;&lt;/p&gt;
&lt;p&gt;3.å¦‚æœæ˜¯å½“å‰çº¿ç¨‹å·²ç»æŒæœ‰è¯¥é”äº†ï¼Œä»£è¡¨è¿™æ˜¯ä¸€æ¬¡é”é‡å…¥ã€‚è®¾ç½®Lock Recordç¬¬ä¸€éƒ¨åˆ†ä¸ºnullï¼Œèµ·åˆ°äº†ä¸€ä¸ªé‡å…¥è®¡æ•°å™¨çš„ä½œç”¨ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230504173922343.png&#34; alt=&#34;image-20230504173922343&#34;&gt;&lt;/p&gt;
&lt;p&gt;4.å¦‚æœCASä¿®æ”¹å¤±è´¥ï¼Œè¯´æ˜å‘ç”Ÿäº†ç«äº‰ï¼Œéœ€è¦è†¨èƒ€ä¸ºé‡é‡çº§é”ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;è§£é”è¿‡ç¨‹&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;1.éå†çº¿ç¨‹æ ˆ,æ‰¾åˆ°æ‰€æœ‰objå­—æ®µç­‰äºå½“å‰é”å¯¹è±¡çš„Lock Recordã€‚&lt;/p&gt;
&lt;p&gt;2.å¦‚æœLock Recordçš„Mark Wordä¸ºnullï¼Œä»£è¡¨è¿™æ˜¯ä¸€æ¬¡é‡å…¥ï¼Œå°†objè®¾ç½®ä¸ºnullåcontinueã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230504173955680.png&#34; alt=&#34;image-20230504173955680&#34;&gt;&lt;/p&gt;
&lt;p&gt;3.å¦‚æœLock Recordçš„ Mark Wordä¸ä¸ºnullï¼Œåˆ™åˆ©ç”¨CASæŒ‡ä»¤å°†å¯¹è±¡å¤´çš„mark wordæ¢å¤æˆä¸ºæ— é”çŠ¶æ€ã€‚å¦‚æœå¤±è´¥åˆ™è†¨èƒ€ä¸ºé‡é‡çº§é”ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230504174045458.png&#34; alt=&#34;image-20230504174045458&#34;&gt;&lt;/p&gt;
&lt;h4 id=&#34;åå‘é”&#34;&gt;&lt;a href=&#34;#åå‘é”&#34; class=&#34;headerlink&#34; title=&#34;åå‘é”&#34;&gt;&lt;/a&gt;åå‘é”&lt;/h4&gt;&lt;p&gt;è½»é‡çº§é”åœ¨æ²¡æœ‰ç«äº‰æ—¶ï¼ˆå°±è‡ªå·±è¿™ä¸ªçº¿ç¨‹ï¼‰ï¼Œæ¯æ¬¡é‡å…¥ä»ç„¶éœ€è¦æ‰§è¡Œ CAS æ“ä½œã€‚&lt;/p&gt;
&lt;p&gt;Java 6 ä¸­å¼•å…¥äº†åå‘é”æ¥åšè¿›ä¸€æ­¥ä¼˜åŒ–ï¼šåªæœ‰ç¬¬ä¸€æ¬¡ä½¿ç”¨ CAS å°†çº¿ç¨‹ ID è®¾ç½®åˆ°å¯¹è±¡çš„ Mark Word å¤´ï¼Œä¹‹åå‘ç°&lt;/p&gt;
&lt;p&gt;è¿™ä¸ªçº¿ç¨‹ ID æ˜¯è‡ªå·±çš„å°±è¡¨ç¤ºæ²¡æœ‰ç«äº‰ï¼Œä¸ç”¨é‡æ–° CASã€‚ä»¥ååªè¦ä¸å‘ç”Ÿç«äº‰ï¼Œè¿™ä¸ªå¯¹è±¡å°±å½’è¯¥çº¿ç¨‹æ‰€æœ‰&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;java&#34;&gt;static final Object obj = new Object();

public static void m1() &amp;#123;
    synchronized (obj) &amp;#123;
        // åŒæ­¥å— A
        m2();
    &amp;#125;
&amp;#125;

public static void m2() &amp;#123;
    synchronized (obj) &amp;#123;
        // åŒæ­¥å— B
        m3();
    &amp;#125;
&amp;#125;

public static void m3() &amp;#123;
    synchronized (obj) &amp;#123;

    &amp;#125;
&amp;#125;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;åŠ é”çš„æµç¨‹&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;1.åœ¨çº¿ç¨‹æ ˆä¸­åˆ›å»ºä¸€ä¸ªLock Recordï¼Œå°†å…¶objå­—æ®µæŒ‡å‘é”å¯¹è±¡ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230504174525256.png&#34; alt=&#34;image-20230504174525256&#34;&gt;&lt;/p&gt;
&lt;p&gt;2.é€šè¿‡CASæŒ‡ä»¤å°†Lock Recordçš„&lt;strong&gt;çº¿ç¨‹id&lt;/strong&gt;å­˜å‚¨åœ¨å¯¹è±¡å¤´çš„mark wordä¸­ï¼ŒåŒæ—¶ä¹Ÿè®¾ç½®åå‘é”çš„æ ‡è¯†ä¸º101ï¼Œå¦‚æœå¯¹è±¡å¤„äºæ— é”çŠ¶æ€åˆ™ä¿®æ”¹æˆåŠŸï¼Œä»£è¡¨è¯¥çº¿ç¨‹è·å¾—äº†åå‘é”ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230504174505031.png&#34; alt=&#34;image-20230504174505031&#34;&gt;&lt;/p&gt;
&lt;p&gt;3.å¦‚æœæ˜¯å½“å‰çº¿ç¨‹å·²ç»æŒæœ‰è¯¥é”äº†ï¼Œä»£è¡¨è¿™æ˜¯ä¸€æ¬¡é”é‡å…¥ã€‚è®¾ç½®Lock Recordç¬¬ä¸€éƒ¨åˆ†ä¸ºnullï¼Œèµ·åˆ°äº†ä¸€ä¸ªé‡å…¥è®¡æ•°å™¨çš„ä½œç”¨ã€‚ä¸è½»é‡çº§é”ä¸åŒçš„æ—¶ï¼Œè¿™é‡Œä¸ä¼šå†æ¬¡è¿›è¡Œcasæ“ä½œï¼Œåªæ˜¯åˆ¤æ–­å¯¹è±¡å¤´ä¸­çš„çº¿ç¨‹idæ˜¯å¦æ˜¯è‡ªå·±ï¼Œå› ä¸ºç¼ºå°‘äº†casæ“ä½œï¼Œæ€§èƒ½ç›¸å¯¹è½»é‡çº§é”æ›´å¥½ä¸€äº›&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230504174736226.png&#34; alt=&#34;image-20230504174736226&#34;&gt;&lt;/p&gt;
&lt;p&gt;è§£é”æµç¨‹å‚è€ƒè½»é‡çº§é”&lt;/p&gt;
&lt;h4 id=&#34;å‚è€ƒå›ç­”&#34;&gt;&lt;a href=&#34;#å‚è€ƒå›ç­”&#34; class=&#34;headerlink&#34; title=&#34;å‚è€ƒå›ç­”&#34;&gt;&lt;/a&gt;å‚è€ƒå›ç­”&lt;/h4&gt;&lt;p&gt;Javaä¸­çš„synchronizedæœ‰åå‘é”ã€è½»é‡çº§é”ã€é‡é‡çº§é”ä¸‰ç§å½¢å¼ï¼Œåˆ†åˆ«å¯¹åº”äº†é”åªè¢«ä¸€ä¸ªçº¿ç¨‹æŒæœ‰ã€ä¸åŒçº¿ç¨‹äº¤æ›¿æŒæœ‰é”ã€å¤šçº¿ç¨‹ç«äº‰é”ä¸‰ç§æƒ…å†µã€‚&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;æè¿°&lt;/strong&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;&lt;tr&gt;
&lt;td&gt;é‡é‡çº§é”&lt;/td&gt;
&lt;td&gt;åº•å±‚ä½¿ç”¨çš„Monitorå®ç°ï¼Œé‡Œé¢æ¶‰åŠåˆ°äº†ç”¨æˆ·æ€å’Œå†…æ ¸æ€çš„åˆ‡æ¢ã€è¿›ç¨‹çš„ä¸Šä¸‹æ–‡åˆ‡æ¢ï¼Œæˆæœ¬è¾ƒé«˜ï¼Œæ€§èƒ½æ¯”è¾ƒä½ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;è½»é‡çº§é”&lt;/td&gt;
&lt;td&gt;çº¿ç¨‹åŠ é”çš„æ—¶é—´æ˜¯é”™å¼€çš„ï¼ˆä¹Ÿå°±æ˜¯æ²¡æœ‰ç«äº‰ï¼‰ï¼Œå¯ä»¥ä½¿ç”¨è½»é‡çº§é”æ¥ä¼˜åŒ–ã€‚è½»é‡çº§ä¿®æ”¹äº†å¯¹è±¡å¤´çš„é”æ ‡å¿—ï¼Œç›¸å¯¹é‡é‡çº§é”æ€§èƒ½æå‡å¾ˆå¤šã€‚æ¯æ¬¡ä¿®æ”¹éƒ½æ˜¯CASæ“ä½œï¼Œä¿è¯åŸå­æ€§&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;åå‘é”&lt;/td&gt;
&lt;td&gt;ä¸€æ®µå¾ˆé•¿çš„æ—¶é—´å†…éƒ½åªè¢«ä¸€ä¸ªçº¿ç¨‹ä½¿ç”¨é”ï¼Œå¯ä»¥ä½¿ç”¨äº†åå‘é”ï¼Œåœ¨ç¬¬ä¸€æ¬¡è·å¾—é”æ—¶ï¼Œä¼šæœ‰ä¸€ä¸ªCASæ“ä½œï¼Œä¹‹åè¯¥çº¿ç¨‹å†è·å–é”ï¼Œåªéœ€è¦åˆ¤æ–­mark  wordä¸­æ˜¯å¦æ˜¯è‡ªå·±çš„çº¿ç¨‹idå³å¯ï¼Œè€Œä¸æ˜¯å¼€é”€ç›¸å¯¹è¾ƒå¤§çš„CASå‘½ä»¤&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;p&gt;&lt;strong&gt;ä¸€æ—¦é”å‘ç”Ÿäº†ç«äº‰ï¼Œéƒ½ä¼šå‡çº§ä¸ºé‡é‡çº§é”&lt;/strong&gt;&lt;/p&gt;
&lt;h3 id=&#34;è°ˆè°ˆ-JMMï¼ˆJava-å†…å­˜æ¨¡å‹ï¼‰&#34;&gt;&lt;a href=&#34;#è°ˆè°ˆ-JMMï¼ˆJava-å†…å­˜æ¨¡å‹ï¼‰&#34; class=&#34;headerlink&#34; title=&#34;è°ˆè°ˆ JMMï¼ˆJava å†…å­˜æ¨¡å‹ï¼‰&#34;&gt;&lt;/a&gt;è°ˆè°ˆ JMMï¼ˆJava å†…å­˜æ¨¡å‹ï¼‰&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;éš¾æ˜“ç¨‹åº¦ï¼šâ˜†â˜†â˜†&lt;/p&gt;
&lt;p&gt;å‡ºç°é¢‘ç‡ï¼šâ˜†â˜†â˜†&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;JMM(Java Memory Model)Javaå†…å­˜æ¨¡å‹,æ˜¯javaè™šæ‹Ÿæœºè§„èŒƒä¸­æ‰€å®šä¹‰çš„ä¸€ç§å†…å­˜æ¨¡å‹ã€‚&lt;/p&gt;
&lt;p&gt;Javaå†…å­˜æ¨¡å‹(Java Memory Model)æè¿°äº†Javaç¨‹åºä¸­å„ç§å˜é‡(çº¿ç¨‹å…±äº«å˜é‡)çš„è®¿é—®è§„åˆ™ï¼Œä»¥åŠåœ¨JVMä¸­å°†å˜é‡å­˜å‚¨åˆ°å†…å­˜å’Œä»å†…å­˜ä¸­è¯»å–å˜é‡è¿™æ ·çš„åº•å±‚ç»†èŠ‚ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230504181638237.png&#34; alt=&#34;image-20230504181638237&#34;&gt;&lt;/p&gt;
&lt;p&gt;ç‰¹ç‚¹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;p&gt;æ‰€æœ‰çš„å…±äº«å˜é‡éƒ½å­˜å‚¨äºä¸»å†…å­˜(è®¡ç®—æœºçš„RAM)è¿™é‡Œæ‰€è¯´çš„å˜é‡æŒ‡çš„æ˜¯å®ä¾‹å˜é‡å’Œç±»å˜é‡ã€‚ä¸åŒ…å«å±€éƒ¨å˜é‡ï¼Œå› ä¸ºå±€éƒ¨å˜é‡æ˜¯çº¿ç¨‹ç§æœ‰çš„ï¼Œå› æ­¤ä¸å­˜åœ¨ç«äº‰é—®é¢˜ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;æ¯ä¸€ä¸ªçº¿ç¨‹è¿˜å­˜åœ¨è‡ªå·±çš„å·¥ä½œå†…å­˜ï¼Œçº¿ç¨‹çš„å·¥ä½œå†…å­˜ï¼Œä¿ç•™äº†è¢«çº¿ç¨‹ä½¿ç”¨çš„å˜é‡çš„å·¥ä½œå‰¯æœ¬ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;çº¿ç¨‹å¯¹å˜é‡çš„æ‰€æœ‰çš„æ“ä½œ(è¯»ï¼Œå†™)éƒ½å¿…é¡»åœ¨å·¥ä½œå†…å­˜ä¸­å®Œæˆï¼Œè€Œä¸èƒ½ç›´æ¥è¯»å†™ä¸»å†…å­˜ä¸­çš„å˜é‡ï¼Œä¸åŒçº¿ç¨‹ä¹‹é—´ä¹Ÿä¸èƒ½ç›´æ¥è®¿é—®å¯¹æ–¹å·¥ä½œå†…å­˜ä¸­çš„å˜é‡ï¼Œçº¿ç¨‹é—´å˜é‡çš„å€¼çš„ä¼ é€’éœ€è¦é€šè¿‡ä¸»å†…å­˜å®Œæˆã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;CAS-ä½ çŸ¥é“å—ï¼Ÿ&#34;&gt;&lt;a href=&#34;#CAS-ä½ çŸ¥é“å—ï¼Ÿ&#34; class=&#34;headerlink&#34; title=&#34;CAS ä½ çŸ¥é“å—ï¼Ÿ&#34;&gt;&lt;/a&gt;CAS ä½ çŸ¥é“å—ï¼Ÿ&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;éš¾æ˜“ç¨‹åº¦ï¼šâ˜†â˜†â˜†&lt;/p&gt;
&lt;p&gt;å‡ºç°é¢‘ç‡ï¼šâ˜†â˜†&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h4 id=&#34;æ¦‚è¿°åŠåŸºæœ¬å·¥ä½œæµç¨‹&#34;&gt;&lt;a href=&#34;#æ¦‚è¿°åŠåŸºæœ¬å·¥ä½œæµç¨‹&#34; class=&#34;headerlink&#34; title=&#34;æ¦‚è¿°åŠåŸºæœ¬å·¥ä½œæµç¨‹&#34;&gt;&lt;/a&gt;æ¦‚è¿°åŠåŸºæœ¬å·¥ä½œæµç¨‹&lt;/h4&gt;&lt;p&gt;CASçš„å…¨ç§°æ˜¯ï¼š Compare And Swap(æ¯”è¾ƒå†äº¤æ¢)ï¼Œå®ƒä½“ç°çš„ä¸€ç§ä¹è§‚é”çš„æ€æƒ³ï¼Œåœ¨æ— é”æƒ…å†µä¸‹ä¿è¯çº¿ç¨‹æ“ä½œå…±äº«æ•°æ®çš„åŸå­æ€§ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨JUCï¼ˆ java.util.concurrent ï¼‰åŒ…ä¸‹å®ç°çš„å¾ˆå¤šç±»éƒ½ç”¨åˆ°äº†CASæ“ä½œ&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;AbstractQueuedSynchronizerï¼ˆAQSæ¡†æ¶ï¼‰&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;AtomicXXXç±»&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä¾‹å­ï¼š&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬è¿˜æ˜¯åŸºäºåˆšæ‰å­¦ä¹ è¿‡çš„JMMå†…å­˜æ¨¡å‹è¿›è¡Œè¯´æ˜&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;çº¿ç¨‹1ä¸çº¿ç¨‹2éƒ½ä»ä¸»å†…å­˜ä¸­è·å–å˜é‡int a &amp;#x3D; 100,åŒæ—¶æ”¾åˆ°å„ä¸ªçº¿ç¨‹çš„å·¥ä½œå†…å­˜ä¸­&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230504181947319.png&#34; alt=&#34;image-20230504181947319&#34;&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ä¸€ä¸ªå½“å‰å†…å­˜å€¼Vã€æ—§çš„é¢„æœŸå€¼Aã€å³å°†æ›´æ–°çš„å€¼Bï¼Œå½“ä¸”ä»…å½“æ—§çš„é¢„æœŸå€¼Aå’Œå†…å­˜å€¼Vç›¸åŒæ—¶ï¼Œå°†å†…å­˜å€¼ä¿®æ”¹ä¸ºBå¹¶è¿”å›trueï¼Œå¦åˆ™ä»€ä¹ˆéƒ½ä¸åšï¼Œå¹¶è¿”å›falseã€‚å¦‚æœCASæ“ä½œå¤±è´¥ï¼Œé€šè¿‡è‡ªæ—‹çš„æ–¹å¼ç­‰å¾…å¹¶å†æ¬¡å°è¯•ï¼Œç›´åˆ°æˆåŠŸ&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;çº¿ç¨‹1æ“ä½œï¼šVï¼šint a &amp;#x3D; 100ï¼ŒAï¼šint a &amp;#x3D; 100ï¼ŒBï¼šä¿®æ”¹åçš„å€¼ï¼šint a &amp;#x3D; 101 (a++)&lt;ul&gt;
&lt;li&gt;çº¿ç¨‹1æ‹¿Açš„å€¼ä¸ä¸»å†…å­˜Vçš„å€¼è¿›è¡Œæ¯”è¾ƒï¼Œåˆ¤æ–­æ˜¯å¦ç›¸ç­‰&lt;/li&gt;
&lt;li&gt;å¦‚æœç›¸ç­‰ï¼Œåˆ™æŠŠBçš„å€¼101æ›´æ–°åˆ°ä¸»å†…å­˜ä¸­&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230504182129820.png&#34; alt=&#34;image-20230504182129820&#34;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;çº¿ç¨‹2æ“ä½œï¼šVï¼šint a &amp;#x3D; 100ï¼ŒAï¼šint a &amp;#x3D; 100ï¼ŒBï¼šä¿®æ”¹åçš„å€¼ï¼šint a &amp;#x3D; 99(aâ€“)&lt;ul&gt;
&lt;li&gt;çº¿ç¨‹2æ‹¿Açš„å€¼ä¸ä¸»å†…å­˜Vçš„å€¼è¿›è¡Œæ¯”è¾ƒï¼Œåˆ¤æ–­æ˜¯å¦ç›¸ç­‰(ç›®å‰ä¸ç›¸ç­‰ï¼Œå› ä¸ºçº¿ç¨‹1å·²æ›´æ–°Vçš„å€¼99)&lt;/li&gt;
&lt;li&gt;ä¸ç›¸ç­‰ï¼Œåˆ™çº¿ç¨‹2æ›´æ–°å¤±è´¥&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230504181827330.png&#34; alt=&#34;image-20230504181827330&#34;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;è‡ªæ—‹é”æ“ä½œ&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;å› ä¸ºæ²¡æœ‰åŠ é”ï¼Œæ‰€ä»¥çº¿ç¨‹ä¸ä¼šé™·å…¥é˜»å¡ï¼Œæ•ˆç‡è¾ƒé«˜&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;å¦‚æœç«äº‰æ¿€çƒˆï¼Œé‡è¯•é¢‘ç¹å‘ç”Ÿï¼Œæ•ˆç‡ä¼šå—å½±å“&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230504182447552.png&#34; alt=&#34;image-20230504182447552&#34;&gt;&lt;/p&gt;
&lt;p&gt;éœ€è¦ä¸æ–­å°è¯•è·å–å…±äº«å†…å­˜Vä¸­æœ€æ–°çš„å€¼ï¼Œç„¶åå†åœ¨æ–°çš„å€¼çš„åŸºç¡€ä¸Šè¿›è¡Œæ›´æ–°æ“ä½œï¼Œå¦‚æœå¤±è´¥å°±ç»§ç»­å°è¯•è·å–æ–°çš„å€¼ï¼Œç›´åˆ°æ›´æ–°æˆåŠŸ&lt;/p&gt;
&lt;h4 id=&#34;CAS-åº•å±‚å®ç°&#34;&gt;&lt;a href=&#34;#CAS-åº•å±‚å®ç°&#34; class=&#34;headerlink&#34; title=&#34;CAS åº•å±‚å®ç°&#34;&gt;&lt;/a&gt;CAS åº•å±‚å®ç°&lt;/h4&gt;&lt;p&gt;CAS åº•å±‚ä¾èµ–äºä¸€ä¸ª Unsafe ç±»æ¥ç›´æ¥è°ƒç”¨æ“ä½œç³»ç»Ÿåº•å±‚çš„ CAS æŒ‡ä»¤&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230504182737931.png&#34; alt=&#34;image-20230504182737931&#34;&gt;&lt;/p&gt;
&lt;p&gt;éƒ½æ˜¯nativeä¿®é¥°çš„æ–¹æ³•ï¼Œç”±ç³»ç»Ÿæä¾›çš„æ¥å£æ‰§è¡Œï¼Œå¹¶éjavaä»£ç å®ç°ï¼Œä¸€èˆ¬çš„æ€è·¯ä¹Ÿéƒ½æ˜¯è‡ªæ—‹é”å®ç°&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230504182838426.png&#34; alt=&#34;image-20230504182838426&#34;&gt;&lt;/p&gt;
&lt;p&gt;åœ¨javaä¸­æ¯”è¾ƒå¸¸è§ä½¿ç”¨æœ‰å¾ˆå¤šï¼Œæ¯”å¦‚ReentrantLockå’ŒAtomicå¼€å¤´çš„çº¿ç¨‹å®‰å…¨ç±»ï¼Œéƒ½è°ƒç”¨äº†Unsafeä¸­çš„æ–¹æ³•&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ReentrantLockä¸­çš„ä¸€æ®µCASä»£ç &lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230504182958703.png&#34; alt=&#34;image-20230504182958703&#34;&gt;&lt;/p&gt;
&lt;h4 id=&#34;ä¹è§‚é”å’Œæ‚²è§‚é”&#34;&gt;&lt;a href=&#34;#ä¹è§‚é”å’Œæ‚²è§‚é”&#34; class=&#34;headerlink&#34; title=&#34;ä¹è§‚é”å’Œæ‚²è§‚é”&#34;&gt;&lt;/a&gt;ä¹è§‚é”å’Œæ‚²è§‚é”&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;&lt;p&gt;CAS æ˜¯åŸºäºä¹è§‚é”çš„æ€æƒ³ï¼šæœ€ä¹è§‚çš„ä¼°è®¡ï¼Œä¸æ€•åˆ«çš„çº¿ç¨‹æ¥ä¿®æ”¹å…±äº«å˜é‡ï¼Œå°±ç®—æ”¹äº†ä¹Ÿæ²¡å…³ç³»ï¼Œæˆ‘åƒäºç‚¹å†é‡è¯•å‘—ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;synchronized æ˜¯åŸºäºæ‚²è§‚é”çš„æ€æƒ³ï¼šæœ€æ‚²è§‚çš„ä¼°è®¡ï¼Œå¾—é˜²ç€å…¶å®ƒçº¿ç¨‹æ¥ä¿®æ”¹å…±äº«å˜é‡ï¼Œæˆ‘ä¸Šäº†é”ä½ ä»¬éƒ½åˆ«æƒ³æ”¹ï¼Œæˆ‘æ”¹å®Œäº†è§£å¼€é”ï¼Œä½ ä»¬æ‰æœ‰æœºä¼šã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;è¯·è°ˆè°ˆä½ å¯¹-volatile-çš„ç†è§£&#34;&gt;&lt;a href=&#34;#è¯·è°ˆè°ˆä½ å¯¹-volatile-çš„ç†è§£&#34; class=&#34;headerlink&#34; title=&#34;è¯·è°ˆè°ˆä½ å¯¹ volatile çš„ç†è§£&#34;&gt;&lt;/a&gt;è¯·è°ˆè°ˆä½ å¯¹ volatile çš„ç†è§£&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;éš¾æ˜“ç¨‹åº¦ï¼šâ˜†â˜†â˜†&lt;/p&gt;
&lt;p&gt;å‡ºç°é¢‘ç‡ï¼šâ˜†â˜†â˜†&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ä¸€æ—¦ä¸€ä¸ªå…±äº«å˜é‡ï¼ˆç±»çš„æˆå‘˜å˜é‡ã€ç±»çš„é™æ€æˆå‘˜å˜é‡ï¼‰è¢«volatileä¿®é¥°ä¹‹åï¼Œé‚£ä¹ˆå°±å…·å¤‡äº†ä¸¤å±‚è¯­ä¹‰ï¼š&lt;/p&gt;
&lt;h4 id=&#34;ä¿è¯çº¿ç¨‹é—´çš„å¯è§æ€§&#34;&gt;&lt;a href=&#34;#ä¿è¯çº¿ç¨‹é—´çš„å¯è§æ€§&#34; class=&#34;headerlink&#34; title=&#34;ä¿è¯çº¿ç¨‹é—´çš„å¯è§æ€§&#34;&gt;&lt;/a&gt;ä¿è¯çº¿ç¨‹é—´çš„å¯è§æ€§&lt;/h4&gt;&lt;p&gt;ä¿è¯äº†ä¸åŒçº¿ç¨‹å¯¹è¿™ä¸ªå˜é‡è¿›è¡Œæ“ä½œæ—¶çš„å¯è§æ€§ï¼Œå³ä¸€ä¸ªçº¿ç¨‹ä¿®æ”¹äº†æŸä¸ªå˜é‡çš„å€¼ï¼Œè¿™æ–°å€¼å¯¹å…¶ä»–çº¿ç¨‹æ¥è¯´æ˜¯ç«‹å³å¯è§çš„,volatileå…³é”®å­—ä¼šå¼ºåˆ¶å°†ä¿®æ”¹çš„å€¼ç«‹å³å†™å…¥ä¸»å­˜ã€‚&lt;/p&gt;
&lt;p&gt;ä¸€ä¸ªå…¸å‹çš„ä¾‹å­ï¼šæ°¸ä¸åœæ­¢çš„å¾ªç¯&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;java&#34;&gt;package com.itheima.basic;


// å¯è§æ€§ä¾‹å­
// -Xint
public class ForeverLoop &amp;#123;
    static boolean stop = false;

    public static void main(String[] args) &amp;#123;
        new Thread(() -&amp;gt; &amp;#123;
            try &amp;#123;
                Thread.sleep(100);
            &amp;#125; catch (InterruptedException e) &amp;#123;
                e.printStackTrace();
            &amp;#125;
            stop = true;
            System.out.println(&amp;quot;modify stop to true...&amp;quot;);
        &amp;#125;).start();
        foo();
    &amp;#125;

    static void foo() &amp;#123;
        int i = 0;
        while (!stop) &amp;#123;
            i++;
        &amp;#125;
        System.out.println(&amp;quot;stopped... c:&amp;quot;+ i);
    &amp;#125;
&amp;#125;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å½“æ‰§è¡Œä¸Šè¿°ä»£ç çš„æ—¶å€™ï¼Œå‘ç°foo()æ–¹æ³•ä¸­çš„å¾ªç¯æ˜¯ç»“æŸä¸äº†çš„ï¼Œä¹Ÿå°±è¯´è¯»å–ä¸åˆ°å…±äº«å˜é‡çš„å€¼ç»“æŸå¾ªç¯ã€‚&lt;/p&gt;
&lt;p&gt;ä¸»è¦æ˜¯å› ä¸ºåœ¨JVMè™šæ‹Ÿæœºä¸­æœ‰ä¸€ä¸ªJITï¼ˆå³æ—¶ç¼–è¾‘å™¨ï¼‰ç»™ä»£ç åšäº†ä¼˜åŒ–ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ä¸Šè¿°ä»£ç &lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;java&#34;&gt;while (!stop) &amp;#123;
i++;
&amp;#125;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;åœ¨å¾ˆçŸ­çš„æ—¶é—´å†…ï¼Œè¿™ä¸ªä»£ç æ‰§è¡Œçš„æ¬¡æ•°å¤ªå¤šäº†ï¼Œå½“è¾¾åˆ°äº†ä¸€ä¸ªé˜ˆå€¼ï¼ŒJITå°±ä¼šä¼˜åŒ–æ­¤ä»£ç ï¼Œå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;java&#34;&gt;while (true) &amp;#123;
i++;
&amp;#125;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å½“æŠŠä»£ç ä¼˜åŒ–æˆè¿™æ ·å­ä»¥åï¼ŒåŠæ—¶&lt;code&gt;stop&lt;/code&gt;å˜é‡æ”¹å˜ä¸ºäº†&lt;code&gt;false&lt;/code&gt;ä¹Ÿä¾ç„¶åœæ­¢ä¸äº†å¾ªç¯&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;è§£å†³æ–¹æ¡ˆï¼š&lt;/p&gt;
&lt;p&gt;ç¬¬ä¸€ï¼š&lt;/p&gt;
&lt;p&gt;åœ¨ç¨‹åºè¿è¡Œçš„æ—¶å€™åŠ å…¥vmå‚æ•°&lt;code&gt;-Xint&lt;/code&gt;è¡¨ç¤ºç¦ç”¨å³æ—¶ç¼–è¾‘å™¨ï¼Œä¸æ¨èï¼Œå¾—ä¸å¿å¤±ï¼ˆå…¶ä»–ç¨‹åºè¿˜è¦ä½¿ç”¨ï¼‰&lt;/p&gt;
&lt;p&gt;ç¬¬äºŒï¼š&lt;/p&gt;
&lt;p&gt;åœ¨ä¿®é¥°&lt;code&gt;stop&lt;/code&gt;å˜é‡çš„æ—¶å€™åŠ ä¸Š&lt;code&gt;volatile&lt;/code&gt;,è¡¨ç¤ºå½“å‰ä»£ç ç¦ç”¨äº†å³æ—¶ç¼–è¾‘å™¨ï¼Œé—®é¢˜å°±å¯ä»¥è§£å†³ï¼Œä»£ç å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;java&#34;&gt;static volatile boolean stop = false;
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;ç¦æ­¢è¿›è¡ŒæŒ‡ä»¤é‡æ’åº&#34;&gt;&lt;a href=&#34;#ç¦æ­¢è¿›è¡ŒæŒ‡ä»¤é‡æ’åº&#34; class=&#34;headerlink&#34; title=&#34;ç¦æ­¢è¿›è¡ŒæŒ‡ä»¤é‡æ’åº&#34;&gt;&lt;/a&gt;ç¦æ­¢è¿›è¡ŒæŒ‡ä»¤é‡æ’åº&lt;/h4&gt;&lt;p&gt;ç”¨ volatile ä¿®é¥°å…±äº«å˜é‡ä¼šåœ¨è¯»ã€å†™å…±äº«å˜é‡æ—¶åŠ å…¥ä¸åŒçš„å±éšœï¼Œé˜»æ­¢å…¶ä»–è¯»å†™æ“ä½œè¶Šè¿‡å±éšœï¼Œä»è€Œè¾¾åˆ°é˜»æ­¢é‡æ’åºçš„æ•ˆæœ&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230505082441116.png&#34; alt=&#34;image-20230505082441116&#34;&gt;&lt;/p&gt;
&lt;p&gt;åœ¨å»è·å–ä¸Šé¢çš„ç»“æœçš„æ—¶å€™ï¼Œæœ‰å¯èƒ½ä¼šå‡ºç°4ç§æƒ…å†µ&lt;/p&gt;
&lt;p&gt;æƒ…å†µä¸€ï¼šå…ˆæ‰§è¡Œactor2è·å–ç»“æœâ€”&amp;gt;0,0(æ­£å¸¸)&lt;/p&gt;
&lt;p&gt;æƒ…å†µäºŒï¼šå…ˆæ‰§è¡Œactor1ä¸­çš„ç¬¬ä¸€è¡Œä»£ç ï¼Œç„¶åæ‰§è¡Œactor2è·å–ç»“æœâ€”&amp;gt;0,1(æ­£å¸¸)&lt;/p&gt;
&lt;p&gt;æƒ…å†µä¸‰ï¼šå…ˆæ‰§è¡Œactor1ä¸­æ‰€æœ‰ä»£ç ï¼Œç„¶åæ‰§è¡Œactor2è·å–ç»“æœâ€”&amp;gt;1,1(æ­£å¸¸)&lt;/p&gt;
&lt;p&gt;æƒ…å†µå››ï¼šå…ˆæ‰§è¡Œactor1ä¸­ç¬¬äºŒè¡Œä»£ç ï¼Œç„¶åæ‰§è¡Œactor2è·å–ç»“æœâ€”&amp;gt;1,0(å‘ç”Ÿäº†æŒ‡ä»¤é‡æ’åºï¼Œå½±å“ç»“æœ)&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;è§£å†³æ–¹æ¡ˆ&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;åœ¨å˜é‡ä¸Šæ·»åŠ volatileï¼Œç¦æ­¢æŒ‡ä»¤é‡æ’åºï¼Œåˆ™å¯ä»¥è§£å†³é—®é¢˜&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230505082835588.png&#34; alt=&#34;image-20230505082835588&#34;&gt;&lt;/p&gt;
&lt;p&gt;å±éšœæ·»åŠ çš„ç¤ºæ„å›¾&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230505082923729.png&#34; alt=&#34;image-20230505082923729&#34;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å†™æ“ä½œåŠ çš„å±éšœæ˜¯é˜»æ­¢ä¸Šæ–¹å…¶å®ƒå†™æ“ä½œè¶Šè¿‡å±éšœæ’åˆ°volatileå˜é‡å†™ä¹‹ä¸‹&lt;/li&gt;
&lt;li&gt;è¯»æ“ä½œåŠ çš„å±éšœæ˜¯é˜»æ­¢ä¸‹æ–¹å…¶å®ƒè¯»æ“ä½œè¶Šè¿‡å±éšœæ’åˆ°volatileå˜é‡è¯»ä¹‹ä¸Š&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;å…¶ä»–è¡¥å……&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬ä¸Šé¢çš„è§£å†³æ–¹æ¡ˆæ˜¯æŠŠvolatileåŠ åœ¨äº†int yè¿™ä¸ªå˜é‡ä¸Šï¼Œæˆ‘ä»¬èƒ½ä¸èƒ½æŠŠå®ƒåŠ åœ¨int xè¿™ä¸ªå˜é‡ä¸Šå‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;ä¸‹é¢ä»£ç ä½¿ç”¨volatileä¿®é¥°äº†xå˜é‡&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230505083124159.png&#34; alt=&#34;image-20230505083124159&#34;&gt;&lt;/p&gt;
&lt;p&gt;å±éšœæ·»åŠ çš„ç¤ºæ„å›¾&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230505083217904.png&#34; alt=&#34;image-20230505083217904&#34;&gt;&lt;/p&gt;
&lt;p&gt;è¿™æ ·æ˜¾ç„¶æ˜¯ä¸è¡Œçš„ï¼Œä¸»è¦æ˜¯å› ä¸ºä¸‹é¢ä¸¤ä¸ªåŸåˆ™ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å†™æ“ä½œåŠ çš„å±éšœæ˜¯é˜»æ­¢ä¸Šæ–¹å…¶å®ƒå†™æ“ä½œè¶Šè¿‡å±éšœæ’åˆ°volatileå˜é‡å†™ä¹‹ä¸‹&lt;/li&gt;
&lt;li&gt;è¯»æ“ä½œåŠ çš„å±éšœæ˜¯é˜»æ­¢ä¸‹æ–¹å…¶å®ƒè¯»æ“ä½œè¶Šè¿‡å±éšœæ’åˆ°volatileå˜é‡è¯»ä¹‹ä¸Š&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æ‰€ä»¥ï¼Œç°åœ¨æˆ‘ä»¬å°±å¯ä»¥æ€»ç»“ä¸€ä¸ªvolatileä½¿ç”¨çš„å°å¦™æ‹›ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å†™å˜é‡è®©volatileä¿®é¥°çš„å˜é‡çš„åœ¨ä»£ç æœ€åä½ç½®&lt;/li&gt;
&lt;li&gt;è¯»å˜é‡è®©volatileä¿®é¥°çš„å˜é‡çš„åœ¨ä»£ç æœ€å¼€å§‹ä½ç½®&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;ä»€ä¹ˆæ˜¯AQSï¼Ÿ&#34;&gt;&lt;a href=&#34;#ä»€ä¹ˆæ˜¯AQSï¼Ÿ&#34; class=&#34;headerlink&#34; title=&#34;ä»€ä¹ˆæ˜¯AQSï¼Ÿ&#34;&gt;&lt;/a&gt;ä»€ä¹ˆæ˜¯AQSï¼Ÿ&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;éš¾æ˜“ç¨‹åº¦ï¼šâ˜†â˜†â˜†&lt;/p&gt;
&lt;p&gt;å‡ºç°é¢‘ç‡ï¼šâ˜†â˜†â˜†&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h4 id=&#34;æ¦‚è¿°&#34;&gt;&lt;a href=&#34;#æ¦‚è¿°&#34; class=&#34;headerlink&#34; title=&#34;æ¦‚è¿°&#34;&gt;&lt;/a&gt;æ¦‚è¿°&lt;/h4&gt;&lt;p&gt;å…¨ç§°æ˜¯ AbstractQueuedSynchronizerï¼Œæ˜¯é˜»å¡å¼é”å’Œç›¸å…³çš„åŒæ­¥å™¨å·¥å…·çš„æ¡†æ¶ï¼Œå®ƒæ˜¯æ„å»ºé”æˆ–è€…å…¶ä»–åŒæ­¥ç»„ä»¶çš„åŸºç¡€æ¡†æ¶&lt;/p&gt;
&lt;p&gt;AQSä¸Synchronizedçš„åŒºåˆ«&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;strong&gt;synchronized&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;AQS&lt;/strong&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;&lt;tr&gt;
&lt;td&gt;å…³é”®å­—ï¼Œc++ è¯­è¨€å®ç°&lt;/td&gt;
&lt;td&gt;java  è¯­è¨€å®ç°&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;æ‚²è§‚é”ï¼Œè‡ªåŠ¨é‡Šæ”¾é”&lt;/td&gt;
&lt;td&gt;æ‚²è§‚é”ï¼Œæ‰‹åŠ¨å¼€å¯å’Œå…³é—­&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;é”ç«äº‰æ¿€çƒˆéƒ½æ˜¯é‡é‡çº§é”ï¼Œæ€§èƒ½å·®&lt;/td&gt;
&lt;td&gt;é”ç«äº‰æ¿€çƒˆçš„æƒ…å†µä¸‹ï¼Œæä¾›äº†å¤šç§è§£å†³æ–¹æ¡ˆ&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;p&gt;AQSå¸¸è§çš„å®ç°ç±»&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;ReentrantLock      é˜»å¡å¼é”&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Semaphore        ä¿¡å·é‡&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;CountDownLatch   å€’è®¡æ—¶é”&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;å·¥ä½œæœºåˆ¶&#34;&gt;&lt;a href=&#34;#å·¥ä½œæœºåˆ¶&#34; class=&#34;headerlink&#34; title=&#34;å·¥ä½œæœºåˆ¶&#34;&gt;&lt;/a&gt;å·¥ä½œæœºåˆ¶&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;åœ¨AQSä¸­ç»´æŠ¤äº†ä¸€ä¸ªä½¿ç”¨äº†volatileä¿®é¥°çš„stateå±æ€§æ¥è¡¨ç¤ºèµ„æºçš„çŠ¶æ€ï¼Œ0è¡¨ç¤ºæ— é”ï¼Œ1è¡¨ç¤ºæœ‰é”&lt;/li&gt;
&lt;li&gt;æä¾›äº†åŸºäº FIFO çš„ç­‰å¾…é˜Ÿåˆ—ï¼Œç±»ä¼¼äº Monitor çš„ EntryList&lt;/li&gt;
&lt;li&gt;æ¡ä»¶å˜é‡æ¥å®ç°ç­‰å¾…ã€å”¤é†’æœºåˆ¶ï¼Œæ”¯æŒå¤šä¸ªæ¡ä»¶å˜é‡ï¼Œç±»ä¼¼äº Monitor çš„ WaitSet&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230505083840046.png&#34; alt=&#34;image-20230505083840046&#34;&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;çº¿ç¨‹0æ¥äº†ä»¥åï¼Œå»å°è¯•ä¿®æ”¹stateå±æ€§ï¼Œå¦‚æœå‘ç°stateå±æ€§æ˜¯0ï¼Œå°±ä¿®æ”¹stateçŠ¶æ€ä¸º1ï¼Œè¡¨ç¤ºçº¿ç¨‹0æŠ¢é”æˆåŠŸ&lt;/li&gt;
&lt;li&gt;çº¿ç¨‹1å’Œçº¿ç¨‹2ä¹Ÿä¼šå…ˆå°è¯•ä¿®æ”¹stateå±æ€§ï¼Œå‘ç°stateçš„å€¼å·²ç»æ˜¯1äº†ï¼Œæœ‰å…¶ä»–çº¿ç¨‹æŒæœ‰é”ï¼Œå®ƒä»¬éƒ½ä¼šåˆ°FIFOé˜Ÿåˆ—ä¸­è¿›è¡Œç­‰å¾…ï¼Œ&lt;/li&gt;
&lt;li&gt;FIFOæ˜¯ä¸€ä¸ªåŒå‘é˜Ÿåˆ—ï¼Œheadå±æ€§è¡¨ç¤ºå¤´ç»“ç‚¹ï¼Œtailè¡¨ç¤ºå°¾ç»“ç‚¹&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;strong&gt;å¦‚æœå¤šä¸ªçº¿ç¨‹å…±åŒå»æŠ¢è¿™ä¸ªèµ„æºæ˜¯å¦‚ä½•ä¿è¯åŸå­æ€§çš„å‘¢ï¼Ÿ&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230505084451193.png&#34; alt=&#34;image-20230505084451193&#34;&gt;&lt;/p&gt;
&lt;p&gt;åœ¨å»ä¿®æ”¹stateçŠ¶æ€çš„æ—¶å€™ï¼Œä½¿ç”¨çš„casè‡ªæ—‹é”æ¥ä¿è¯åŸå­æ€§ï¼Œç¡®ä¿åªèƒ½æœ‰ä¸€ä¸ªçº¿ç¨‹ä¿®æ”¹æˆåŠŸï¼Œä¿®æ”¹å¤±è´¥çš„çº¿ç¨‹å°†ä¼šè¿›å…¥FIFOé˜Ÿåˆ—ä¸­ç­‰å¾…&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;AQSæ˜¯å…¬å¹³é”å—ï¼Œè¿˜æ˜¯éå…¬å¹³é”ï¼Ÿ&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;æ–°çš„çº¿ç¨‹ä¸é˜Ÿåˆ—ä¸­çš„çº¿ç¨‹å…±åŒæ¥æŠ¢èµ„æºï¼Œæ˜¯éå…¬å¹³é”&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;æ–°çš„çº¿ç¨‹åˆ°é˜Ÿåˆ—ä¸­ç­‰å¾…ï¼Œåªè®©é˜Ÿåˆ—ä¸­çš„headçº¿ç¨‹è·å–é”ï¼Œæ˜¯å…¬å¹³é”&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;æ¯”è¾ƒå…¸å‹çš„AQSå®ç°ç±»ReentrantLockï¼Œå®ƒé»˜è®¤å°±æ˜¯éå…¬å¹³é”ï¼Œæ–°çš„çº¿ç¨‹ä¸é˜Ÿåˆ—ä¸­çš„çº¿ç¨‹å…±åŒæ¥æŠ¢èµ„æº&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;ReentrantLockçš„å®ç°åŸç†&#34;&gt;&lt;a href=&#34;#ReentrantLockçš„å®ç°åŸç†&#34; class=&#34;headerlink&#34; title=&#34;ReentrantLockçš„å®ç°åŸç†&#34;&gt;&lt;/a&gt;ReentrantLockçš„å®ç°åŸç†&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;éš¾æ˜“ç¨‹åº¦ï¼šâ˜†â˜†â˜†â˜†&lt;/p&gt;
&lt;p&gt;å‡ºç°é¢‘ç‡ï¼šâ˜†â˜†â˜†&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h4 id=&#34;æ¦‚è¿°-1&#34;&gt;&lt;a href=&#34;#æ¦‚è¿°-1&#34; class=&#34;headerlink&#34; title=&#34;æ¦‚è¿°&#34;&gt;&lt;/a&gt;æ¦‚è¿°&lt;/h4&gt;&lt;p&gt;ReentrantLockç¿»è¯‘è¿‡æ¥æ˜¯å¯é‡å…¥é”ï¼Œç›¸å¯¹äºsynchronizedå®ƒå…·å¤‡ä»¥ä¸‹ç‰¹ç‚¹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;å¯ä¸­æ–­&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;å¯ä»¥è®¾ç½®è¶…æ—¶æ—¶é—´&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;å¯ä»¥è®¾ç½®å…¬å¹³é”&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;æ”¯æŒå¤šä¸ªæ¡ä»¶å˜é‡&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;ä¸synchronizedä¸€æ ·ï¼Œéƒ½æ”¯æŒé‡å…¥&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230505091736569.png&#34; alt=&#34;image-20230505091736569&#34;&gt;&lt;/p&gt;
&lt;h4 id=&#34;å®ç°åŸç†&#34;&gt;&lt;a href=&#34;#å®ç°åŸç†&#34; class=&#34;headerlink&#34; title=&#34;å®ç°åŸç†&#34;&gt;&lt;/a&gt;å®ç°åŸç†&lt;/h4&gt;&lt;p&gt;ReentrantLockä¸»è¦åˆ©ç”¨CAS+AQSé˜Ÿåˆ—æ¥å®ç°ã€‚å®ƒæ”¯æŒå…¬å¹³é”å’Œéå…¬å¹³é”ï¼Œä¸¤è€…çš„å®ç°ç±»ä¼¼&lt;/p&gt;
&lt;p&gt;æ„é€ æ–¹æ³•æ¥å—ä¸€ä¸ªå¯é€‰çš„å…¬å¹³å‚æ•°ï¼ˆé»˜è®¤éå…¬å¹³é”ï¼‰ï¼Œå½“è®¾ç½®ä¸ºtrueæ—¶ï¼Œè¡¨ç¤ºå…¬å¹³é”ï¼Œå¦åˆ™ä¸ºéå…¬å¹³é”ã€‚å…¬å¹³é”çš„æ•ˆç‡å¾€å¾€æ²¡æœ‰éå…¬å¹³é”çš„æ•ˆç‡é«˜ï¼Œåœ¨è®¸å¤šçº¿ç¨‹è®¿é—®çš„æƒ…å†µä¸‹ï¼Œå…¬å¹³é”è¡¨ç°å‡ºè¾ƒä½çš„ååé‡ã€‚&lt;/p&gt;
&lt;p&gt;æŸ¥çœ‹ReentrantLockæºç ä¸­çš„æ„é€ æ–¹æ³•ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230505091827720.png&#34; alt=&#34;image-20230505091827720&#34;&gt;&lt;/p&gt;
&lt;p&gt;æä¾›äº†ä¸¤ä¸ªæ„é€ æ–¹æ³•ï¼Œä¸å¸¦å‚æ•°çš„é»˜è®¤ä¸ºéå…¬å¹³&lt;/p&gt;
&lt;p&gt;å¦‚æœä½¿ç”¨å¸¦å‚æ•°çš„æ„é€ å‡½æ•°ï¼Œå¹¶ä¸”ä¼ çš„å€¼ä¸ºtrueï¼Œåˆ™æ˜¯å…¬å¹³é”&lt;/p&gt;
&lt;p&gt;å…¶ä¸­NonfairSyncå’ŒFairSyncè¿™ä¸¤ä¸ªç±»çˆ¶ç±»éƒ½æ˜¯Sync&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230505092151244.png&#34; alt=&#34;image-20230505092151244&#34;&gt;&lt;/p&gt;
&lt;p&gt;è€ŒSyncçš„çˆ¶ç±»æ˜¯AQSï¼Œæ‰€ä»¥å¯ä»¥å¾—å‡ºReentrantLockåº•å±‚ä¸»è¦å®ç°å°±æ˜¯åŸºäºAQSæ¥å®ç°çš„&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230505091833629.png&#34; alt=&#34;image-20230505091833629&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å·¥ä½œæµç¨‹&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230505092340431.png&#34; alt=&#34;image-20230505092340431&#34;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;çº¿ç¨‹æ¥æŠ¢é”åä½¿ç”¨casçš„æ–¹å¼ä¿®æ”¹stateçŠ¶æ€ï¼Œä¿®æ”¹çŠ¶æ€æˆåŠŸä¸º1ï¼Œåˆ™è®©exclusiveOwnerThreadå±æ€§æŒ‡å‘å½“å‰çº¿ç¨‹ï¼Œè·å–é”æˆåŠŸ&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;å‡å¦‚ä¿®æ”¹çŠ¶æ€å¤±è´¥ï¼Œåˆ™ä¼šè¿›å…¥åŒå‘é˜Ÿåˆ—ä¸­ç­‰å¾…ï¼ŒheadæŒ‡å‘åŒå‘é˜Ÿåˆ—å¤´éƒ¨ï¼ŒtailæŒ‡å‘åŒå‘é˜Ÿåˆ—å°¾éƒ¨&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;å½“exclusiveOwnerThreadä¸ºnullçš„æ—¶å€™ï¼Œåˆ™ä¼šå”¤é†’åœ¨åŒå‘é˜Ÿåˆ—ä¸­ç­‰å¾…çš„çº¿ç¨‹&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;å…¬å¹³é”åˆ™ä½“ç°åœ¨æŒ‰ç…§å…ˆåé¡ºåºè·å–é”ï¼Œéå…¬å¹³ä½“ç°åœ¨ä¸åœ¨æ’é˜Ÿçš„çº¿ç¨‹ä¹Ÿå¯ä»¥æŠ¢é”&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;synchronizedå’ŒLockæœ‰ä»€ä¹ˆåŒºåˆ«&#34;&gt;&lt;a href=&#34;#synchronizedå’ŒLockæœ‰ä»€ä¹ˆåŒºåˆ«&#34; class=&#34;headerlink&#34; title=&#34;synchronizedå’ŒLockæœ‰ä»€ä¹ˆåŒºåˆ« ?&#34;&gt;&lt;/a&gt;synchronizedå’ŒLockæœ‰ä»€ä¹ˆåŒºåˆ« ?&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;éš¾æ˜“ç¨‹åº¦ï¼šâ˜†â˜†â˜†â˜†&lt;/p&gt;
&lt;p&gt;å‡ºç°é¢‘ç‡ï¼šâ˜†â˜†â˜†â˜†&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;å‚è€ƒå›ç­”&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è¯­æ³•å±‚é¢&lt;ul&gt;
&lt;li&gt;synchronized æ˜¯å…³é”®å­—ï¼Œæºç åœ¨ jvm ä¸­ï¼Œç”¨ c++ è¯­è¨€å®ç°&lt;/li&gt;
&lt;li&gt;Lock æ˜¯æ¥å£ï¼Œæºç ç”± jdk æä¾›ï¼Œç”¨ java è¯­è¨€å®ç°&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨ synchronized æ—¶ï¼Œé€€å‡ºåŒæ­¥ä»£ç å—é”ä¼šè‡ªåŠ¨é‡Šæ”¾ï¼Œè€Œä½¿ç”¨ Lock æ—¶ï¼Œéœ€è¦æ‰‹åŠ¨è°ƒç”¨ unlock æ–¹æ³•é‡Šæ”¾é”&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;åŠŸèƒ½å±‚é¢&lt;ul&gt;
&lt;li&gt;äºŒè€…å‡å±äºæ‚²è§‚é”ã€éƒ½å…·å¤‡åŸºæœ¬çš„äº’æ–¥ã€åŒæ­¥ã€é”é‡å…¥åŠŸèƒ½&lt;/li&gt;
&lt;li&gt;Lock æä¾›äº†è®¸å¤š synchronized ä¸å…·å¤‡çš„åŠŸèƒ½ï¼Œä¾‹å¦‚è·å–ç­‰å¾…çŠ¶æ€ã€å…¬å¹³é”ã€å¯æ‰“æ–­ã€å¯è¶…æ—¶ã€å¤šæ¡ä»¶å˜é‡&lt;/li&gt;
&lt;li&gt;Lock æœ‰é€‚åˆä¸åŒåœºæ™¯çš„å®ç°ï¼Œå¦‚ ReentrantLockï¼Œ ReentrantReadWriteLock&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;æ€§èƒ½å±‚é¢&lt;ul&gt;
&lt;li&gt;åœ¨æ²¡æœ‰ç«äº‰æ—¶ï¼Œsynchronized åšäº†å¾ˆå¤šä¼˜åŒ–ï¼Œå¦‚åå‘é”ã€è½»é‡çº§é”ï¼Œæ€§èƒ½ä¸èµ–&lt;/li&gt;
&lt;li&gt;åœ¨ç«äº‰æ¿€çƒˆæ—¶ï¼ŒLock çš„å®ç°é€šå¸¸ä¼šæä¾›æ›´å¥½çš„æ€§èƒ½&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;æ­»é”äº§ç”Ÿçš„æ¡ä»¶æ˜¯ä»€ä¹ˆï¼Ÿ&#34;&gt;&lt;a href=&#34;#æ­»é”äº§ç”Ÿçš„æ¡ä»¶æ˜¯ä»€ä¹ˆï¼Ÿ&#34; class=&#34;headerlink&#34; title=&#34;æ­»é”äº§ç”Ÿçš„æ¡ä»¶æ˜¯ä»€ä¹ˆï¼Ÿ&#34;&gt;&lt;/a&gt;æ­»é”äº§ç”Ÿçš„æ¡ä»¶æ˜¯ä»€ä¹ˆï¼Ÿ&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;éš¾æ˜“ç¨‹åº¦ï¼šâ˜†â˜†â˜†â˜†&lt;/p&gt;
&lt;p&gt;å‡ºç°é¢‘ç‡ï¼šâ˜†â˜†â˜†&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;strong&gt;æ­»é”&lt;/strong&gt;ï¼šä¸€ä¸ªçº¿ç¨‹éœ€è¦åŒæ—¶è·å–å¤šæŠŠé”ï¼Œè¿™æ—¶å°±å®¹æ˜“å‘ç”Ÿæ­»é”&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ä¾‹å¦‚ï¼š&lt;/p&gt;
&lt;p&gt;t1 çº¿ç¨‹è·å¾—Aå¯¹è±¡é”ï¼Œæ¥ä¸‹æ¥æƒ³è·å–Bå¯¹è±¡çš„é”&lt;/p&gt;
&lt;p&gt;t2 çº¿ç¨‹è·å¾—Bå¯¹è±¡é”ï¼Œæ¥ä¸‹æ¥æƒ³è·å–Aå¯¹è±¡çš„é” &lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ä»£ç å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;java&#34;&gt;package com.itheima.basic;

import static java.lang.Thread.sleep;

public class Deadlock &amp;#123;

    public static void main(String[] args) &amp;#123;
        Object A = new Object();
        Object B = new Object();
        Thread t1 = new Thread(() -&amp;gt; &amp;#123;
            synchronized (A) &amp;#123;
                System.out.println(&amp;quot;lock A&amp;quot;);
                try &amp;#123;
                    sleep(1000);
                &amp;#125; catch (InterruptedException e) &amp;#123;
                    throw new RuntimeException(e);
                &amp;#125;
                synchronized (B) &amp;#123;
                    System.out.println(&amp;quot;lock B&amp;quot;);
                    System.out.println(&amp;quot;æ“ä½œ...&amp;quot;);
                &amp;#125;
            &amp;#125;
        &amp;#125;, &amp;quot;t1&amp;quot;);

        Thread t2 = new Thread(() -&amp;gt; &amp;#123;
            synchronized (B) &amp;#123;
                System.out.println(&amp;quot;lock B&amp;quot;);
                try &amp;#123;
                    sleep(500);
                &amp;#125; catch (InterruptedException e) &amp;#123;
                    throw new RuntimeException(e);
                &amp;#125;
                synchronized (A) &amp;#123;
                    System.out.println(&amp;quot;lock A&amp;quot;);
                    System.out.println(&amp;quot;æ“ä½œ...&amp;quot;);
                &amp;#125;
            &amp;#125;
        &amp;#125;, &amp;quot;t2&amp;quot;);
        t1.start();
        t2.start();
    &amp;#125;
&amp;#125;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;æ§åˆ¶å°è¾“å‡ºç»“æœ&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20220902171032898.png&#34; alt=&#34;image-20220902171032898&#34;&gt;&lt;/p&gt;
&lt;p&gt;æ­¤æ—¶ç¨‹åºå¹¶æ²¡æœ‰ç»“æŸï¼Œè¿™ç§ç°è±¡å°±æ˜¯æ­»é”ç°è±¡â€¦çº¿ç¨‹t1æŒæœ‰Açš„é”ç­‰å¾…è·å–Bé”ï¼Œçº¿ç¨‹t2æŒæœ‰Bçš„é”ç­‰å¾…è·å–Açš„é”ã€‚&lt;/p&gt;
&lt;h3 id=&#34;å¦‚ä½•è¿›è¡Œæ­»é”è¯Šæ–­ï¼Ÿ&#34;&gt;&lt;a href=&#34;#å¦‚ä½•è¿›è¡Œæ­»é”è¯Šæ–­ï¼Ÿ&#34; class=&#34;headerlink&#34; title=&#34;å¦‚ä½•è¿›è¡Œæ­»é”è¯Šæ–­ï¼Ÿ&#34;&gt;&lt;/a&gt;å¦‚ä½•è¿›è¡Œæ­»é”è¯Šæ–­ï¼Ÿ&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;éš¾æ˜“ç¨‹åº¦ï¼šâ˜†â˜†â˜†&lt;/p&gt;
&lt;p&gt;å‡ºç°é¢‘ç‡ï¼šâ˜†â˜†â˜†&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;å½“ç¨‹åºå‡ºç°äº†æ­»é”ç°è±¡ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨jdkè‡ªå¸¦çš„å·¥å…·ï¼šjpså’Œ jstack&lt;/p&gt;
&lt;p&gt;æ­¥éª¤å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;ç¬¬ä¸€ï¼šæŸ¥çœ‹è¿è¡Œçš„çº¿ç¨‹&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20220902171426738.png&#34; alt=&#34;image-20220902171426738&#34;&gt;&lt;/p&gt;
&lt;p&gt;ç¬¬äºŒï¼šä½¿ç”¨jstackæŸ¥çœ‹çº¿ç¨‹è¿è¡Œçš„æƒ…å†µï¼Œä¸‹å›¾æ˜¯æˆªå›¾çš„å…³é”®ä¿¡æ¯&lt;/p&gt;
&lt;p&gt;è¿è¡Œå‘½ä»¤ï¼š&lt;code&gt;jstack -l 46032&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20220902172229567.png&#34; alt=&#34;image-20220902172229567&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å…¶ä»–è§£å†³å·¥å…·ï¼Œå¯è§†åŒ–å·¥å…·&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;jconsole&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ç”¨äºå¯¹jvmçš„å†…å­˜ï¼Œçº¿ç¨‹ï¼Œç±» çš„ç›‘æ§ï¼Œæ˜¯ä¸€ä¸ªåŸºäº jmx çš„ GUI æ€§èƒ½ç›‘æ§å·¥å…·&lt;/p&gt;
&lt;p&gt;æ‰“å¼€æ–¹å¼ï¼šjava å®‰è£…ç›®å½• binç›®å½•ä¸‹ ç›´æ¥å¯åŠ¨ jconsole.exe å°±è¡Œ&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;VisualVMï¼šæ•…éšœå¤„ç†å·¥å…·&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;èƒ½å¤Ÿç›‘æ§çº¿ç¨‹ï¼Œå†…å­˜æƒ…å†µï¼ŒæŸ¥çœ‹æ–¹æ³•çš„CPUæ—¶é—´å’Œå†…å­˜ä¸­çš„å¯¹ è±¡ï¼Œå·²è¢«GCçš„å¯¹è±¡ï¼Œåå‘æŸ¥çœ‹åˆ†é…çš„å †æ ˆ&lt;/p&gt;
&lt;p&gt;æ‰“å¼€æ–¹å¼ï¼šjava å®‰è£…ç›®å½• binç›®å½•ä¸‹ ç›´æ¥å¯åŠ¨ jvisualvm.exeå°±è¡Œ&lt;/p&gt;
&lt;h3 id=&#34;ConcurrentHashMap&#34;&gt;&lt;a href=&#34;#ConcurrentHashMap&#34; class=&#34;headerlink&#34; title=&#34;ConcurrentHashMap&#34;&gt;&lt;/a&gt;ConcurrentHashMap&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;éš¾æ˜“ç¨‹åº¦ï¼šâ˜†â˜†â˜†&lt;/p&gt;
&lt;p&gt;å‡ºç°é¢‘ç‡ï¼šâ˜†â˜†â˜†â˜†&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ConcurrentHashMap æ˜¯ä¸€ç§çº¿ç¨‹å®‰å…¨çš„é«˜æ•ˆMapé›†åˆ&lt;/p&gt;
&lt;p&gt;åº•å±‚æ•°æ®ç»“æ„ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;JDK1.7åº•å±‚é‡‡ç”¨åˆ†æ®µçš„æ•°ç»„+é“¾è¡¨å®ç°&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;JDK1.8 é‡‡ç”¨çš„æ•°æ®ç»“æ„è·ŸHashMap1.8çš„ç»“æ„ä¸€æ ·ï¼Œæ•°ç»„+é“¾è¡¨&amp;#x2F;çº¢é»‘äºŒå‰æ ‘ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;ï¼ˆ1ï¼‰-JDK1-7ä¸­concurrentHashMap&#34;&gt;&lt;a href=&#34;#ï¼ˆ1ï¼‰-JDK1-7ä¸­concurrentHashMap&#34; class=&#34;headerlink&#34; title=&#34;ï¼ˆ1ï¼‰ JDK1.7ä¸­concurrentHashMap&#34;&gt;&lt;/a&gt;ï¼ˆ1ï¼‰ JDK1.7ä¸­concurrentHashMap&lt;/h4&gt;&lt;p&gt;æ•°æ®ç»“æ„&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230505092654811.png&#34; alt=&#34;image-20230505092654811&#34;&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;æä¾›äº†ä¸€ä¸ªsegmentæ•°ç»„ï¼Œåœ¨åˆå§‹åŒ–ConcurrentHashMap çš„æ—¶å€™å¯ä»¥æŒ‡å®šæ•°ç»„çš„é•¿åº¦ï¼Œé»˜è®¤æ˜¯16ï¼Œä¸€æ—¦åˆå§‹åŒ–ä¹‹åä¸­é—´ä¸å¯æ‰©å®¹&lt;/li&gt;
&lt;li&gt;åœ¨æ¯ä¸ªsegmentä¸­éƒ½å¯ä»¥æŒ‚ä¸€ä¸ªHashEntryæ•°ç»„ï¼Œæ•°ç»„é‡Œé¢å¯ä»¥å­˜å‚¨å…·ä½“çš„å…ƒç´ ï¼ŒHashEntryæ•°ç»„æ˜¯å¯ä»¥æ‰©å®¹çš„&lt;/li&gt;
&lt;li&gt;åœ¨HashEntryå­˜å‚¨çš„æ•°ç»„ä¸­å­˜å‚¨çš„å…ƒç´ ï¼Œå¦‚æœå‘ç”Ÿå†²çªï¼Œåˆ™å¯ä»¥æŒ‚å•å‘é“¾è¡¨&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;å­˜å‚¨æµç¨‹&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230505093055382.png&#34; alt=&#34;image-20230505093055382&#34;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å…ˆå»è®¡ç®—keyçš„hashå€¼ï¼Œç„¶åç¡®å®šsegmentæ•°ç»„ä¸‹æ ‡&lt;/li&gt;
&lt;li&gt;å†é€šè¿‡hashå€¼ç¡®å®šhashEntryæ•°ç»„ä¸­çš„ä¸‹æ ‡å­˜å‚¨æ•°æ®&lt;/li&gt;
&lt;li&gt;åœ¨è¿›è¡Œæ“ä½œæ•°æ®çš„ä¹‹å‰ï¼Œä¼šå…ˆåˆ¤æ–­å½“å‰segmentå¯¹åº”ä¸‹æ ‡ä½ç½®æ˜¯å¦æœ‰çº¿ç¨‹è¿›è¡Œæ“ä½œï¼Œä¸ºäº†çº¿ç¨‹å®‰å…¨ä½¿ç”¨çš„æ˜¯ReentrantLockè¿›è¡ŒåŠ é”ï¼Œå¦‚æœè·å–é”æ˜¯è¢«ä¼šä½¿ç”¨casè‡ªæ—‹é”è¿›è¡Œå°è¯•&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;ï¼ˆ2ï¼‰-JDK1-8ä¸­concurrentHashMap&#34;&gt;&lt;a href=&#34;#ï¼ˆ2ï¼‰-JDK1-8ä¸­concurrentHashMap&#34; class=&#34;headerlink&#34; title=&#34;ï¼ˆ2ï¼‰ JDK1.8ä¸­concurrentHashMap&#34;&gt;&lt;/a&gt;ï¼ˆ2ï¼‰ JDK1.8ä¸­concurrentHashMap&lt;/h4&gt;&lt;p&gt;åœ¨JDK1.8ä¸­ï¼Œæ”¾å¼ƒäº†Segmentè‡ƒè‚¿çš„è®¾è®¡ï¼Œæ•°æ®ç»“æ„è·ŸHashMapçš„æ•°æ®ç»“æ„æ˜¯ä¸€æ ·çš„ï¼šæ•°ç»„+çº¢é»‘æ ‘+é“¾è¡¨&lt;/p&gt;
&lt;p&gt;é‡‡ç”¨ CAS + Synchronizedæ¥ä¿è¯å¹¶å‘å®‰å…¨è¿›è¡Œå®ç°&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;CASæ§åˆ¶æ•°ç»„èŠ‚ç‚¹çš„æ·»åŠ &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;synchronizedåªé”å®šå½“å‰é“¾è¡¨æˆ–çº¢é»‘äºŒå‰æ ‘çš„é¦–èŠ‚ç‚¹ï¼Œåªè¦hashä¸å†²çªï¼Œå°±ä¸ä¼šäº§ç”Ÿå¹¶å‘çš„é—®é¢˜ , æ•ˆç‡å¾—åˆ°æå‡&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230505093507265.png&#34; alt=&#34;image-20230505093507265&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;å¯¼è‡´å¹¶å‘ç¨‹åºå‡ºç°é—®é¢˜çš„æ ¹æœ¬åŸå› æ˜¯ä»€ä¹ˆ&#34;&gt;&lt;a href=&#34;#å¯¼è‡´å¹¶å‘ç¨‹åºå‡ºç°é—®é¢˜çš„æ ¹æœ¬åŸå› æ˜¯ä»€ä¹ˆ&#34; class=&#34;headerlink&#34; title=&#34;å¯¼è‡´å¹¶å‘ç¨‹åºå‡ºç°é—®é¢˜çš„æ ¹æœ¬åŸå› æ˜¯ä»€ä¹ˆ&#34;&gt;&lt;/a&gt;å¯¼è‡´å¹¶å‘ç¨‹åºå‡ºç°é—®é¢˜çš„æ ¹æœ¬åŸå› æ˜¯ä»€ä¹ˆ&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;éš¾æ˜“ç¨‹åº¦ï¼šâ˜†â˜†â˜†&lt;/p&gt;
&lt;p&gt;å‡ºç°é¢‘ç‡ï¼šâ˜†â˜†â˜†&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Javaå¹¶å‘ç¼–ç¨‹ä¸‰å¤§ç‰¹æ€§&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;åŸå­æ€§&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;å¯è§æ€§&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;æœ‰åºæ€§&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;ï¼ˆ1ï¼‰åŸå­æ€§&#34;&gt;&lt;a href=&#34;#ï¼ˆ1ï¼‰åŸå­æ€§&#34; class=&#34;headerlink&#34; title=&#34;ï¼ˆ1ï¼‰åŸå­æ€§&#34;&gt;&lt;/a&gt;ï¼ˆ1ï¼‰åŸå­æ€§&lt;/h4&gt;&lt;p&gt;ä¸€ä¸ªçº¿ç¨‹åœ¨CPUä¸­æ“ä½œä¸å¯æš‚åœï¼Œä¹Ÿä¸å¯ä¸­æ–­ï¼Œè¦ä¸æ‰§è¡Œå®Œæˆï¼Œè¦ä¸ä¸æ‰§è¡Œ&lt;/p&gt;
&lt;p&gt;æ¯”å¦‚ï¼Œå¦‚ä¸‹ä»£ç èƒ½ä¿è¯åŸå­æ€§å—ï¼Ÿ&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230505205200628.png&#34; alt=&#34;image-20230505205200628&#34;&gt;&lt;/p&gt;
&lt;p&gt;ä»¥ä¸Šä»£ç ä¼šå‡ºç°è¶…å–æˆ–è€…æ˜¯ä¸€å¼ ç¥¨å–ç»™åŒä¸€ä¸ªäººï¼Œæ‰§è¡Œå¹¶ä¸æ˜¯åŸå­æ€§çš„&lt;/p&gt;
&lt;p&gt;è§£å†³æ–¹æ¡ˆï¼š&lt;/p&gt;
&lt;p&gt;1.synchronizedï¼šåŒæ­¥åŠ é”&lt;/p&gt;
&lt;p&gt;2.JUCé‡Œé¢çš„lockï¼šåŠ é”&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230505210853493.png&#34; alt=&#34;image-20230505210853493&#34;&gt;&lt;/p&gt;
&lt;h4 id=&#34;ï¼ˆ3ï¼‰å†…å­˜å¯è§æ€§&#34;&gt;&lt;a href=&#34;#ï¼ˆ3ï¼‰å†…å­˜å¯è§æ€§&#34; class=&#34;headerlink&#34; title=&#34;ï¼ˆ3ï¼‰å†…å­˜å¯è§æ€§&#34;&gt;&lt;/a&gt;ï¼ˆ3ï¼‰å†…å­˜å¯è§æ€§&lt;/h4&gt;&lt;p&gt;å†…å­˜å¯è§æ€§ï¼šè®©ä¸€ä¸ªçº¿ç¨‹å¯¹å…±äº«å˜é‡çš„ä¿®æ”¹å¯¹å¦ä¸€ä¸ªçº¿ç¨‹å¯è§&lt;/p&gt;
&lt;p&gt;æ¯”å¦‚ï¼Œä»¥ä¸‹ä»£ç ä¸èƒ½ä¿è¯å†…å­˜å¯è§æ€§&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230505211002252.png&#34; alt=&#34;image-20230505211002252&#34;&gt;&lt;/p&gt;
&lt;p&gt;è§£å†³æ–¹æ¡ˆï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;synchronized&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;volatileï¼ˆæ¨èï¼‰&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;LOCK&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;ï¼ˆ3ï¼‰æœ‰åºæ€§&#34;&gt;&lt;a href=&#34;#ï¼ˆ3ï¼‰æœ‰åºæ€§&#34; class=&#34;headerlink&#34; title=&#34;ï¼ˆ3ï¼‰æœ‰åºæ€§&#34;&gt;&lt;/a&gt;ï¼ˆ3ï¼‰æœ‰åºæ€§&lt;/h4&gt;&lt;p&gt;æŒ‡ä»¤é‡æ’ï¼šå¤„ç†å™¨ä¸ºäº†æé«˜ç¨‹åºè¿è¡Œæ•ˆç‡ï¼Œå¯èƒ½ä¼šå¯¹è¾“å…¥ä»£ç è¿›è¡Œä¼˜åŒ–ï¼Œå®ƒä¸ä¿è¯ç¨‹åºä¸­å„ä¸ªè¯­å¥çš„æ‰§è¡Œå…ˆåé¡ºåºåŒä»£ç ä¸­çš„é¡ºåºä¸€è‡´ï¼Œä½†æ˜¯å®ƒä¼šä¿è¯ç¨‹åºæœ€ç»ˆæ‰§è¡Œç»“æœå’Œä»£ç é¡ºåºæ‰§è¡Œçš„ç»“æœæ˜¯ä¸€è‡´çš„&lt;/p&gt;
&lt;p&gt;è¿˜æ˜¯ä¹‹å‰çš„ä¾‹å­ï¼Œå¦‚ä¸‹ä»£ç ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230505211209336.png&#34; alt=&#34;image-20230505211209336&#34;&gt;&lt;/p&gt;
&lt;p&gt;è§£å†³æ–¹æ¡ˆï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;volatile&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;çº¿ç¨‹æ± &#34;&gt;&lt;a href=&#34;#çº¿ç¨‹æ± &#34; class=&#34;headerlink&#34; title=&#34;çº¿ç¨‹æ± &#34;&gt;&lt;/a&gt;çº¿ç¨‹æ± &lt;/h2&gt;&lt;h3 id=&#34;è¯´ä¸€ä¸‹çº¿ç¨‹æ± çš„æ ¸å¿ƒå‚æ•°ï¼ˆçº¿ç¨‹æ± çš„æ‰§è¡ŒåŸç†çŸ¥é“å˜›ï¼‰&#34;&gt;&lt;a href=&#34;#è¯´ä¸€ä¸‹çº¿ç¨‹æ± çš„æ ¸å¿ƒå‚æ•°ï¼ˆçº¿ç¨‹æ± çš„æ‰§è¡ŒåŸç†çŸ¥é“å˜›ï¼‰&#34; class=&#34;headerlink&#34; title=&#34;è¯´ä¸€ä¸‹çº¿ç¨‹æ± çš„æ ¸å¿ƒå‚æ•°ï¼ˆçº¿ç¨‹æ± çš„æ‰§è¡ŒåŸç†çŸ¥é“å˜›ï¼‰&#34;&gt;&lt;/a&gt;è¯´ä¸€ä¸‹çº¿ç¨‹æ± çš„æ ¸å¿ƒå‚æ•°ï¼ˆçº¿ç¨‹æ± çš„æ‰§è¡ŒåŸç†çŸ¥é“å˜›ï¼‰&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;éš¾æ˜“ç¨‹åº¦ï¼šâ˜†â˜†â˜†&lt;/p&gt;
&lt;p&gt;å‡ºç°é¢‘ç‡ï¼šâ˜†â˜†â˜†â˜†&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;çº¿ç¨‹æ± æ ¸å¿ƒå‚æ•°ä¸»è¦å‚è€ƒThreadPoolExecutorè¿™ä¸ªç±»çš„7ä¸ªå‚æ•°çš„æ„é€ å‡½æ•°&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230505220514872.png&#34; alt=&#34;image-20230505220514872&#34;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;corePoolSize æ ¸å¿ƒçº¿ç¨‹æ•°ç›®&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;maximumPoolSize æœ€å¤§çº¿ç¨‹æ•°ç›® &amp;#x3D; (æ ¸å¿ƒçº¿ç¨‹+æ•‘æ€¥çº¿ç¨‹çš„æœ€å¤§æ•°ç›®)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;keepAliveTime ç”Ÿå­˜æ—¶é—´ - æ•‘æ€¥çº¿ç¨‹çš„ç”Ÿå­˜æ—¶é—´ï¼Œç”Ÿå­˜æ—¶é—´å†…æ²¡æœ‰æ–°ä»»åŠ¡ï¼Œæ­¤çº¿ç¨‹èµ„æºä¼šé‡Šæ”¾&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;unit æ—¶é—´å•ä½ - æ•‘æ€¥çº¿ç¨‹çš„ç”Ÿå­˜æ—¶é—´å•ä½ï¼Œå¦‚ç§’ã€æ¯«ç§’ç­‰&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;workQueue - å½“æ²¡æœ‰ç©ºé—²æ ¸å¿ƒçº¿ç¨‹æ—¶ï¼Œæ–°æ¥ä»»åŠ¡ä¼šåŠ å…¥åˆ°æ­¤é˜Ÿåˆ—æ’é˜Ÿï¼Œé˜Ÿåˆ—æ»¡ä¼šåˆ›å»ºæ•‘æ€¥çº¿ç¨‹æ‰§è¡Œä»»åŠ¡&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;threadFactory çº¿ç¨‹å·¥å‚ - å¯ä»¥å®šåˆ¶çº¿ç¨‹å¯¹è±¡çš„åˆ›å»ºï¼Œä¾‹å¦‚è®¾ç½®çº¿ç¨‹åå­—ã€æ˜¯å¦æ˜¯å®ˆæŠ¤çº¿ç¨‹ç­‰&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;handler æ‹’ç»ç­–ç•¥ - å½“æ‰€æœ‰çº¿ç¨‹éƒ½åœ¨ç¹å¿™ï¼ŒworkQueue ä¹Ÿæ”¾æ»¡æ—¶ï¼Œä¼šè§¦å‘æ‹’ç»ç­–ç•¥&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;å·¥ä½œæµç¨‹&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230505220701835.png&#34; alt=&#34;image-20230505220701835&#34;&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;1ï¼Œä»»åŠ¡åœ¨æäº¤çš„æ—¶å€™ï¼Œé¦–å…ˆåˆ¤æ–­æ ¸å¿ƒçº¿ç¨‹æ•°æ˜¯å¦å·²æ»¡ï¼Œå¦‚æœæ²¡æœ‰æ»¡åˆ™ç›´æ¥æ·»åŠ åˆ°å·¥ä½œçº¿ç¨‹æ‰§è¡Œ&lt;/p&gt;
&lt;p&gt;2ï¼Œå¦‚æœæ ¸å¿ƒçº¿ç¨‹æ•°æ»¡äº†ï¼Œåˆ™åˆ¤æ–­é˜»å¡é˜Ÿåˆ—æ˜¯å¦å·²æ»¡ï¼Œå¦‚æœæ²¡æœ‰æ»¡ï¼Œå½“å‰ä»»åŠ¡å­˜å…¥é˜»å¡é˜Ÿåˆ—&lt;/p&gt;
&lt;p&gt;3ï¼Œå¦‚æœé˜»å¡é˜Ÿåˆ—ä¹Ÿæ»¡äº†ï¼Œåˆ™åˆ¤æ–­çº¿ç¨‹æ•°æ˜¯å¦å°äºæœ€å¤§çº¿ç¨‹æ•°ï¼Œå¦‚æœæ»¡è¶³æ¡ä»¶ï¼Œåˆ™ä½¿ç”¨ä¸´æ—¶çº¿ç¨‹æ‰§è¡Œä»»åŠ¡&lt;/p&gt;
&lt;p&gt;å¦‚æœæ ¸å¿ƒæˆ–ä¸´æ—¶çº¿ç¨‹æ‰§è¡Œå®Œæˆä»»åŠ¡åä¼šæ£€æŸ¥é˜»å¡é˜Ÿåˆ—ä¸­æ˜¯å¦æœ‰éœ€è¦æ‰§è¡Œçš„çº¿ç¨‹ï¼Œå¦‚æœæœ‰ï¼Œåˆ™ä½¿ç”¨éæ ¸å¿ƒçº¿ç¨‹æ‰§è¡Œä»»åŠ¡&lt;/p&gt;
&lt;p&gt;4ï¼Œå¦‚æœæ‰€æœ‰çº¿ç¨‹éƒ½åœ¨å¿™ç€ï¼ˆæ ¸å¿ƒçº¿ç¨‹+ä¸´æ—¶çº¿ç¨‹ï¼‰ï¼Œåˆ™èµ°æ‹’ç»ç­–ç•¥&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;æ‹’ç»ç­–ç•¥ï¼š&lt;/p&gt;
&lt;p&gt;1.AbortPolicyï¼šç›´æ¥æŠ›å‡ºå¼‚å¸¸ï¼Œé»˜è®¤ç­–ç•¥ï¼›&lt;/p&gt;
&lt;p&gt;2.CallerRunsPolicyï¼šç”¨è°ƒç”¨è€…æ‰€åœ¨çš„çº¿ç¨‹æ¥æ‰§è¡Œä»»åŠ¡ï¼›&lt;/p&gt;
&lt;p&gt;3.DiscardOldestPolicyï¼šä¸¢å¼ƒé˜»å¡é˜Ÿåˆ—ä¸­é æœ€å‰çš„ä»»åŠ¡ï¼Œå¹¶æ‰§è¡Œå½“å‰ä»»åŠ¡ï¼›&lt;/p&gt;
&lt;p&gt;4.DiscardPolicyï¼šç›´æ¥ä¸¢å¼ƒä»»åŠ¡ï¼›&lt;/p&gt;
&lt;p&gt;å‚è€ƒä»£ç ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;java&#34;&gt;public class TestThreadPoolExecutor &amp;#123;

    static class MyTask implements Runnable &amp;#123;
        private final String name;
        private final long duration;

        public MyTask(String name) &amp;#123;
            this(name, 0);
        &amp;#125;

        public MyTask(String name, long duration) &amp;#123;
            this.name = name;
            this.duration = duration;
        &amp;#125;

        @Override
        public void run() &amp;#123;
            try &amp;#123;
                LoggerUtils.get(&amp;quot;myThread&amp;quot;).debug(&amp;quot;running...&amp;quot; + this);
                Thread.sleep(duration);
            &amp;#125; catch (InterruptedException e) &amp;#123;
                e.printStackTrace();
            &amp;#125;
        &amp;#125;

        @Override
        public String toString() &amp;#123;
            return &amp;quot;MyTask(&amp;quot; + name + &amp;quot;)&amp;quot;;
        &amp;#125;
    &amp;#125;

    public static void main(String[] args) throws InterruptedException &amp;#123;
        AtomicInteger c = new AtomicInteger(1);
        ArrayBlockingQueue&amp;lt;Runnable&amp;gt; queue = new ArrayBlockingQueue&amp;lt;&amp;gt;(2);
        ThreadPoolExecutor threadPool = new ThreadPoolExecutor(
                2,
                3,
                0,
                TimeUnit.MILLISECONDS,
                queue,
                r -&amp;gt; new Thread(r, &amp;quot;myThread&amp;quot; + c.getAndIncrement()),
                new ThreadPoolExecutor.AbortPolicy());
        showState(queue, threadPool);
        threadPool.submit(new MyTask(&amp;quot;1&amp;quot;, 3600000));
        showState(queue, threadPool);
        threadPool.submit(new MyTask(&amp;quot;2&amp;quot;, 3600000));
        showState(queue, threadPool);
        threadPool.submit(new MyTask(&amp;quot;3&amp;quot;));
        showState(queue, threadPool);
        threadPool.submit(new MyTask(&amp;quot;4&amp;quot;));
        showState(queue, threadPool);
        threadPool.submit(new MyTask(&amp;quot;5&amp;quot;,3600000));
        showState(queue, threadPool);
        threadPool.submit(new MyTask(&amp;quot;6&amp;quot;));
        showState(queue, threadPool);
    &amp;#125;

    private static void showState(ArrayBlockingQueue&amp;lt;Runnable&amp;gt; queue, ThreadPoolExecutor threadPool) &amp;#123;
        try &amp;#123;
            Thread.sleep(300);
        &amp;#125; catch (InterruptedException e) &amp;#123;
            e.printStackTrace();
        &amp;#125;
        List&amp;lt;Object&amp;gt; tasks = new ArrayList&amp;lt;&amp;gt;();
        for (Runnable runnable : queue) &amp;#123;
            try &amp;#123;
                Field callable = FutureTask.class.getDeclaredField(&amp;quot;callable&amp;quot;);
                callable.setAccessible(true);
                Object adapter = callable.get(runnable);
                Class&amp;lt;?&amp;gt; clazz = Class.forName(&amp;quot;java.util.concurrent.Executors$RunnableAdapter&amp;quot;);
                Field task = clazz.getDeclaredField(&amp;quot;task&amp;quot;);
                task.setAccessible(true);
                Object o = task.get(adapter);
                tasks.add(o);
            &amp;#125; catch (Exception e) &amp;#123;
                e.printStackTrace();
            &amp;#125;
        &amp;#125;
        LoggerUtils.main.debug(&amp;quot;pool size: &amp;#123;&amp;#125;, queue: &amp;#123;&amp;#125;&amp;quot;, threadPool.getPoolSize(), tasks);
    &amp;#125;

&amp;#125;
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;çº¿ç¨‹æ± ä¸­æœ‰å“ªäº›å¸¸è§çš„é˜»å¡é˜Ÿåˆ—&#34;&gt;&lt;a href=&#34;#çº¿ç¨‹æ± ä¸­æœ‰å“ªäº›å¸¸è§çš„é˜»å¡é˜Ÿåˆ—&#34; class=&#34;headerlink&#34; title=&#34;çº¿ç¨‹æ± ä¸­æœ‰å“ªäº›å¸¸è§çš„é˜»å¡é˜Ÿåˆ—&#34;&gt;&lt;/a&gt;çº¿ç¨‹æ± ä¸­æœ‰å“ªäº›å¸¸è§çš„é˜»å¡é˜Ÿåˆ—&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;éš¾æ˜“ç¨‹åº¦ï¼šâ˜†â˜†â˜†&lt;/p&gt;
&lt;p&gt;å‡ºç°é¢‘ç‡ï¼šâ˜†â˜†â˜†&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;workQueue - å½“æ²¡æœ‰ç©ºé—²æ ¸å¿ƒçº¿ç¨‹æ—¶ï¼Œæ–°æ¥ä»»åŠ¡ä¼šåŠ å…¥åˆ°æ­¤é˜Ÿåˆ—æ’é˜Ÿï¼Œé˜Ÿåˆ—æ»¡ä¼šåˆ›å»ºæ•‘æ€¥çº¿ç¨‹æ‰§è¡Œä»»åŠ¡&lt;/p&gt;
&lt;p&gt;æ¯”è¾ƒå¸¸è§çš„æœ‰4ä¸ªï¼Œç”¨çš„æœ€å¤šæ˜¯ArrayBlockingQueueå’ŒLinkedBlockingQueue&lt;/p&gt;
&lt;p&gt;1.ArrayBlockingQueueï¼šåŸºäºæ•°ç»„ç»“æ„çš„æœ‰ç•Œé˜»å¡é˜Ÿåˆ—ï¼ŒFIFOã€‚&lt;/p&gt;
&lt;p&gt;2.LinkedBlockingQueueï¼šåŸºäºé“¾è¡¨ç»“æ„çš„æœ‰ç•Œé˜»å¡é˜Ÿåˆ—ï¼ŒFIFOã€‚&lt;/p&gt;
&lt;p&gt;3.DelayedWorkQueue ï¼šæ˜¯ä¸€ä¸ªä¼˜å…ˆçº§é˜Ÿåˆ—ï¼Œå®ƒå¯ä»¥ä¿è¯æ¯æ¬¡å‡ºé˜Ÿçš„ä»»åŠ¡éƒ½æ˜¯å½“å‰é˜Ÿåˆ—ä¸­æ‰§è¡Œæ—¶é—´æœ€é å‰çš„&lt;/p&gt;
&lt;p&gt;4.SynchronousQueueï¼šä¸å­˜å‚¨å…ƒç´ çš„é˜»å¡é˜Ÿåˆ—ï¼Œæ¯ä¸ªæ’å…¥æ“ä½œéƒ½å¿…é¡»ç­‰å¾…ä¸€ä¸ªç§»å‡ºæ“ä½œã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ArrayBlockingQueueçš„LinkedBlockingQueueåŒºåˆ«&lt;/strong&gt;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;strong&gt;LinkedBlockingQueue&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;ArrayBlockingQueue&lt;/strong&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;&lt;tr&gt;
&lt;td&gt;é»˜è®¤æ— ç•Œï¼Œæ”¯æŒæœ‰ç•Œ&lt;/td&gt;
&lt;td&gt;å¼ºåˆ¶æœ‰ç•Œ&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;åº•å±‚æ˜¯é“¾è¡¨&lt;/td&gt;
&lt;td&gt;åº•å±‚æ˜¯æ•°ç»„&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;æ˜¯æ‡’æƒ°çš„ï¼Œåˆ›å»ºèŠ‚ç‚¹çš„æ—¶å€™æ·»åŠ æ•°æ®&lt;/td&gt;
&lt;td&gt;æå‰åˆå§‹åŒ– Node  æ•°ç»„&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;å…¥é˜Ÿä¼šç”Ÿæˆæ–° Node&lt;/td&gt;
&lt;td&gt;Nodeéœ€è¦æ˜¯æå‰åˆ›å»ºå¥½çš„&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ä¸¤æŠŠé”ï¼ˆå¤´å°¾ï¼‰&lt;/td&gt;
&lt;td&gt;ä¸€æŠŠé”&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;p&gt;å·¦è¾¹æ˜¯LinkedBlockingQueueåŠ é”çš„æ–¹å¼ï¼Œå³è¾¹æ˜¯ArrayBlockingQueueåŠ é”çš„æ–¹å¼&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;LinkedBlockingQueueè¯»å’Œå†™å„æœ‰ä¸€æŠŠé”ï¼Œæ€§èƒ½ç›¸å¯¹è¾ƒå¥½&lt;/li&gt;
&lt;li&gt;ArrayBlockingQueueåªæœ‰ä¸€æŠŠé”ï¼Œè¯»å’Œå†™å…¬ç”¨ï¼Œæ€§èƒ½ç›¸å¯¹äºLinkedBlockingQueueå·®ä¸€äº›&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230505221424359.png&#34; alt=&#34;image-20230505221424359&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;å¦‚ä½•ç¡®å®šæ ¸å¿ƒçº¿ç¨‹æ•°&#34;&gt;&lt;a href=&#34;#å¦‚ä½•ç¡®å®šæ ¸å¿ƒçº¿ç¨‹æ•°&#34; class=&#34;headerlink&#34; title=&#34;å¦‚ä½•ç¡®å®šæ ¸å¿ƒçº¿ç¨‹æ•°&#34;&gt;&lt;/a&gt;å¦‚ä½•ç¡®å®šæ ¸å¿ƒçº¿ç¨‹æ•°&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;éš¾æ˜“ç¨‹åº¦ï¼šâ˜†â˜†â˜†â˜†&lt;/p&gt;
&lt;p&gt;å‡ºç°é¢‘ç‡ï¼šâ˜†â˜†â˜†&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;åœ¨è®¾ç½®æ ¸å¿ƒçº¿ç¨‹æ•°ä¹‹å‰ï¼Œéœ€è¦å…ˆç†Ÿæ‚‰ä¸€äº›æ‰§è¡Œçº¿ç¨‹æ± æ‰§è¡Œä»»åŠ¡çš„ç±»å‹&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;IOå¯†é›†å‹ä»»åŠ¡&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä¸€èˆ¬æ¥è¯´ï¼šæ–‡ä»¶è¯»å†™ã€DBè¯»å†™ã€ç½‘ç»œè¯·æ±‚ç­‰&lt;/p&gt;
&lt;p&gt;æ¨èï¼šæ ¸å¿ƒçº¿ç¨‹æ•°å¤§å°è®¾ç½®ä¸º2N+1    ï¼ˆNä¸ºè®¡ç®—æœºçš„CPUæ ¸æ•°ï¼‰&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;CPUå¯†é›†å‹ä»»åŠ¡&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä¸€èˆ¬æ¥è¯´ï¼šè®¡ç®—å‹ä»£ç ã€Bitmapè½¬æ¢ã€Gsonè½¬æ¢ç­‰&lt;/p&gt;
&lt;p&gt;æ¨èï¼šæ ¸å¿ƒçº¿ç¨‹æ•°å¤§å°è®¾ç½®ä¸ºN+1    ï¼ˆNä¸ºè®¡ç®—æœºçš„CPUæ ¸æ•°ï¼‰&lt;/p&gt;
&lt;p&gt;javaä»£ç æŸ¥çœ‹CPUæ ¸æ•°&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230505221837189.png&#34; alt=&#34;image-20230505221837189&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å‚è€ƒå›ç­”ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;â‘  é«˜å¹¶å‘ã€ä»»åŠ¡æ‰§è¡Œæ—¶é—´çŸ­ â€“&amp;gt;ï¼ˆ CPUæ ¸æ•°+1 ï¼‰ï¼Œå‡å°‘çº¿ç¨‹ä¸Šä¸‹æ–‡çš„åˆ‡æ¢&lt;/p&gt;
&lt;p&gt;â‘¡ å¹¶å‘ä¸é«˜ã€ä»»åŠ¡æ‰§è¡Œæ—¶é—´é•¿&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;IOå¯†é›†å‹çš„ä»»åŠ¡ â€“&amp;gt; (CPUæ ¸æ•° * 2 + 1)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;è®¡ç®—å¯†é›†å‹ä»»åŠ¡ â€“&amp;gt; ï¼ˆ CPUæ ¸æ•°+1 ï¼‰&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;â‘¢ å¹¶å‘é«˜ã€ä¸šåŠ¡æ‰§è¡Œæ—¶é—´é•¿ï¼Œè§£å†³è¿™ç§ç±»å‹ä»»åŠ¡çš„å…³é”®ä¸åœ¨äºçº¿ç¨‹æ± è€Œåœ¨äºæ•´ä½“æ¶æ„çš„è®¾è®¡ï¼Œçœ‹çœ‹è¿™äº›ä¸šåŠ¡é‡Œé¢æŸäº›æ•°æ®æ˜¯å¦èƒ½åšç¼“å­˜æ˜¯ç¬¬ä¸€æ­¥ï¼Œå¢åŠ æœåŠ¡å™¨æ˜¯ç¬¬äºŒæ­¥ï¼Œè‡³äºçº¿ç¨‹æ± çš„è®¾ç½®ï¼Œè®¾ç½®å‚è€ƒï¼ˆ2ï¼‰&lt;/p&gt;
&lt;h3 id=&#34;çº¿ç¨‹æ± çš„ç§ç±»æœ‰å“ªäº›&#34;&gt;&lt;a href=&#34;#çº¿ç¨‹æ± çš„ç§ç±»æœ‰å“ªäº›&#34; class=&#34;headerlink&#34; title=&#34;çº¿ç¨‹æ± çš„ç§ç±»æœ‰å“ªäº›&#34;&gt;&lt;/a&gt;çº¿ç¨‹æ± çš„ç§ç±»æœ‰å“ªäº›&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;éš¾æ˜“ç¨‹åº¦ï¼šâ˜†â˜†â˜†&lt;/p&gt;
&lt;p&gt;å‡ºç°é¢‘ç‡ï¼šâ˜†â˜†â˜†&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;åœ¨java.util.concurrent.Executorsç±»ä¸­æä¾›äº†å¤§é‡åˆ›å»ºè¿æ¥æ± çš„é™æ€æ–¹æ³•ï¼Œå¸¸è§å°±æœ‰å››ç§&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;p&gt;åˆ›å»ºä½¿ç”¨å›ºå®šçº¿ç¨‹æ•°çš„çº¿ç¨‹æ± &lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230505221959259.png&#34; alt=&#34;image-20230505221959259&#34;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;æ ¸å¿ƒçº¿ç¨‹æ•°ä¸æœ€å¤§çº¿ç¨‹æ•°ä¸€æ ·ï¼Œæ²¡æœ‰æ•‘æ€¥çº¿ç¨‹&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;é˜»å¡é˜Ÿåˆ—æ˜¯LinkedBlockingQueueï¼Œæœ€å¤§å®¹é‡ä¸ºInteger.MAX_VALUE&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;é€‚ç”¨åœºæ™¯ï¼šé€‚ç”¨äºä»»åŠ¡é‡å·²çŸ¥ï¼Œç›¸å¯¹è€—æ—¶çš„ä»»åŠ¡&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;æ¡ˆä¾‹ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;java&#34;&gt;public class FixedThreadPoolCase &amp;#123;

    static class FixedThreadDemo implements Runnable&amp;#123;
        @Override
        public void run() &amp;#123;
            String name = Thread.currentThread().getName();
            for (int i = 0; i &amp;lt; 2; i++) &amp;#123;
                System.out.println(name + &amp;quot;:&amp;quot; + i);
            &amp;#125;
        &amp;#125;
    &amp;#125;

    public static void main(String[] args) throws InterruptedException &amp;#123;
        //åˆ›å»ºä¸€ä¸ªå›ºå®šå¤§å°çš„çº¿ç¨‹æ± ï¼Œæ ¸å¿ƒçº¿ç¨‹æ•°å’Œæœ€å¤§çº¿ç¨‹æ•°éƒ½æ˜¯3
        ExecutorService executorService = Executors.newFixedThreadPool(3);

        for (int i = 0; i &amp;lt; 5; i++) &amp;#123;
            executorService.submit(new FixedThreadDemo());
            Thread.sleep(10);
        &amp;#125;

        executorService.shutdown();
    &amp;#125;

&amp;#125;
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;å•çº¿ç¨‹åŒ–çš„çº¿ç¨‹æ± ï¼Œå®ƒåªä¼šç”¨å”¯ä¸€çš„å·¥ä½œçº¿ç¨‹æ¥æ‰§è¡Œä»» åŠ¡ï¼Œä¿è¯æ‰€æœ‰ä»»åŠ¡æŒ‰ç…§æŒ‡å®šé¡ºåº(FIFO)æ‰§è¡Œ&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230505222050294.png&#34; alt=&#34;image-20230505222050294&#34;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;æ ¸å¿ƒçº¿ç¨‹æ•°å’Œæœ€å¤§çº¿ç¨‹æ•°éƒ½æ˜¯1&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;é˜»å¡é˜Ÿåˆ—æ˜¯LinkedBlockingQueueï¼Œæœ€å¤§å®¹é‡ä¸ºInteger.MAX_VALUE&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;é€‚ç”¨åœºæ™¯ï¼šé€‚ç”¨äºæŒ‰ç…§é¡ºåºæ‰§è¡Œçš„ä»»åŠ¡&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;æ¡ˆä¾‹ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;java&#34;&gt;public class NewSingleThreadCase &amp;#123;

    static int count = 0;

    static class Demo implements Runnable &amp;#123;
        @Override
        public void run() &amp;#123;
            count++;
            System.out.println(Thread.currentThread().getName() + &amp;quot;:&amp;quot; + count);
        &amp;#125;
    &amp;#125;

    public static void main(String[] args) throws InterruptedException &amp;#123;
        //å•ä¸ªçº¿ç¨‹æ± ï¼Œæ ¸å¿ƒçº¿ç¨‹æ•°å’Œæœ€å¤§çº¿ç¨‹æ•°éƒ½æ˜¯1
        ExecutorService exec = Executors.newSingleThreadExecutor();

        for (int i = 0; i &amp;lt; 10; i++) &amp;#123;
            exec.execute(new Demo());
            Thread.sleep(5);
        &amp;#125;
        exec.shutdown();
    &amp;#125;

&amp;#125;
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;å¯ç¼“å­˜çº¿ç¨‹æ± &lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230505222126391.png&#34; alt=&#34;image-20230505222126391&#34;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;æ ¸å¿ƒçº¿ç¨‹æ•°ä¸º0&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;æœ€å¤§çº¿ç¨‹æ•°æ˜¯Integer.MAX_VALUE&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;é˜»å¡é˜Ÿåˆ—ä¸ºSynchronousQueue:ä¸å­˜å‚¨å…ƒç´ çš„é˜»å¡é˜Ÿåˆ—ï¼Œæ¯ä¸ªæ’å…¥æ“ä½œéƒ½å¿…é¡»ç­‰å¾…ä¸€ä¸ªç§»å‡ºæ“ä½œã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;é€‚ç”¨åœºæ™¯ï¼šé€‚åˆä»»åŠ¡æ•°æ¯”è¾ƒå¯†é›†ï¼Œä½†æ¯ä¸ªä»»åŠ¡æ‰§è¡Œæ—¶é—´è¾ƒçŸ­çš„æƒ…å†µ&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;æ¡ˆä¾‹ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;java&#34;&gt;public class CachedThreadPoolCase &amp;#123;

    static class Demo implements Runnable &amp;#123;
        @Override
        public void run() &amp;#123;
            String name = Thread.currentThread().getName();
            try &amp;#123;
                //ä¿®æ”¹ç¡çœ æ—¶é—´ï¼Œæ¨¡æ‹Ÿçº¿ç¨‹æ‰§è¡Œéœ€è¦èŠ±è´¹çš„æ—¶é—´
                Thread.sleep(100);

                System.out.println(name + &amp;quot;æ‰§è¡Œå®Œäº†&amp;quot;);
            &amp;#125; catch (InterruptedException e) &amp;#123;
                e.printStackTrace();
            &amp;#125;
        &amp;#125;
    &amp;#125;

    public static void main(String[] args) throws InterruptedException &amp;#123;
        //åˆ›å»ºä¸€ä¸ªç¼“å­˜çš„çº¿ç¨‹ï¼Œæ²¡æœ‰æ ¸å¿ƒçº¿ç¨‹æ•°ï¼Œæœ€å¤§çº¿ç¨‹æ•°ä¸ºInteger.MAX_VALUE
        ExecutorService exec = Executors.newCachedThreadPool();
        for (int i = 0; i &amp;lt; 10; i++) &amp;#123;
            exec.execute(new Demo());
            Thread.sleep(1);
        &amp;#125;
        exec.shutdown();
    &amp;#125;

&amp;#125;
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;æä¾›äº†â€œå»¶è¿Ÿâ€å’Œâ€œå‘¨æœŸæ‰§è¡Œâ€åŠŸèƒ½çš„ThreadPoolExecutorã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230505222203615.png&#34; alt=&#34;image-20230505222203615&#34;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;é€‚ç”¨åœºæ™¯ï¼šæœ‰å®šæ—¶å’Œå»¶è¿Ÿæ‰§è¡Œçš„ä»»åŠ¡&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;æ¡ˆä¾‹ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;java&#34;&gt;public class ScheduledThreadPoolCase &amp;#123;

    static class Task implements Runnable &amp;#123;
        @Override
        public void run() &amp;#123;
            try &amp;#123;
                String name = Thread.currentThread().getName();

                System.out.println(name + &amp;quot;, å¼€å§‹ï¼š&amp;quot; + new Date());
                Thread.sleep(1000);
                System.out.println(name + &amp;quot;, ç»“æŸï¼š&amp;quot; + new Date());

            &amp;#125; catch (InterruptedException e) &amp;#123;
                e.printStackTrace();
            &amp;#125;
        &amp;#125;
    &amp;#125;

    public static void main(String[] args) throws InterruptedException &amp;#123;
        //æŒ‰ç…§å‘¨æœŸæ‰§è¡Œçš„çº¿ç¨‹æ± ï¼Œæ ¸å¿ƒçº¿ç¨‹æ•°ä¸º2ï¼Œæœ€å¤§çº¿ç¨‹æ•°ä¸ºInteger.MAX_VALUE
        ScheduledExecutorService scheduledThreadPool = Executors.newScheduledThreadPool(2);
        System.out.println(&amp;quot;ç¨‹åºå¼€å§‹ï¼š&amp;quot; + new Date());

        /**
         * schedule æäº¤ä»»åŠ¡åˆ°çº¿ç¨‹æ± ä¸­
         * ç¬¬ä¸€ä¸ªå‚æ•°ï¼šæäº¤çš„ä»»åŠ¡
         * ç¬¬äºŒä¸ªå‚æ•°ï¼šä»»åŠ¡æ‰§è¡Œçš„å»¶è¿Ÿæ—¶é—´
         * ç¬¬ä¸‰ä¸ªå‚æ•°ï¼šæ—¶é—´å•ä½
         */
        scheduledThreadPool.schedule(new Task(), 0, TimeUnit.SECONDS);
        scheduledThreadPool.schedule(new Task(), 1, TimeUnit.SECONDS);
        scheduledThreadPool.schedule(new Task(), 5, TimeUnit.SECONDS);

        Thread.sleep(5000);

        // å…³é—­çº¿ç¨‹æ± 
        scheduledThreadPool.shutdown();

    &amp;#125;

&amp;#125;
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;ä¸ºä»€ä¹ˆä¸å»ºè®®ç”¨Executorsåˆ›å»ºçº¿ç¨‹æ± &#34;&gt;&lt;a href=&#34;#ä¸ºä»€ä¹ˆä¸å»ºè®®ç”¨Executorsåˆ›å»ºçº¿ç¨‹æ± &#34; class=&#34;headerlink&#34; title=&#34;ä¸ºä»€ä¹ˆä¸å»ºè®®ç”¨Executorsåˆ›å»ºçº¿ç¨‹æ± &#34;&gt;&lt;/a&gt;ä¸ºä»€ä¹ˆä¸å»ºè®®ç”¨Executorsåˆ›å»ºçº¿ç¨‹æ± &lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;éš¾æ˜“ç¨‹åº¦ï¼šâ˜†â˜†â˜†&lt;/p&gt;
&lt;p&gt;å‡ºç°é¢‘ç‡ï¼šâ˜†â˜†â˜†&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;å‚è€ƒé˜¿é‡Œå¼€å‘æ‰‹å†Œã€ŠJavaå¼€å‘æ‰‹å†Œ-åµ©å±±ç‰ˆã€‹&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20220821003816845.png&#34; alt=&#34;image-20220821003816845&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;çº¿ç¨‹ä½¿ç”¨åœºæ™¯é—®é¢˜&#34;&gt;&lt;a href=&#34;#çº¿ç¨‹ä½¿ç”¨åœºæ™¯é—®é¢˜&#34; class=&#34;headerlink&#34; title=&#34;çº¿ç¨‹ä½¿ç”¨åœºæ™¯é—®é¢˜&#34;&gt;&lt;/a&gt;çº¿ç¨‹ä½¿ç”¨åœºæ™¯é—®é¢˜&lt;/h2&gt;&lt;h3 id=&#34;çº¿ç¨‹æ± ä½¿ç”¨åœºæ™¯CountDownLatchã€Futureï¼ˆä½ ä»¬é¡¹ç›®å“ªé‡Œç”¨åˆ°äº†å¤šçº¿ç¨‹ï¼‰&#34;&gt;&lt;a href=&#34;#çº¿ç¨‹æ± ä½¿ç”¨åœºæ™¯CountDownLatchã€Futureï¼ˆä½ ä»¬é¡¹ç›®å“ªé‡Œç”¨åˆ°äº†å¤šçº¿ç¨‹ï¼‰&#34; class=&#34;headerlink&#34; title=&#34;çº¿ç¨‹æ± ä½¿ç”¨åœºæ™¯CountDownLatchã€Futureï¼ˆä½ ä»¬é¡¹ç›®å“ªé‡Œç”¨åˆ°äº†å¤šçº¿ç¨‹ï¼‰&#34;&gt;&lt;/a&gt;çº¿ç¨‹æ± ä½¿ç”¨åœºæ™¯CountDownLatchã€Futureï¼ˆä½ ä»¬é¡¹ç›®å“ªé‡Œç”¨åˆ°äº†å¤šçº¿ç¨‹ï¼‰&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;éš¾æ˜“ç¨‹åº¦ï¼šâ˜†â˜†â˜†&lt;/p&gt;
&lt;p&gt;å‡ºç°é¢‘ç‡ï¼šâ˜†â˜†â˜†â˜†&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h4 id=&#34;CountDownLatch&#34;&gt;&lt;a href=&#34;#CountDownLatch&#34; class=&#34;headerlink&#34; title=&#34;CountDownLatch&#34;&gt;&lt;/a&gt;CountDownLatch&lt;/h4&gt;&lt;p&gt;CountDownLatchï¼ˆé—­é”&amp;#x2F;å€’è®¡æ—¶é”ï¼‰ç”¨æ¥è¿›è¡Œçº¿ç¨‹åŒæ­¥åä½œï¼Œç­‰å¾…æ‰€æœ‰çº¿ç¨‹å®Œæˆå€’è®¡æ—¶ï¼ˆä¸€ä¸ªæˆ–è€…å¤šä¸ªçº¿ç¨‹ï¼Œç­‰å¾…å…¶ä»–å¤šä¸ªçº¿ç¨‹å®ŒæˆæŸä»¶äº‹æƒ…ä¹‹åæ‰èƒ½æ‰§è¡Œï¼‰&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;å…¶ä¸­æ„é€ å‚æ•°ç”¨æ¥åˆå§‹åŒ–ç­‰å¾…è®¡æ•°å€¼&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;await() ç”¨æ¥ç­‰å¾…è®¡æ•°å½’é›¶&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;countDown() ç”¨æ¥è®©è®¡æ•°å‡ä¸€&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230505223014946.png&#34; alt=&#34;image-20230505223014946&#34;&gt;&lt;/p&gt;
&lt;p&gt;æ¡ˆä¾‹ä»£ç ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;java&#34;&gt;public class CountDownLatchDemo &amp;#123;

    public static void main(String[] args) throws InterruptedException &amp;#123;
        //åˆå§‹åŒ–äº†ä¸€ä¸ªå€’è®¡æ—¶é” å‚æ•°ä¸º 3
        CountDownLatch latch = new CountDownLatch(3);

        new Thread(() -&amp;gt; &amp;#123;
            System.out.println(Thread.currentThread().getName()+&amp;quot;-begin...&amp;quot;);
            try &amp;#123;
                Thread.sleep(1000);
            &amp;#125; catch (InterruptedException e) &amp;#123;
                throw new RuntimeException(e);
            &amp;#125;
            //count--
            latch.countDown();
            System.out.println(Thread.currentThread().getName()+&amp;quot;-end...&amp;quot; +latch.getCount());
        &amp;#125;).start();
        new Thread(() -&amp;gt; &amp;#123;
            System.out.println(Thread.currentThread().getName()+&amp;quot;-begin...&amp;quot;);
            try &amp;#123;
                Thread.sleep(2000);
            &amp;#125; catch (InterruptedException e) &amp;#123;
                throw new RuntimeException(e);
            &amp;#125;
            //count--
            latch.countDown();
            System.out.println(Thread.currentThread().getName()+&amp;quot;-end...&amp;quot; +latch.getCount());
        &amp;#125;).start();
        new Thread(() -&amp;gt; &amp;#123;
            System.out.println(Thread.currentThread().getName()+&amp;quot;-begin...&amp;quot;);
            try &amp;#123;
                Thread.sleep(1500);
            &amp;#125; catch (InterruptedException e) &amp;#123;
                throw new RuntimeException(e);
            &amp;#125;
            //count--
            latch.countDown();
            System.out.println(Thread.currentThread().getName()+&amp;quot;-end...&amp;quot; +latch.getCount());
        &amp;#125;).start();
        String name = Thread.currentThread().getName();
        System.out.println(name + &amp;quot;-waiting...&amp;quot;);
        //ç­‰å¾…å…¶ä»–çº¿ç¨‹å®Œæˆ
        latch.await();
        System.out.println(name + &amp;quot;-wait end...&amp;quot;);
    &amp;#125;
    
&amp;#125;
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;æ¡ˆä¾‹ä¸€ï¼ˆesæ•°æ®æ‰¹é‡å¯¼å…¥ï¼‰&#34;&gt;&lt;a href=&#34;#æ¡ˆä¾‹ä¸€ï¼ˆesæ•°æ®æ‰¹é‡å¯¼å…¥ï¼‰&#34; class=&#34;headerlink&#34; title=&#34;æ¡ˆä¾‹ä¸€ï¼ˆesæ•°æ®æ‰¹é‡å¯¼å…¥ï¼‰&#34;&gt;&lt;/a&gt;æ¡ˆä¾‹ä¸€ï¼ˆesæ•°æ®æ‰¹é‡å¯¼å…¥ï¼‰&lt;/h4&gt;&lt;p&gt;åœ¨æˆ‘ä»¬é¡¹ç›®ä¸Šçº¿ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦æŠŠæ•°æ®åº“ä¸­çš„æ•°æ®ä¸€æ¬¡æ€§çš„åŒæ­¥åˆ°esç´¢å¼•åº“ä¸­ï¼Œä½†æ˜¯å½“æ—¶çš„æ•°æ®å¥½åƒæ˜¯1000ä¸‡å·¦å³ï¼Œä¸€æ¬¡æ€§è¯»å–æ•°æ®è‚¯å®šä¸è¡Œï¼ˆoomå¼‚å¸¸ï¼‰ï¼Œå½“æ—¶æˆ‘å°±æƒ³åˆ°å¯ä»¥ä½¿ç”¨çº¿ç¨‹æ± çš„æ–¹å¼å¯¼å…¥ï¼Œåˆ©ç”¨CountDownLatchæ¥æ§åˆ¶ï¼Œå°±èƒ½é¿å…ä¸€æ¬¡æ€§åŠ è½½è¿‡å¤šï¼Œé˜²æ­¢å†…å­˜æº¢å‡º&lt;/p&gt;
&lt;p&gt;æ•´ä½“æµç¨‹å°±æ˜¯é€šè¿‡CountDownLatch+çº¿ç¨‹æ± é…åˆå»æ‰§è¡Œ&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230505223219951.png&#34; alt=&#34;image-20230505223219951&#34;&gt;&lt;/p&gt;
&lt;p&gt;è¯¦ç»†å®ç°æµç¨‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230505223246059.png&#34; alt=&#34;image-20230505223246059&#34;&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;è¯¦ç»†å®ç°ä»£ç ï¼Œè¯·æŸ¥çœ‹å½“å¤©ä»£ç &lt;/p&gt;
&lt;/blockquote&gt;
&lt;h4 id=&#34;æ¡ˆä¾‹äºŒï¼ˆæ•°æ®æ±‡æ€»ï¼‰&#34;&gt;&lt;a href=&#34;#æ¡ˆä¾‹äºŒï¼ˆæ•°æ®æ±‡æ€»ï¼‰&#34; class=&#34;headerlink&#34; title=&#34;æ¡ˆä¾‹äºŒï¼ˆæ•°æ®æ±‡æ€»ï¼‰&#34;&gt;&lt;/a&gt;æ¡ˆä¾‹äºŒï¼ˆæ•°æ®æ±‡æ€»ï¼‰&lt;/h4&gt;&lt;p&gt;åœ¨ä¸€ä¸ªç”µå•†ç½‘ç«™ä¸­ï¼Œç”¨æˆ·ä¸‹å•ä¹‹åï¼Œéœ€è¦æŸ¥è¯¢æ•°æ®ï¼Œæ•°æ®åŒ…å«äº†ä¸‰éƒ¨åˆ†ï¼šè®¢å•ä¿¡æ¯ã€åŒ…å«çš„å•†å“ã€ç‰©æµä¿¡æ¯ï¼›è¿™ä¸‰å—ä¿¡æ¯éƒ½åœ¨ä¸åŒçš„å¾®æœåŠ¡ä¸­è¿›è¡Œå®ç°çš„ï¼Œæˆ‘ä»¬å¦‚ä½•å®Œæˆè¿™ä¸ªä¸šåŠ¡å‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230505223442924.png&#34; alt=&#34;image-20230505223442924&#34;&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;è¯¦ç»†å®ç°ä»£ç ï¼Œè¯·æŸ¥çœ‹å½“å¤©ä»£ç &lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;åœ¨å®é™…å¼€å‘çš„è¿‡ç¨‹ä¸­ï¼Œéš¾å…éœ€è¦è°ƒç”¨å¤šä¸ªæ¥å£æ¥æ±‡æ€»æ•°æ®ï¼Œå¦‚æœæ‰€æœ‰æ¥å£ï¼ˆæˆ–éƒ¨åˆ†æ¥å£ï¼‰çš„æ²¡æœ‰ä¾èµ–å…³ç³»ï¼Œå°±å¯ä»¥ä½¿ç”¨çº¿ç¨‹æ± +futureæ¥æå‡æ€§èƒ½&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;æŠ¥è¡¨æ±‡æ€»&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230505223536657.png&#34; alt=&#34;image-20230505223536657&#34;&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;æ¡ˆä¾‹äºŒï¼ˆå¼‚æ­¥è°ƒç”¨ï¼‰&#34;&gt;&lt;a href=&#34;#æ¡ˆä¾‹äºŒï¼ˆå¼‚æ­¥è°ƒç”¨ï¼‰&#34; class=&#34;headerlink&#34; title=&#34;æ¡ˆä¾‹äºŒï¼ˆå¼‚æ­¥è°ƒç”¨ï¼‰&#34;&gt;&lt;/a&gt;æ¡ˆä¾‹äºŒï¼ˆå¼‚æ­¥è°ƒç”¨ï¼‰&lt;/h4&gt;&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230505223640038.png&#34; alt=&#34;image-20230505223640038&#34;&gt;&lt;/p&gt;
&lt;p&gt;åœ¨è¿›è¡Œæœç´¢çš„æ—¶å€™ï¼Œéœ€è¦ä¿å­˜ç”¨æˆ·çš„æœç´¢è®°å½•ï¼Œè€Œæœç´¢è®°å½•ä¸èƒ½å½±å“ç”¨æˆ·çš„æ­£å¸¸æœç´¢ï¼Œæˆ‘ä»¬é€šå¸¸ä¼šå¼€å¯ä¸€ä¸ªçº¿ç¨‹å»æ‰§è¡Œå†å²è®°å½•çš„ä¿å­˜ï¼Œåœ¨æ–°å¼€å¯çš„çº¿ç¨‹åœ¨æ‰§è¡Œçš„è¿‡ç¨‹ä¸­ï¼Œå¯ä»¥åˆ©ç”¨çº¿ç¨‹æäº¤ä»»åŠ¡&lt;/p&gt;
&lt;h3 id=&#34;å¦‚ä½•æ§åˆ¶æŸä¸ªæ–¹æ³•å…è®¸å¹¶å‘è®¿é—®çº¿ç¨‹çš„æ•°é‡ï¼Ÿ&#34;&gt;&lt;a href=&#34;#å¦‚ä½•æ§åˆ¶æŸä¸ªæ–¹æ³•å…è®¸å¹¶å‘è®¿é—®çº¿ç¨‹çš„æ•°é‡ï¼Ÿ&#34; class=&#34;headerlink&#34; title=&#34;å¦‚ä½•æ§åˆ¶æŸä¸ªæ–¹æ³•å…è®¸å¹¶å‘è®¿é—®çº¿ç¨‹çš„æ•°é‡ï¼Ÿ&#34;&gt;&lt;/a&gt;å¦‚ä½•æ§åˆ¶æŸä¸ªæ–¹æ³•å…è®¸å¹¶å‘è®¿é—®çº¿ç¨‹çš„æ•°é‡ï¼Ÿ&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;éš¾æ˜“ç¨‹åº¦ï¼šâ˜†â˜†â˜†&lt;/p&gt;
&lt;p&gt;å‡ºç°é¢‘ç‡ï¼šâ˜†â˜†&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Semaphore [ËˆsÉ›mÉ™ËŒfÉ”r] ä¿¡å·é‡ï¼Œæ˜¯JUCåŒ…ä¸‹çš„ä¸€ä¸ªå·¥å…·ç±»ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å…¶é™åˆ¶æ‰§è¡Œçš„çº¿ç¨‹æ•°é‡ï¼Œè¾¾åˆ°é™æµçš„æ•ˆæœ&lt;/p&gt;
&lt;p&gt;å½“ä¸€ä¸ªçº¿ç¨‹æ‰§è¡Œæ—¶å…ˆé€šè¿‡å…¶æ–¹æ³•è¿›è¡Œè·å–è®¸å¯æ“ä½œï¼Œè·å–åˆ°è®¸å¯çš„çº¿ç¨‹ç»§ç»­æ‰§è¡Œä¸šåŠ¡é€»è¾‘ï¼Œå½“çº¿ç¨‹æ‰§è¡Œå®Œæˆåè¿›è¡Œé‡Šæ”¾è®¸å¯æ“ä½œï¼Œæœªè·å–è¾¾åˆ°è®¸å¯çš„çº¿ç¨‹è¿›è¡Œç­‰å¾…æˆ–è€…ç›´æ¥ç»“æŸã€‚&lt;/p&gt;
&lt;p&gt;Semaphoreä¸¤ä¸ªé‡è¦çš„æ–¹æ³•&lt;/p&gt;
&lt;p&gt;lsemaphore.acquire()ï¼š è¯·æ±‚ä¸€ä¸ªä¿¡å·é‡ï¼Œè¿™æ—¶å€™çš„ä¿¡å·é‡ä¸ªæ•°-1ï¼ˆä¸€æ—¦æ²¡æœ‰å¯ä½¿ç”¨çš„ä¿¡å·é‡ï¼Œä¹Ÿå³ä¿¡å·é‡ä¸ªæ•°å˜ä¸ºè´Ÿæ•°æ—¶ï¼Œå†æ¬¡è¯·æ±‚çš„æ—¶å€™å°±ä¼šé˜»å¡ï¼Œç›´åˆ°å…¶ä»–çº¿ç¨‹é‡Šæ”¾äº†ä¿¡å·é‡ï¼‰&lt;/p&gt;
&lt;p&gt;lsemaphore.release()ï¼šé‡Šæ”¾ä¸€ä¸ªä¿¡å·é‡ï¼Œæ­¤æ—¶ä¿¡å·é‡ä¸ªæ•°+1&lt;/p&gt;
&lt;p&gt;çº¿ç¨‹ä»»åŠ¡ç±»ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;java&#34;&gt;public class SemaphoreCase &amp;#123;
    public static void main(String[] args) &amp;#123;
        // 1. åˆ›å»º semaphore å¯¹è±¡
        Semaphore semaphore = new Semaphore(3);
        // 2. 10ä¸ªçº¿ç¨‹åŒæ—¶è¿è¡Œ
        for (int i = 0; i &amp;lt; 10; i++) &amp;#123;
            new Thread(() -&amp;gt; &amp;#123;

                try &amp;#123;
                    // 3. è·å–è®¸å¯
                    semaphore.acquire();
                &amp;#125; catch (InterruptedException e) &amp;#123;
                    e.printStackTrace();
                &amp;#125;
                try &amp;#123;
                    System.out.println(&amp;quot;running...&amp;quot;);
                    try &amp;#123;
                        Thread.sleep(1000);
                    &amp;#125; catch (InterruptedException e) &amp;#123;
                        e.printStackTrace();
                    &amp;#125;
                    System.out.println(&amp;quot;end...&amp;quot;);
                &amp;#125; finally &amp;#123;
                    // 4. é‡Šæ”¾è®¸å¯
                    semaphore.release();
                &amp;#125;
            &amp;#125;).start();
        &amp;#125;
    &amp;#125;

&amp;#125;
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;å…¶ä»–&#34;&gt;&lt;a href=&#34;#å…¶ä»–&#34; class=&#34;headerlink&#34; title=&#34;å…¶ä»–&#34;&gt;&lt;/a&gt;å…¶ä»–&lt;/h2&gt;&lt;h3 id=&#34;è°ˆè°ˆä½ å¯¹ThreadLocalçš„ç†è§£&#34;&gt;&lt;a href=&#34;#è°ˆè°ˆä½ å¯¹ThreadLocalçš„ç†è§£&#34; class=&#34;headerlink&#34; title=&#34;è°ˆè°ˆä½ å¯¹ThreadLocalçš„ç†è§£&#34;&gt;&lt;/a&gt;è°ˆè°ˆä½ å¯¹ThreadLocalçš„ç†è§£&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;éš¾æ˜“ç¨‹åº¦ï¼šâ˜†â˜†â˜†&lt;/p&gt;
&lt;p&gt;å‡ºç°é¢‘ç‡ï¼šâ˜†â˜†â˜†â˜†&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h4 id=&#34;æ¦‚è¿°-2&#34;&gt;&lt;a href=&#34;#æ¦‚è¿°-2&#34; class=&#34;headerlink&#34; title=&#34;æ¦‚è¿°&#34;&gt;&lt;/a&gt;æ¦‚è¿°&lt;/h4&gt;&lt;p&gt;ThreadLocalæ˜¯å¤šçº¿ç¨‹ä¸­å¯¹äºè§£å†³çº¿ç¨‹å®‰å…¨çš„ä¸€ä¸ªæ“ä½œç±»ï¼Œå®ƒä¼šä¸ºæ¯ä¸ªçº¿ç¨‹éƒ½åˆ†é…ä¸€ä¸ªç‹¬ç«‹çš„çº¿ç¨‹å‰¯æœ¬ä»è€Œè§£å†³äº†å˜é‡å¹¶å‘è®¿é—®å†²çªçš„é—®é¢˜ã€‚ThreadLocal åŒæ—¶å®ç°äº†çº¿ç¨‹å†…çš„èµ„æºå…±äº«&lt;/p&gt;
&lt;p&gt;æ¡ˆä¾‹ï¼šä½¿ç”¨JDBCæ“ä½œæ•°æ®åº“æ—¶ï¼Œä¼šå°†æ¯ä¸€ä¸ªçº¿ç¨‹çš„Connectionæ”¾å…¥å„è‡ªçš„ThreadLocalä¸­ï¼Œä»è€Œä¿è¯æ¯ä¸ªçº¿ç¨‹éƒ½åœ¨å„è‡ªçš„ Connection ä¸Šè¿›è¡Œæ•°æ®åº“çš„æ“ä½œï¼Œé¿å…Açº¿ç¨‹å…³é—­äº†Bçº¿ç¨‹çš„è¿æ¥ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230505224057228.png&#34; alt=&#34;image-20230505224057228&#34;&gt;&lt;/p&gt;
&lt;h4 id=&#34;ThreadLocalåŸºæœ¬ä½¿ç”¨&#34;&gt;&lt;a href=&#34;#ThreadLocalåŸºæœ¬ä½¿ç”¨&#34; class=&#34;headerlink&#34; title=&#34;ThreadLocalåŸºæœ¬ä½¿ç”¨&#34;&gt;&lt;/a&gt;ThreadLocalåŸºæœ¬ä½¿ç”¨&lt;/h4&gt;&lt;p&gt;ä¸‰ä¸ªä¸»è¦æ–¹æ³•ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;set(value) è®¾ç½®å€¼&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;get() è·å–å€¼&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;remove() æ¸…é™¤å€¼&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;java&#34;&gt;public class ThreadLocalTest &amp;#123;
    static ThreadLocal&amp;lt;String&amp;gt; threadLocal = new ThreadLocal&amp;lt;&amp;gt;();

    public static void main(String[] args) &amp;#123;
        new Thread(() -&amp;gt; &amp;#123;
            String name = Thread.currentThread().getName();
            threadLocal.set(&amp;quot;itcast&amp;quot;);
            print(name);
            System.out.println(name + &amp;quot;-after remove : &amp;quot; + threadLocal.get());
        &amp;#125;, &amp;quot;t1&amp;quot;).start();
        new Thread(() -&amp;gt; &amp;#123;
            String name = Thread.currentThread().getName();
            threadLocal.set(&amp;quot;itheima&amp;quot;);
            print(name);
            System.out.println(name + &amp;quot;-after remove : &amp;quot; + threadLocal.get());
        &amp;#125;, &amp;quot;t2&amp;quot;).start();
    &amp;#125;

    static void print(String str) &amp;#123;
        //æ‰“å°å½“å‰çº¿ç¨‹ä¸­æœ¬åœ°å†…å­˜ä¸­æœ¬åœ°å˜é‡çš„å€¼
        System.out.println(str + &amp;quot; :&amp;quot; + threadLocal.get());
        //æ¸…é™¤æœ¬åœ°å†…å­˜ä¸­çš„æœ¬åœ°å˜é‡
        threadLocal.remove();
    &amp;#125;

&amp;#125;
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;ThreadLocalçš„å®ç°åŸç†-æºç è§£æ&#34;&gt;&lt;a href=&#34;#ThreadLocalçš„å®ç°åŸç†-æºç è§£æ&#34; class=&#34;headerlink&#34; title=&#34;ThreadLocalçš„å®ç°åŸç†&amp;amp;æºç è§£æ&#34;&gt;&lt;/a&gt;ThreadLocalçš„å®ç°åŸç†&amp;amp;æºç è§£æ&lt;/h4&gt;&lt;p&gt;ThreadLocalæœ¬è´¨æ¥è¯´å°±æ˜¯ä¸€ä¸ªçº¿ç¨‹å†…éƒ¨å­˜å‚¨ç±»ï¼Œä»è€Œè®©å¤šä¸ªçº¿ç¨‹åªæ“ä½œè‡ªå·±å†…éƒ¨çš„å€¼ï¼Œä»è€Œå®ç°çº¿ç¨‹æ•°æ®éš”ç¦»&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230505224341410.png&#34; alt=&#34;image-20230505224341410&#34;&gt;&lt;/p&gt;
&lt;p&gt;åœ¨ThreadLocalä¸­æœ‰ä¸€ä¸ªå†…éƒ¨ç±»å«åšThreadLocalMapï¼Œç±»ä¼¼äºHashMap&lt;/p&gt;
&lt;p&gt;ThreadLocalMapä¸­æœ‰ä¸€ä¸ªå±æ€§tableæ•°ç»„ï¼Œè¿™ä¸ªæ˜¯çœŸæ­£å­˜å‚¨æ•°æ®çš„ä½ç½®&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;setæ–¹æ³•&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230505224626253.png&#34; alt=&#34;image-20230505224626253&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;getæ–¹æ³•&amp;#x2F;removeæ–¹æ³•&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230505224715087.png&#34; alt=&#34;image-20230505224715087&#34;&gt;&lt;/p&gt;
&lt;h4 id=&#34;ThreadLocal-å†…å­˜æ³„éœ²é—®é¢˜&#34;&gt;&lt;a href=&#34;#ThreadLocal-å†…å­˜æ³„éœ²é—®é¢˜&#34; class=&#34;headerlink&#34; title=&#34;ThreadLocal-å†…å­˜æ³„éœ²é—®é¢˜&#34;&gt;&lt;/a&gt;ThreadLocal-å†…å­˜æ³„éœ²é—®é¢˜&lt;/h4&gt;&lt;p&gt;Javaå¯¹è±¡ä¸­çš„å››ç§å¼•ç”¨ç±»å‹ï¼šå¼ºå¼•ç”¨ã€è½¯å¼•ç”¨ã€å¼±å¼•ç”¨ã€è™šå¼•ç”¨&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¼ºå¼•ç”¨ï¼šæœ€ä¸ºæ™®é€šçš„å¼•ç”¨æ–¹å¼ï¼Œè¡¨ç¤ºä¸€ä¸ªå¯¹è±¡å¤„äºæœ‰ç”¨ä¸”å¿…é¡»çš„çŠ¶æ€ï¼Œå¦‚æœä¸€ä¸ªå¯¹è±¡å…·æœ‰å¼ºå¼•ç”¨ï¼Œåˆ™GCå¹¶ä¸ä¼šå›æ”¶å®ƒã€‚å³ä¾¿å †ä¸­å†…å­˜ä¸è¶³äº†ï¼Œå®å¯å‡ºç°OOMï¼Œä¹Ÿä¸ä¼šå¯¹å…¶è¿›è¡Œå›æ”¶&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230505224755797.png&#34; alt=&#34;image-20230505224755797&#34;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¼±å¼•ç”¨ï¼šè¡¨ç¤ºä¸€ä¸ªå¯¹è±¡å¤„äºå¯èƒ½æœ‰ç”¨ä¸”éå¿…é¡»çš„çŠ¶æ€ã€‚åœ¨GCçº¿ç¨‹æ‰«æå†…å­˜åŒºåŸŸæ—¶ï¼Œä¸€æ—¦å‘ç°å¼±å¼•ç”¨ï¼Œå°±ä¼šå›æ”¶åˆ°å¼±å¼•ç”¨ç›¸å…³è”çš„å¯¹è±¡ã€‚å¯¹äºå¼±å¼•ç”¨çš„å›æ”¶ï¼Œæ— å…³å†…å­˜åŒºåŸŸæ˜¯å¦è¶³å¤Ÿï¼Œä¸€æ—¦å‘ç°åˆ™ä¼šè¢«å›æ”¶&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230505224812015.png&#34; alt=&#34;image-20230505224812015&#34;&gt;&lt;/p&gt;
&lt;p&gt;æ¯ä¸€ä¸ªThreadç»´æŠ¤ä¸€ä¸ªThreadLocalMapï¼Œåœ¨ThreadLocalMapä¸­çš„Entryå¯¹è±¡ç»§æ‰¿äº†WeakReferenceã€‚å…¶ä¸­keyä¸ºä½¿ç”¨å¼±å¼•ç”¨çš„ThreadLocalå®ä¾‹ï¼Œvalueä¸ºçº¿ç¨‹å˜é‡çš„å‰¯æœ¬&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230505224857538.png&#34; alt=&#34;image-20230505224857538&#34;&gt;&lt;/p&gt;
&lt;p&gt;åœ¨ä½¿ç”¨ThreadLocalçš„æ—¶å€™ï¼Œå¼ºçƒˆå»ºè®®ï¼š&lt;strong&gt;åŠ¡å¿…æ‰‹åŠ¨remove&lt;/strong&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;çœ‹å®Œæ­¤æ–‡ç« å¯ä»¥çœ‹&lt;a href=&#34;interview/%E5%A4%9A%E7%BA%BF%E7%A8%8B%E7%9B%B8%E5%85%B3%E9%9D%A2%E8%AF%95%E9%A2%98&#34;&gt;å¤šçº¿ç¨‹ç›¸å…³é¢è¯•é¢˜&lt;/a&gt;æµ‹è¯•ä¸€ä¸‹è‡ªå·±æŒæ¡æƒ…å†µ&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;æœ¬æ–‡å¼•è‡ª&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly93d3cuYmlsaWJpbGkuY29tL3ZpZGVvL0JWMXlUNDExSDdZSy8=&#34;&gt;é»‘é©¬ç¨‹åºå‘˜Javaé¢è¯•å®å…¸&lt;/span&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
        <category term="java" scheme="https://anoxiahub.github.io/categories/java/" />
        <category term="JavaåŸºç¡€" scheme="https://anoxiahub.github.io/tags/Java%E5%9F%BA%E7%A1%80/" />
        <updated>2023-08-14T16:00:00.000Z</updated>
    </entry>
    <entry>
        <id>https://anoxiahub.github.io/java/JVM%E8%AF%A6%E8%A7%A3/</id>
        <title>JVMè¯¦è§£</title>
        <link rel="alternate" href="https://anoxiahub.github.io/java/JVM%E8%AF%A6%E8%A7%A3/"/>
        <content type="html">&lt;h2 id=&#34;JVMç»„æˆ&#34;&gt;&lt;a href=&#34;#JVMç»„æˆ&#34; class=&#34;headerlink&#34; title=&#34;JVMç»„æˆ&#34;&gt;&lt;/a&gt;JVMç»„æˆ&lt;/h2&gt;&lt;h3 id=&#34;JVMç”±é‚£äº›éƒ¨åˆ†ç»„æˆï¼Œè¿è¡Œæµç¨‹æ˜¯ä»€ä¹ˆï¼Ÿ&#34;&gt;&lt;a href=&#34;#JVMç”±é‚£äº›éƒ¨åˆ†ç»„æˆï¼Œè¿è¡Œæµç¨‹æ˜¯ä»€ä¹ˆï¼Ÿ&#34; class=&#34;headerlink&#34; title=&#34;JVMç”±é‚£äº›éƒ¨åˆ†ç»„æˆï¼Œè¿è¡Œæµç¨‹æ˜¯ä»€ä¹ˆï¼Ÿ&#34;&gt;&lt;/a&gt;JVMç”±é‚£äº›éƒ¨åˆ†ç»„æˆï¼Œè¿è¡Œæµç¨‹æ˜¯ä»€ä¹ˆï¼Ÿ&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;éš¾æ˜“ç¨‹åº¦ï¼šâ˜†â˜†â˜†&lt;/p&gt;
&lt;p&gt;å‡ºç°é¢‘ç‡ï¼šâ˜†â˜†â˜†â˜†&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;strong&gt;JVMæ˜¯ä»€ä¹ˆ&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Java Virtual Machine Javaç¨‹åºçš„è¿è¡Œç¯å¢ƒï¼ˆjavaäºŒè¿›åˆ¶å­—èŠ‚ç çš„è¿è¡Œç¯å¢ƒï¼‰&lt;/p&gt;
&lt;p&gt;å¥½å¤„ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;ä¸€æ¬¡ç¼–å†™ï¼Œåˆ°å¤„è¿è¡Œ&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;è‡ªåŠ¨å†…å­˜ç®¡ç†ï¼Œåƒåœ¾å›æ”¶æœºåˆ¶&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230506094254360.png&#34; alt=&#34;image-20230506094254360&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;JVMç”±å“ªäº›éƒ¨åˆ†ç»„æˆï¼Œè¿è¡Œæµç¨‹æ˜¯ä»€ä¹ˆï¼Ÿ&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230506094411247.png&#34; alt=&#34;image-20230506094411247&#34;&gt;&lt;/p&gt;
&lt;p&gt;ä»å›¾ä¸­å¯ä»¥çœ‹å‡º JVM çš„ä¸»è¦ç»„æˆéƒ¨åˆ†&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ClassLoaderï¼ˆç±»åŠ è½½å™¨ï¼‰&lt;/li&gt;
&lt;li&gt;Runtime Data Areaï¼ˆè¿è¡Œæ—¶æ•°æ®åŒºï¼Œå†…å­˜åˆ†åŒºï¼‰&lt;/li&gt;
&lt;li&gt;Execution Engineï¼ˆæ‰§è¡Œå¼•æ“ï¼‰&lt;/li&gt;
&lt;li&gt;Native Method Libraryï¼ˆæœ¬åœ°åº“æ¥å£ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;è¿è¡Œæµç¨‹ï¼š&lt;/p&gt;
&lt;p&gt;ï¼ˆ1ï¼‰ç±»åŠ è½½å™¨ï¼ˆClassLoaderï¼‰æŠŠJavaä»£ç è½¬æ¢ä¸ºå­—èŠ‚ç &lt;/p&gt;
&lt;p&gt;ï¼ˆ2ï¼‰è¿è¡Œæ—¶æ•°æ®åŒºï¼ˆRuntime Data Areaï¼‰æŠŠå­—èŠ‚ç åŠ è½½åˆ°å†…å­˜ä¸­ï¼Œè€Œå­—èŠ‚ç æ–‡ä»¶åªæ˜¯JVMçš„ä¸€å¥—æŒ‡ä»¤é›†è§„èŒƒï¼Œå¹¶ä¸èƒ½ç›´æ¥äº¤ç»™åº•å±‚ç³»ç»Ÿå»æ‰§è¡Œï¼Œè€Œæ˜¯æœ‰æ‰§è¡Œå¼•æ“è¿è¡Œ&lt;/p&gt;
&lt;p&gt;ï¼ˆ3ï¼‰æ‰§è¡Œå¼•æ“ï¼ˆExecution Engineï¼‰å°†å­—èŠ‚ç ç¿»è¯‘ä¸ºåº•å±‚ç³»ç»ŸæŒ‡ä»¤ï¼Œå†äº¤ç”±CPUæ‰§è¡Œå»æ‰§è¡Œï¼Œæ­¤æ—¶éœ€è¦è°ƒç”¨å…¶ä»–è¯­è¨€çš„æœ¬åœ°åº“æ¥å£ï¼ˆNative Method Libraryï¼‰æ¥å®ç°æ•´ä¸ªç¨‹åºçš„åŠŸèƒ½ã€‚&lt;/p&gt;
&lt;h3 id=&#34;ä»€ä¹ˆæ˜¯ç¨‹åºè®¡æ•°å™¨ï¼Ÿ&#34;&gt;&lt;a href=&#34;#ä»€ä¹ˆæ˜¯ç¨‹åºè®¡æ•°å™¨ï¼Ÿ&#34; class=&#34;headerlink&#34; title=&#34;ä»€ä¹ˆæ˜¯ç¨‹åºè®¡æ•°å™¨ï¼Ÿ&#34;&gt;&lt;/a&gt;ä»€ä¹ˆæ˜¯ç¨‹åºè®¡æ•°å™¨ï¼Ÿ&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;éš¾æ˜“ç¨‹åº¦ï¼šâ˜†â˜†â˜†&lt;/p&gt;
&lt;p&gt;å‡ºç°é¢‘ç‡ï¼šâ˜†â˜†â˜†â˜†&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ç¨‹åºè®¡æ•°å™¨ï¼šçº¿ç¨‹ç§æœ‰çš„ï¼Œå†…éƒ¨ä¿å­˜çš„å­—èŠ‚ç çš„è¡Œå·ã€‚ç”¨äºè®°å½•æ­£åœ¨æ‰§è¡Œçš„å­—èŠ‚ç æŒ‡ä»¤çš„åœ°å€ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;javap -verbose  xx.class    æ‰“å°å †æ ˆå¤§å°ï¼Œå±€éƒ¨å˜é‡çš„æ•°é‡å’Œæ–¹æ³•çš„å‚æ•°ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230506094602329.png&#34; alt=&#34;image-20230506094602329&#34;&gt;&lt;/p&gt;
&lt;p&gt;â€‹	javaè™šæ‹Ÿæœºå¯¹äºå¤šçº¿ç¨‹æ˜¯é€šè¿‡çº¿ç¨‹è½®æµåˆ‡æ¢å¹¶ä¸”åˆ†é…çº¿ç¨‹æ‰§è¡Œæ—¶é—´ã€‚åœ¨ä»»ä½•çš„ä¸€ä¸ªæ—¶é—´ç‚¹ä¸Šï¼Œä¸€ä¸ªå¤„ç†å™¨åªä¼šå¤„ç†æ‰§è¡Œä¸€ä¸ªçº¿ç¨‹ï¼Œå¦‚æœå½“å‰è¢«æ‰§è¡Œçš„è¿™ä¸ªçº¿ç¨‹å®ƒæ‰€åˆ†é…çš„æ‰§è¡Œæ—¶é—´ç”¨å®Œäº†ã€æŒ‚èµ·ã€‘ã€‚å¤„ç†å™¨ä¼šåˆ‡æ¢åˆ°å¦å¤–çš„ä¸€ä¸ªçº¿ç¨‹ä¸Šæ¥è¿›è¡Œæ‰§è¡Œã€‚å¹¶ä¸”è¿™ä¸ªçº¿ç¨‹çš„æ‰§è¡Œæ—¶é—´ç”¨å®Œäº†ï¼Œæ¥ç€å¤„ç†å™¨å°±ä¼šåˆæ¥æ‰§è¡Œè¢«æŒ‚èµ·çš„è¿™ä¸ªçº¿ç¨‹ã€‚&lt;/p&gt;
&lt;p&gt;â€‹	é‚£ä¹ˆç°åœ¨æœ‰ä¸€ä¸ªé—®é¢˜å°±æ˜¯ï¼Œå½“å‰å¤„ç†å™¨å¦‚ä½•èƒ½å¤ŸçŸ¥é“ï¼Œå¯¹äºè¿™ä¸ªè¢«æŒ‚èµ·çš„çº¿ç¨‹ï¼Œå®ƒä¸Šä¸€æ¬¡æ‰§è¡Œåˆ°äº†å“ªé‡Œï¼Ÿé‚£ä¹ˆè¿™æ—¶å°±éœ€è¦ä»ç¨‹åºè®¡æ•°å™¨ä¸­æ¥å›å»åˆ°å½“å‰çš„è¿™ä¸ªçº¿ç¨‹ä»–ä¸Šä¸€æ¬¡æ‰§è¡Œçš„è¡Œå·ï¼Œç„¶åæ¥ç€ç»§ç»­å‘ä¸‹æ‰§è¡Œã€‚&lt;/p&gt;
&lt;p&gt;â€‹	ç¨‹åºè®¡æ•°å™¨æ˜¯JVMè§„èŒƒä¸­å”¯ä¸€ä¸€ä¸ªæ²¡æœ‰è§„å®šå‡ºç°OOMçš„åŒºåŸŸï¼Œæ‰€ä»¥è¿™ä¸ªç©ºé—´ä¹Ÿä¸ä¼šè¿›è¡ŒGCã€‚&lt;/p&gt;
&lt;h3 id=&#34;ä½ èƒ½ç»™æˆ‘è¯¦ç»†çš„ä»‹ç»Javaå †å—&#34;&gt;&lt;a href=&#34;#ä½ èƒ½ç»™æˆ‘è¯¦ç»†çš„ä»‹ç»Javaå †å—&#34; class=&#34;headerlink&#34; title=&#34;ä½ èƒ½ç»™æˆ‘è¯¦ç»†çš„ä»‹ç»Javaå †å—?&#34;&gt;&lt;/a&gt;ä½ èƒ½ç»™æˆ‘è¯¦ç»†çš„ä»‹ç»Javaå †å—?&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;éš¾æ˜“ç¨‹åº¦ï¼šâ˜†â˜†â˜†&lt;/p&gt;
&lt;p&gt;å‡ºç°é¢‘ç‡ï¼šâ˜†â˜†â˜†â˜†&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;çº¿ç¨‹å…±äº«çš„åŒºåŸŸï¼šä¸»è¦ç”¨æ¥ä¿å­˜å¯¹è±¡å®ä¾‹ï¼Œæ•°ç»„ç­‰ï¼Œå½“å †ä¸­æ²¡æœ‰å†…å­˜ç©ºé—´å¯åˆ†é…ç»™å®ä¾‹ï¼Œä¹Ÿæ— æ³•å†æ‰©å±•æ—¶ï¼Œåˆ™æŠ›å‡ºOutOfMemoryErrorå¼‚å¸¸ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230506094803545.png&#34; alt=&#34;image-20230506094803545&#34;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¹´è½»ä»£è¢«åˆ’åˆ†ä¸ºä¸‰éƒ¨åˆ†ï¼ŒEdenåŒºå’Œä¸¤ä¸ªå¤§å°ä¸¥æ ¼ç›¸åŒçš„SurvivoråŒºï¼Œæ ¹æ®JVMçš„ç­–ç•¥ï¼Œåœ¨ç»è¿‡å‡ æ¬¡åƒåœ¾æ”¶é›†åï¼Œä»»ç„¶å­˜æ´»äºSurvivorçš„å¯¹è±¡å°†è¢«ç§»åŠ¨åˆ°è€å¹´ä»£åŒºé—´ã€‚&lt;/li&gt;
&lt;li&gt;è€å¹´ä»£ä¸»è¦ä¿å­˜ç”Ÿå‘½å‘¨æœŸé•¿çš„å¯¹è±¡ï¼Œä¸€èˆ¬æ˜¯ä¸€äº›è€çš„å¯¹è±¡&lt;/li&gt;
&lt;li&gt;å…ƒç©ºé—´ä¿å­˜çš„ç±»ä¿¡æ¯ã€é™æ€å˜é‡ã€å¸¸é‡ã€ç¼–è¯‘åçš„ä»£ç &lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;â€‹	&lt;/p&gt;
&lt;p&gt;ä¸ºäº†é¿å…æ–¹æ³•åŒºå‡ºç°OOMï¼Œæ‰€ä»¥åœ¨java8ä¸­å°†å †ä¸Šçš„æ–¹æ³•åŒºã€æ°¸ä¹…ä»£ã€‘ç»™ç§»åŠ¨åˆ°äº†æœ¬åœ°å†…å­˜ä¸Šï¼Œé‡æ–°å¼€è¾Ÿäº†ä¸€å—ç©ºé—´ï¼Œå«åš&lt;strong&gt;å…ƒç©ºé—´&lt;/strong&gt;ã€‚é‚£ä¹ˆç°åœ¨å°±å¯ä»¥é¿å…æ‰OOMçš„å‡ºç°äº†ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230506094938843.png&#34; alt=&#34;image-20230506094938843&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;å…ƒç©ºé—´-MetaSpace-ä»‹ç»&#34;&gt;&lt;a href=&#34;#å…ƒç©ºé—´-MetaSpace-ä»‹ç»&#34; class=&#34;headerlink&#34; title=&#34;å…ƒç©ºé—´(MetaSpace)ä»‹ç»&#34;&gt;&lt;/a&gt;å…ƒç©ºé—´(MetaSpace)ä»‹ç»&lt;/h3&gt;&lt;p&gt;â€‹	åœ¨ HotSpot JVM ä¸­ï¼Œæ°¸ä¹…ä»£ï¼ˆ â‰ˆ æ–¹æ³•åŒºï¼‰ä¸­ç”¨äºå­˜æ”¾ç±»å’Œæ–¹æ³•çš„å…ƒæ•°æ®ä»¥åŠå¸¸é‡æ± ï¼Œæ¯”å¦‚Class å’Œ Methodã€‚æ¯å½“ä¸€ä¸ªç±»åˆæ¬¡è¢«åŠ è½½çš„æ—¶å€™ï¼Œå®ƒçš„å…ƒæ•°æ®éƒ½ä¼šæ”¾åˆ°æ°¸ä¹…ä»£ä¸­ã€‚&lt;/p&gt;
&lt;p&gt;â€‹	æ°¸ä¹…ä»£æ˜¯æœ‰å¤§å°é™åˆ¶çš„ï¼Œå› æ­¤å¦‚æœåŠ è½½çš„ç±»å¤ªå¤šï¼Œå¾ˆæœ‰å¯èƒ½å¯¼è‡´æ°¸ä¹…ä»£å†…å­˜æº¢å‡ºï¼Œå³OutOfMemoryErrorï¼Œä¸ºæ­¤ä¸å¾—ä¸å¯¹è™šæ‹Ÿæœºåšè°ƒä¼˜ã€‚&lt;/p&gt;
&lt;p&gt;â€‹	é‚£ä¹ˆï¼ŒJava 8 ä¸­ PermGen ä¸ºä»€ä¹ˆè¢«ç§»å‡º HotSpot JVM äº†ï¼Ÿ&lt;/p&gt;
&lt;p&gt;å®˜ç½‘ç»™å‡ºäº†è§£é‡Šï¼š&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cDovL29wZW5qZGsuamF2YS5uZXQvamVwcy8xMjI=&#34;&gt;http://openjdk.java.net/jeps/122&lt;/span&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;This is part of the JRockit and Hotspot convergence effort. JRockit customers do not need to configure the permanent generation (since JRockit does not have a permanent generation) and are accustomed to not configuring the permanent generation.

ç§»é™¤æ°¸ä¹…ä»£æ˜¯ä¸ºèåˆHotSpot JVMä¸ JRockit VMè€Œåšå‡ºçš„åŠªåŠ›ï¼Œå› ä¸ºJRockitæ²¡æœ‰æ°¸ä¹…ä»£ï¼Œä¸éœ€è¦é…ç½®æ°¸ä¹…ä»£ã€‚
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;1ï¼‰ç”±äº PermGen å†…å­˜ç»å¸¸ä¼šæº¢å‡ºï¼Œå¼•å‘OutOfMemoryErrorï¼Œå› æ­¤ JVM çš„å¼€å‘è€…å¸Œæœ›è¿™ä¸€å—å†…å­˜å¯ä»¥æ›´çµæ´»åœ°è¢«ç®¡ç†ï¼Œä¸è¦å†ç»å¸¸å‡ºç°è¿™æ ·çš„ OOMã€‚&lt;/p&gt;
&lt;p&gt;2ï¼‰ç§»é™¤ PermGen å¯ä»¥ä¿ƒè¿› HotSpot JVM ä¸ JRockit VM çš„èåˆï¼Œå› ä¸º JRockit æ²¡æœ‰æ°¸ä¹…ä»£ã€‚&lt;/p&gt;
&lt;p&gt;â€‹	å‡†ç¡®æ¥è¯´ï¼ŒPerm åŒºä¸­çš„å­—ç¬¦ä¸²å¸¸é‡æ± è¢«ç§»åˆ°äº†å †å†…å­˜ä¸­æ˜¯åœ¨ Java7 ä¹‹åï¼ŒJava 8 æ—¶ï¼ŒPermGen è¢«å…ƒç©ºé—´ä»£æ›¿ï¼Œå…¶ä»–å†…å®¹æ¯”å¦‚&lt;strong&gt;ç±»å…ƒä¿¡æ¯ã€å­—æ®µã€é™æ€å±æ€§ã€æ–¹æ³•ã€å¸¸é‡&lt;/strong&gt;ç­‰éƒ½ç§»åŠ¨åˆ°å…ƒç©ºé—´åŒºã€‚æ¯”å¦‚ java&amp;#x2F;lang&amp;#x2F;Object ç±»å…ƒä¿¡æ¯ã€é™æ€å±æ€§ System.outã€æ•´å‹å¸¸é‡ç­‰ã€‚&lt;/p&gt;
&lt;p&gt;â€‹	å…ƒç©ºé—´çš„æœ¬è´¨å’Œæ°¸ä¹…ä»£ç±»ä¼¼ï¼Œéƒ½æ˜¯å¯¹ JVM è§„èŒƒä¸­æ–¹æ³•åŒºçš„å®ç°ã€‚ä¸è¿‡å…ƒç©ºé—´ä¸æ°¸ä¹…ä»£ä¹‹é—´æœ€å¤§çš„åŒºåˆ«åœ¨äºï¼šå…ƒç©ºé—´å¹¶ä¸åœ¨è™šæ‹Ÿæœºä¸­ï¼Œè€Œæ˜¯ä½¿ç”¨æœ¬åœ°å†…å­˜ã€‚å› æ­¤ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œå…ƒç©ºé—´çš„å¤§å°ä»…å—æœ¬åœ°å†…å­˜é™åˆ¶ã€‚&lt;/p&gt;
&lt;h3 id=&#34;ä»€ä¹ˆæ˜¯è™šæ‹Ÿæœºæ ˆ&#34;&gt;&lt;a href=&#34;#ä»€ä¹ˆæ˜¯è™šæ‹Ÿæœºæ ˆ&#34; class=&#34;headerlink&#34; title=&#34;ä»€ä¹ˆæ˜¯è™šæ‹Ÿæœºæ ˆ&#34;&gt;&lt;/a&gt;ä»€ä¹ˆæ˜¯è™šæ‹Ÿæœºæ ˆ&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;éš¾æ˜“ç¨‹åº¦ï¼šâ˜†â˜†â˜†&lt;/p&gt;
&lt;p&gt;å‡ºç°é¢‘ç‡ï¼šâ˜†â˜†â˜†â˜†&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Java Virtual machine Stacks (java è™šæ‹Ÿæœºæ ˆ)&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;æ¯ä¸ªçº¿ç¨‹è¿è¡Œæ—¶æ‰€éœ€è¦çš„å†…å­˜ï¼Œç§°ä¸ºè™šæ‹Ÿæœºæ ˆï¼Œå…ˆè¿›åå‡º&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;æ¯ä¸ªæ ˆç”±å¤šä¸ªæ ˆå¸§ï¼ˆframeï¼‰ç»„æˆï¼Œå¯¹åº”ç€æ¯æ¬¡æ–¹æ³•è°ƒç”¨æ—¶æ‰€å ç”¨çš„å†…å­˜&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;æ¯ä¸ªçº¿ç¨‹åªèƒ½æœ‰ä¸€ä¸ªæ´»åŠ¨æ ˆå¸§ï¼Œå¯¹åº”ç€å½“å‰æ­£åœ¨æ‰§è¡Œçš„é‚£ä¸ªæ–¹æ³•&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230506095140595.png&#34; alt=&#34;image-20230506095140595&#34;&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;p&gt;åƒåœ¾å›æ”¶æ˜¯å¦æ¶‰åŠæ ˆå†…å­˜ï¼Ÿ&lt;/p&gt;
&lt;p&gt;åƒåœ¾å›æ”¶ä¸»è¦æŒ‡å°±æ˜¯å †å†…å­˜ï¼Œå½“æ ˆå¸§å¼¹æ ˆä»¥åï¼Œå†…å­˜å°±ä¼šé‡Šæ”¾&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;æ ˆå†…å­˜åˆ†é…è¶Šå¤§è¶Šå¥½å—ï¼Ÿ&lt;/p&gt;
&lt;p&gt;æœªå¿…ï¼Œé»˜è®¤çš„æ ˆå†…å­˜é€šå¸¸ä¸º1024k&lt;/p&gt;
&lt;p&gt;æ ˆå¸§è¿‡å¤§ä¼šå¯¼è‡´çº¿ç¨‹æ•°å˜å°‘ï¼Œä¾‹å¦‚ï¼Œæœºå™¨æ€»å†…å­˜ä¸º512mï¼Œç›®å‰èƒ½æ´»åŠ¨çš„çº¿ç¨‹æ•°åˆ™ä¸º512ä¸ªï¼Œå¦‚æœæŠŠæ ˆå†…å­˜æ”¹ä¸º2048kï¼Œé‚£ä¹ˆèƒ½æ´»åŠ¨çš„æ ˆå¸§å°±ä¼šå‡åŠ&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;æ–¹æ³•å†…çš„å±€éƒ¨å˜é‡æ˜¯å¦çº¿ç¨‹å®‰å…¨ï¼Ÿ&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;å¦‚æœæ–¹æ³•å†…å±€éƒ¨å˜é‡æ²¡æœ‰é€ƒç¦»æ–¹æ³•çš„ä½œç”¨èŒƒå›´ï¼Œå®ƒæ˜¯çº¿ç¨‹å®‰å…¨çš„&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;å¦‚æœæ˜¯å±€éƒ¨å˜é‡å¼•ç”¨äº†å¯¹è±¡ï¼Œå¹¶é€ƒç¦»æ–¹æ³•çš„ä½œç”¨èŒƒå›´ï¼Œéœ€è¦è€ƒè™‘çº¿ç¨‹å®‰å…¨&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;æ¯”å¦‚ä»¥ä¸‹ä»£ç ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230506095306061.png&#34; alt=&#34;image-20230506095306061&#34;&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;strong&gt;æ ˆå†…å­˜æº¢å‡ºæƒ…å†µ&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;æ ˆå¸§è¿‡å¤šå¯¼è‡´æ ˆå†…å­˜æº¢å‡ºï¼Œå…¸å‹é—®é¢˜ï¼šé€’å½’è°ƒç”¨&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230506095401637.png&#34; alt=&#34;image-20230506095401637&#34;&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;æ ˆå¸§è¿‡å¤§å¯¼è‡´æ ˆå†…å­˜æº¢å‡º&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;éš¾æ˜“ç¨‹åº¦ï¼šâ˜†â˜†â˜†&lt;/p&gt;
&lt;p&gt;å‡ºç°é¢‘ç‡ï¼šâ˜†â˜†â˜†&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ç»„æˆéƒ¨åˆ†ï¼šå †ã€æ–¹æ³•åŒºã€æ ˆã€æœ¬åœ°æ–¹æ³•æ ˆã€ç¨‹åºè®¡æ•°å™¨&lt;/p&gt;
&lt;p&gt;1ã€å †è§£å†³çš„æ˜¯å¯¹è±¡å®ä¾‹å­˜å‚¨çš„é—®é¢˜ï¼Œåƒåœ¾å›æ”¶å™¨ç®¡ç†çš„ä¸»è¦åŒºåŸŸã€‚&lt;br&gt;2ã€æ–¹æ³•åŒºå¯ä»¥è®¤ä¸ºæ˜¯å †çš„ä¸€éƒ¨åˆ†ï¼Œç”¨äºå­˜å‚¨å·²è¢«è™šæ‹ŸæœºåŠ è½½çš„ä¿¡æ¯ï¼Œå¸¸é‡ã€é™æ€å˜é‡ã€å³æ—¶ç¼–è¯‘å™¨ç¼–è¯‘åçš„ä»£ç ã€‚&lt;br&gt;3ã€æ ˆè§£å†³çš„æ˜¯ç¨‹åºè¿è¡Œçš„é—®é¢˜ï¼Œæ ˆé‡Œé¢å­˜çš„æ˜¯æ ˆå¸§ï¼Œæ ˆå¸§é‡Œé¢å­˜çš„æ˜¯å±€éƒ¨å˜é‡è¡¨ã€æ“ä½œæ•°æ ˆã€åŠ¨æ€é“¾æ¥ã€æ–¹æ³•å‡ºå£ç­‰ä¿¡æ¯ã€‚&lt;br&gt;4ã€æœ¬åœ°æ–¹æ³•æ ˆä¸æ ˆåŠŸèƒ½ç›¸åŒï¼Œæœ¬åœ°æ–¹æ³•æ ˆæ‰§è¡Œçš„æ˜¯æœ¬åœ°æ–¹æ³•ï¼Œä¸€ä¸ªJavaè°ƒç”¨éJavaä»£ç çš„æ¥å£ã€‚&lt;br&gt;5ã€ç¨‹åºè®¡æ•°å™¨ï¼ˆPCå¯„å­˜å™¨ï¼‰ç¨‹åºè®¡æ•°å™¨ä¸­å­˜æ”¾çš„æ˜¯å½“å‰çº¿ç¨‹æ‰€æ‰§è¡Œçš„å­—èŠ‚ç çš„è¡Œæ•°ã€‚JVMå·¥ä½œæ—¶å°±æ˜¯é€šè¿‡æ”¹å˜è¿™ä¸ªè®¡æ•°å™¨çš„å€¼æ¥é€‰å–ä¸‹ä¸€ä¸ªéœ€è¦æ‰§è¡Œçš„å­—èŠ‚ç æŒ‡ä»¤ã€‚&lt;/p&gt;
&lt;h3 id=&#34;èƒ½ä¸èƒ½è§£é‡Šä¸€ä¸‹æ–¹æ³•åŒºï¼Ÿ&#34;&gt;&lt;a href=&#34;#èƒ½ä¸èƒ½è§£é‡Šä¸€ä¸‹æ–¹æ³•åŒºï¼Ÿ&#34; class=&#34;headerlink&#34; title=&#34;èƒ½ä¸èƒ½è§£é‡Šä¸€ä¸‹æ–¹æ³•åŒºï¼Ÿ&#34;&gt;&lt;/a&gt;èƒ½ä¸èƒ½è§£é‡Šä¸€ä¸‹æ–¹æ³•åŒºï¼Ÿ&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;éš¾æ˜“ç¨‹åº¦ï¼šâ˜†â˜†â˜†&lt;/p&gt;
&lt;p&gt;å‡ºç°é¢‘ç‡ï¼šâ˜†â˜†â˜†&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h4 id=&#34;æ¦‚è¿°&#34;&gt;&lt;a href=&#34;#æ¦‚è¿°&#34; class=&#34;headerlink&#34; title=&#34;æ¦‚è¿°&#34;&gt;&lt;/a&gt;æ¦‚è¿°&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;&lt;p&gt;æ–¹æ³•åŒº(Method Area)æ˜¯å„ä¸ªçº¿ç¨‹å…±äº«çš„å†…å­˜åŒºåŸŸ&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;ä¸»è¦å­˜å‚¨ç±»çš„ä¿¡æ¯ã€è¿è¡Œæ—¶å¸¸é‡æ± &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;è™šæ‹Ÿæœºå¯åŠ¨çš„æ—¶å€™åˆ›å»ºï¼Œå…³é—­è™šæ‹Ÿæœºæ—¶é‡Šæ”¾&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;å¦‚æœæ–¹æ³•åŒºåŸŸä¸­çš„å†…å­˜æ— æ³•æ»¡è¶³åˆ†é…è¯·æ±‚ï¼Œåˆ™ä¼šæŠ›å‡ºOutOfMemoryError: Metaspace&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230506095504213.png&#34; alt=&#34;image-20230506095504213&#34;&gt;&lt;/p&gt;
&lt;h4 id=&#34;å¸¸é‡æ± &#34;&gt;&lt;a href=&#34;#å¸¸é‡æ± &#34; class=&#34;headerlink&#34; title=&#34;å¸¸é‡æ± &#34;&gt;&lt;/a&gt;å¸¸é‡æ± &lt;/h4&gt;&lt;p&gt;å¯ä»¥çœ‹ä½œæ˜¯ä¸€å¼ è¡¨ï¼Œè™šæ‹ŸæœºæŒ‡ä»¤æ ¹æ®è¿™å¼ å¸¸é‡è¡¨æ‰¾åˆ°è¦æ‰§è¡Œçš„ç±»åã€æ–¹æ³•åã€å‚æ•°ç±»å‹ã€å­—é¢é‡ç­‰ä¿¡æ¯&lt;/p&gt;
&lt;p&gt;æŸ¥çœ‹å­—èŠ‚ç ç»“æ„ï¼ˆç±»çš„åŸºæœ¬ä¿¡æ¯ã€å¸¸é‡æ± ã€æ–¹æ³•å®šä¹‰ï¼‰&lt;code&gt;javap -v xx.class&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;æ¯”å¦‚ä¸‹é¢æ˜¯ä¸€ä¸ªApplicationç±»çš„mainæ–¹æ³•æ‰§è¡Œï¼Œæºç å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;java&#34;&gt;public class Application &amp;#123;
    public static void main(String[] args) &amp;#123;
        System.out.println(&amp;quot;hello world&amp;quot;);
    &amp;#125;
&amp;#125;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;æ‰¾åˆ°ç±»å¯¹åº”çš„classæ–‡ä»¶å­˜æ”¾ç›®å½•ï¼Œæ‰§è¡Œå‘½ä»¤ï¼š&lt;code&gt;javap -v Application.class&lt;/code&gt;   æŸ¥çœ‹å­—èŠ‚ç ç»“æ„&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;java&#34;&gt;D:\code\jvm-demo\target\classes\com\heima\jvm&amp;gt;javap -v Application.class
Classfile /D:/code/jvm-demo/target/classes/com/heima/jvm/Application.class
  Last modified 2023-05-07; size 564 bytes    //æœ€åä¿®æ”¹çš„æ—¶é—´
  MD5 checksum c1b64ed6491b9a16c2baab5061c64f88   //ç­¾å
  Compiled from &amp;quot;Application.java&amp;quot;   //ä»å“ªä¸ªæºç ç¼–è¯‘
public class com.heima.jvm.Application   //åŒ…åï¼Œç±»å
  minor version: 0
  major version: 52     //jdkç‰ˆæœ¬
  flags: ACC_PUBLIC, ACC_SUPER  //ä¿®é¥°ç¬¦
Constant pool:   //å¸¸é‡æ± 
   #1 = Methodref          #6.#20         // java/lang/Object.&amp;quot;&amp;lt;init&amp;gt;&amp;quot;:()V
   #2 = Fieldref           #21.#22        // java/lang/System.out:Ljava/io/PrintStream;
   #3 = String             #23            // hello world
   #4 = Methodref          #24.#25        // java/io/PrintStream.println:(Ljava/lang/String;)V
   #5 = Class              #26            // com/heima/jvm/Application
   #6 = Class              #27            // java/lang/Object
   #7 = Utf8               &amp;lt;init&amp;gt;
   #8 = Utf8               ()V
   #9 = Utf8               Code
  #10 = Utf8               LineNumberTable
  #11 = Utf8               LocalVariableTable
  #12 = Utf8               this
  #13 = Utf8               Lcom/heima/jvm/Application;
  #14 = Utf8               main
  #15 = Utf8               ([Ljava/lang/String;)V
  #16 = Utf8               args
  #17 = Utf8               [Ljava/lang/String;
  #18 = Utf8               SourceFile
  #19 = Utf8               Application.java
  #20 = NameAndType        #7:#8          // &amp;quot;&amp;lt;init&amp;gt;&amp;quot;:()V
  #21 = Class              #28            // java/lang/System
  #22 = NameAndType        #29:#30        // out:Ljava/io/PrintStream;
  #23 = Utf8               hello world
  #24 = Class              #31            // java/io/PrintStream
  #25 = NameAndType        #32:#33        // println:(Ljava/lang/String;)V
  #26 = Utf8               com/heima/jvm/Application
  #27 = Utf8               java/lang/Object
  #28 = Utf8               java/lang/System
  #29 = Utf8               out
  #30 = Utf8               Ljava/io/PrintStream;
  #31 = Utf8               java/io/PrintStream
  #32 = Utf8               println
  #33 = Utf8               (Ljava/lang/String;)V
&amp;#123;
  public com.heima.jvm.Application();  //æ„é€ æ–¹æ³•
    descriptor: ()V
    flags: ACC_PUBLIC
    Code:
      stack=1, locals=1, args_size=1
         0: aload_0
         1: invokespecial #1                  // Method java/lang/Object.&amp;quot;&amp;lt;init&amp;gt;&amp;quot;:()V
         4: return
      LineNumberTable:
        line 3: 0
      LocalVariableTable:
        Start  Length  Slot  Name   Signature
            0       5     0  this   Lcom/heima/jvm/Application;

  public static void main(java.lang.String[]);  //mainæ–¹æ³•
    descriptor: ([Ljava/lang/String;)V
    flags: ACC_PUBLIC, ACC_STATIC
    Code:
      stack=2, locals=1, args_size=1
         0: getstatic     #2                  // Field java/lang/System.out:Ljava/io/PrintStream;
         3: ldc           #3                  // String hello world
         5: invokevirtual #4                  // Method java/io/PrintStream.println:(Ljava/lang/String;)V
         8: return
      LineNumberTable:
        line 7: 0
        line 8: 8
      LocalVariableTable:
        Start  Length  Slot  Name   Signature
            0       9     0  args   [Ljava/lang/String;
&amp;#125;
SourceFile: &amp;quot;Application.java&amp;quot;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ä¸‹å›¾ï¼Œå·¦ä¾§æ˜¯mainæ–¹æ³•çš„æŒ‡ä»¤ä¿¡æ¯ï¼Œå³ä¾§constant pool  æ˜¯å¸¸é‡æ± &lt;/p&gt;
&lt;p&gt;mainæ–¹æ³•æŒ‰ç…§æŒ‡ä»¤æ‰§è¡Œçš„æ—¶å€™ï¼Œéœ€è¦åˆ°å¸¸é‡æ± ä¸­æŸ¥è¡¨ç¿»è¯‘æ‰¾åˆ°å…·ä½“çš„ç±»å’Œæ–¹æ³•åœ°å€å»æ‰§è¡Œ&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230506095634842.png&#34; alt=&#34;image-20230506095634842&#34;&gt;&lt;/p&gt;
&lt;h4 id=&#34;è¿è¡Œæ—¶å¸¸é‡æ± &#34;&gt;&lt;a href=&#34;#è¿è¡Œæ—¶å¸¸é‡æ± &#34; class=&#34;headerlink&#34; title=&#34;è¿è¡Œæ—¶å¸¸é‡æ± &#34;&gt;&lt;/a&gt;è¿è¡Œæ—¶å¸¸é‡æ± &lt;/h4&gt;&lt;p&gt;å¸¸é‡æ± æ˜¯ *.class æ–‡ä»¶ä¸­çš„ï¼Œå½“è¯¥ç±»è¢«åŠ è½½ï¼Œå®ƒçš„å¸¸é‡æ± ä¿¡æ¯å°±ä¼šæ”¾å…¥è¿è¡Œæ—¶å¸¸é‡æ± ï¼Œå¹¶æŠŠé‡Œé¢çš„ç¬¦å·åœ°å€å˜ä¸ºçœŸå®åœ°å€&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230506100142724.png&#34; alt=&#34;image-20230506100142724&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;ä½ å¬è¿‡ç›´æ¥å†…å­˜å—ï¼Ÿ&#34;&gt;&lt;a href=&#34;#ä½ å¬è¿‡ç›´æ¥å†…å­˜å—ï¼Ÿ&#34; class=&#34;headerlink&#34; title=&#34;ä½ å¬è¿‡ç›´æ¥å†…å­˜å—ï¼Ÿ&#34;&gt;&lt;/a&gt;ä½ å¬è¿‡ç›´æ¥å†…å­˜å—ï¼Ÿ&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;éš¾æ˜“ç¨‹åº¦ï¼šâ˜†â˜†â˜†&lt;/p&gt;
&lt;p&gt;å‡ºç°é¢‘ç‡ï¼šâ˜†â˜†â˜†&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ä¸å— JVM å†…å­˜å›æ”¶ç®¡ç†ï¼Œæ˜¯è™šæ‹Ÿæœºçš„ç³»ç»Ÿå†…å­˜ï¼Œå¸¸è§äº NIO æ“ä½œæ—¶ï¼Œç”¨äºæ•°æ®ç¼“å†²åŒºï¼Œåˆ†é…å›æ”¶æˆæœ¬è¾ƒé«˜ï¼Œä½†è¯»å†™æ€§èƒ½é«˜ï¼Œä¸å— JVM å†…å­˜å›æ”¶ç®¡ç†&lt;/p&gt;
&lt;p&gt;ä¸¾ä¾‹ï¼š&lt;/p&gt;
&lt;p&gt;éœ€æ±‚ï¼Œåœ¨æœ¬åœ°ç”µè„‘ä¸­çš„ä¸€ä¸ªè¾ƒå¤§çš„æ–‡ä»¶ï¼ˆè¶…è¿‡100mï¼‰ä»ä¸€ä¸ªç£ç›˜æŒªåˆ°å¦å¤–ä¸€ä¸ªç£ç›˜&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230506100501905.png&#34; alt=&#34;image-20230506100501905&#34;&gt;&lt;/p&gt;
&lt;p&gt;ä»£ç å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;java&#34;&gt;/**
 * æ¼”ç¤º ByteBuffer ä½œç”¨
 */
public class Demo1_9 &amp;#123;
    static final String FROM = &amp;quot;E:\\ç¼–ç¨‹èµ„æ–™\\ç¬¬ä¸‰æ–¹æ•™å­¦è§†é¢‘\\youtube\\Getting Started with Spring Boot-sbPSjI4tt10.mp4&amp;quot;;
    static final String TO = &amp;quot;E:\\a.mp4&amp;quot;;
    static final int _1Mb = 1024 * 1024;

    public static void main(String[] args) &amp;#123;
        io(); // io ç”¨æ—¶ï¼š1535.586957 1766.963399 1359.240226
        directBuffer(); // directBuffer ç”¨æ—¶ï¼š479.295165 702.291454 562.56592
    &amp;#125;

    private static void directBuffer() &amp;#123;
        long start = System.nanoTime();
        try (FileChannel from = new FileInputStream(FROM).getChannel();
             FileChannel to = new FileOutputStream(TO).getChannel();
        ) &amp;#123;
            ByteBuffer bb = ByteBuffer.allocateDirect(_1Mb);
            while (true) &amp;#123;
                int len = from.read(bb);
                if (len == -1) &amp;#123;
                    break;
                &amp;#125;
                bb.flip();
                to.write(bb);
                bb.clear();
            &amp;#125;
        &amp;#125; catch (IOException e) &amp;#123;
            e.printStackTrace();
        &amp;#125;
        long end = System.nanoTime();
        System.out.println(&amp;quot;directBuffer ç”¨æ—¶ï¼š&amp;quot; + (end - start) / 1000_000.0);
    &amp;#125;

    private static void io() &amp;#123;
        long start = System.nanoTime();
        try (FileInputStream from = new FileInputStream(FROM);
             FileOutputStream to = new FileOutputStream(TO);
        ) &amp;#123;
            byte[] buf = new byte[_1Mb];
            while (true) &amp;#123;
                int len = from.read(buf);
                if (len == -1) &amp;#123;
                    break;
                &amp;#125;
                to.write(buf, 0, len);
            &amp;#125;
        &amp;#125; catch (IOException e) &amp;#123;
            e.printStackTrace();
        &amp;#125;
        long end = System.nanoTime();
        System.out.println(&amp;quot;io ç”¨æ—¶ï¼š&amp;quot; + (end - start) / 1000_000.0);
    &amp;#125;
&amp;#125;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å¯ä»¥å‘ç°ï¼Œä½¿ç”¨ä¼ ç»Ÿçš„IOçš„æ—¶é—´è¦æ¯”NIOæ“ä½œçš„æ—¶é—´é•¿äº†å¾ˆå¤šäº†ï¼Œä¹Ÿå°±è¯´NIOçš„è¯»æ€§èƒ½æ›´å¥½ã€‚&lt;/p&gt;
&lt;p&gt;è¿™ä¸ªæ˜¯è·Ÿæˆ‘ä»¬çš„JVMçš„ç›´æ¥å†…å­˜æ˜¯æœ‰ä¸€å®šå…³ç³»ï¼Œå¦‚ä¸‹å›¾ï¼Œæ˜¯ä¼ ç»Ÿé˜»å¡IOçš„æ•°æ®ä¼ è¾“æµç¨‹&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230506100548455.png&#34; alt=&#34;image-20230506100548455&#34;&gt;&lt;/p&gt;
&lt;p&gt;ä¸‹å›¾æ˜¯NIOä¼ è¾“æ•°æ®çš„æµç¨‹ï¼Œåœ¨è¿™ä¸ªé‡Œé¢ä¸»è¦ä½¿ç”¨åˆ°äº†ä¸€ä¸ªç›´æ¥å†…å­˜ï¼Œä¸éœ€è¦åœ¨å †ä¸­å¼€è¾Ÿç©ºé—´è¿›è¡Œæ•°æ®çš„æ‹·è´ï¼Œjvmå¯ä»¥ç›´æ¥æ“ä½œç›´æ¥å†…å­˜ï¼Œä»è€Œä½¿æ•°æ®è¯»å†™ä¼ è¾“æ›´å¿«ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230506100621146.png&#34; alt=&#34;image-20230506100621146&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;å †æ ˆçš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ&#34;&gt;&lt;a href=&#34;#å †æ ˆçš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ&#34; class=&#34;headerlink&#34; title=&#34;å †æ ˆçš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ&#34;&gt;&lt;/a&gt;å †æ ˆçš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;éš¾æ˜“ç¨‹åº¦ï¼šâ˜†â˜†â˜†&lt;/p&gt;
&lt;p&gt;å‡ºç°é¢‘ç‡ï¼šâ˜†â˜†â˜†â˜†&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;1ã€æ ˆå†…å­˜ä¸€èˆ¬ä¼šç”¨æ¥å­˜å‚¨å±€éƒ¨å˜é‡å’Œæ–¹æ³•è°ƒç”¨ï¼Œä½†å †å†…å­˜æ˜¯ç”¨æ¥å­˜å‚¨Javaå¯¹è±¡å’Œæ•°ç»„çš„çš„ã€‚å †ä¼šGCåƒåœ¾å›æ”¶ï¼Œè€Œæ ˆä¸ä¼šã€‚&lt;/p&gt;
&lt;p&gt;2ã€æ ˆå†…å­˜æ˜¯çº¿ç¨‹ç§æœ‰çš„ï¼Œè€Œå †å†…å­˜æ˜¯çº¿ç¨‹å…±æœ‰çš„ã€‚&lt;/p&gt;
&lt;p&gt;3,ã€ä¸¤è€…å¼‚å¸¸é”™è¯¯ä¸åŒï¼Œä½†å¦‚æœæ ˆå†…å­˜æˆ–è€…å †å†…å­˜ä¸è¶³éƒ½ä¼šæŠ›å‡ºå¼‚å¸¸ã€‚&lt;/p&gt;
&lt;p&gt;æ ˆç©ºé—´ä¸è¶³ï¼šjava.lang.StackOverFlowErrorã€‚&lt;/p&gt;
&lt;p&gt;å †ç©ºé—´ä¸è¶³ï¼šjava.lang.OutOfMemoryErrorã€‚&lt;/p&gt;
&lt;h2 id=&#34;ç±»åŠ è½½å™¨&#34;&gt;&lt;a href=&#34;#ç±»åŠ è½½å™¨&#34; class=&#34;headerlink&#34; title=&#34;ç±»åŠ è½½å™¨&#34;&gt;&lt;/a&gt;ç±»åŠ è½½å™¨&lt;/h2&gt;&lt;h3 id=&#34;ä»€ä¹ˆæ˜¯ç±»åŠ è½½å™¨ï¼Œç±»åŠ è½½å™¨æœ‰å“ªäº›&#34;&gt;&lt;a href=&#34;#ä»€ä¹ˆæ˜¯ç±»åŠ è½½å™¨ï¼Œç±»åŠ è½½å™¨æœ‰å“ªäº›&#34; class=&#34;headerlink&#34; title=&#34;ä»€ä¹ˆæ˜¯ç±»åŠ è½½å™¨ï¼Œç±»åŠ è½½å™¨æœ‰å“ªäº›?&#34;&gt;&lt;/a&gt;ä»€ä¹ˆæ˜¯ç±»åŠ è½½å™¨ï¼Œç±»åŠ è½½å™¨æœ‰å“ªäº›?&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;éš¾æ˜“ç¨‹åº¦ï¼šâ˜†â˜†â˜†â˜†&lt;/p&gt;
&lt;p&gt;å‡ºç°é¢‘ç‡ï¼šâ˜†â˜†â˜†&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;è¦æƒ³ç†è§£ç±»åŠ è½½å™¨çš„è¯ï¼ŒåŠ¡å¿…è¦å…ˆæ¸…æ¥šå¯¹äºä¸€ä¸ªJavaæ–‡ä»¶ï¼Œå®ƒä»ç¼–è¯‘åˆ°æ‰§è¡Œçš„æ•´ä¸ªè¿‡ç¨‹ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20220903233627146.png&#34;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ç±»åŠ è½½å™¨ï¼šç”¨äºè£…è½½å­—èŠ‚ç æ–‡ä»¶(.classæ–‡ä»¶)&lt;/li&gt;
&lt;li&gt;è¿è¡Œæ—¶æ•°æ®åŒºï¼šç”¨äºåˆ†é…å­˜å‚¨ç©ºé—´&lt;/li&gt;
&lt;li&gt;æ‰§è¡Œå¼•æ“ï¼šæ‰§è¡Œå­—èŠ‚ç æ–‡ä»¶æˆ–æœ¬åœ°æ–¹æ³•&lt;/li&gt;
&lt;li&gt;åƒåœ¾å›æ”¶å™¨ï¼šç”¨äºå¯¹JVMä¸­çš„åƒåœ¾å†…å®¹è¿›è¡Œå›æ”¶&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;ç±»åŠ è½½å™¨&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;JVMåªä¼šè¿è¡ŒäºŒè¿›åˆ¶æ–‡ä»¶ï¼Œè€Œç±»åŠ è½½å™¨ï¼ˆClassLoaderï¼‰çš„ä¸»è¦ä½œç”¨å°±æ˜¯å°†&lt;strong&gt;å­—èŠ‚ç æ–‡ä»¶åŠ è½½åˆ°JVMä¸­&lt;/strong&gt;ï¼Œä»è€Œè®©Javaç¨‹åºèƒ½å¤Ÿå¯åŠ¨èµ·æ¥ã€‚ç°æœ‰çš„ç±»åŠ è½½å™¨åŸºæœ¬ä¸Šéƒ½æ˜¯java.lang.ClassLoaderçš„å­ç±»ï¼Œè¯¥ç±»çš„åªè¦èŒè´£å°±æ˜¯ç”¨äºå°†æŒ‡å®šçš„ç±»æ‰¾åˆ°æˆ–ç”Ÿæˆå¯¹åº”çš„å­—èŠ‚ç æ–‡ä»¶ï¼ŒåŒæ—¶ç±»åŠ è½½å™¨è¿˜ä¼šè´Ÿè´£åŠ è½½ç¨‹åºæ‰€éœ€è¦çš„èµ„æº&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ç±»åŠ è½½å™¨ç§ç±»&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ç±»åŠ è½½å™¨æ ¹æ®å„è‡ªåŠ è½½èŒƒå›´çš„ä¸åŒï¼Œåˆ’åˆ†ä¸ºå››ç§ç±»åŠ è½½å™¨ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;å¯åŠ¨ç±»åŠ è½½å™¨(BootStrap ClassLoader)ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;è¯¥ç±»å¹¶ä¸ç»§æ‰¿ClassLoaderç±»ï¼Œå…¶æ˜¯ç”±C++ç¼–å†™å®ç°ã€‚ç”¨äºåŠ è½½&lt;strong&gt;JAVA_HOME&amp;#x2F;jre&amp;#x2F;lib&lt;/strong&gt;ç›®å½•ä¸‹çš„ç±»åº“ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;æ‰©å±•ç±»åŠ è½½å™¨(ExtClassLoader)ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;è¯¥ç±»æ˜¯ClassLoaderçš„å­ç±»ï¼Œä¸»è¦åŠ è½½&lt;strong&gt;JAVA_HOME&amp;#x2F;jre&amp;#x2F;lib&amp;#x2F;ext&lt;/strong&gt;ç›®å½•ä¸­çš„ç±»åº“ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;åº”ç”¨ç±»åŠ è½½å™¨(AppClassLoader)ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;è¯¥ç±»æ˜¯ClassLoaderçš„å­ç±»ï¼Œä¸»è¦ç”¨äºåŠ è½½&lt;strong&gt;classPath&lt;/strong&gt;ä¸‹çš„ç±»ï¼Œä¹Ÿå°±æ˜¯åŠ è½½å¼€å‘è€…è‡ªå·±ç¼–å†™çš„Javaç±»ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;è‡ªå®šä¹‰ç±»åŠ è½½å™¨ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å¼€å‘è€…è‡ªå®šä¹‰ç±»ç»§æ‰¿ClassLoaderï¼Œå®ç°è‡ªå®šä¹‰ç±»åŠ è½½è§„åˆ™ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä¸Šè¿°ä¸‰ç§ç±»åŠ è½½å™¨çš„å±‚æ¬¡ç»“æ„å¦‚ä¸‹å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230506100746624.png&#34; alt=&#34;image-20230506100746624&#34;&gt;&lt;/p&gt;
&lt;p&gt;ç±»åŠ è½½å™¨çš„ä½“ç³»å¹¶ä¸æ˜¯â€œç»§æ‰¿â€ä½“ç³»ï¼Œè€Œæ˜¯&lt;strong&gt;å§”æ´¾ä½“ç³»&lt;/strong&gt;ï¼Œç±»åŠ è½½å™¨é¦–å…ˆä¼šåˆ°è‡ªå·±çš„parentä¸­æŸ¥æ‰¾ç±»æˆ–è€…èµ„æºï¼Œå¦‚æœæ‰¾ä¸åˆ°æ‰ä¼šåˆ°è‡ªå·±æœ¬åœ°æŸ¥æ‰¾ã€‚ç±»åŠ è½½å™¨çš„å§”æ‰˜è¡Œä¸ºåŠ¨æœºæ˜¯ä¸ºäº†é¿å…ç›¸åŒçš„ç±»è¢«åŠ è½½å¤šæ¬¡ã€‚&lt;/p&gt;
&lt;h3 id=&#34;ä»€ä¹ˆæ˜¯åŒäº²å§”æ´¾æ¨¡å‹ï¼Ÿ&#34;&gt;&lt;a href=&#34;#ä»€ä¹ˆæ˜¯åŒäº²å§”æ´¾æ¨¡å‹ï¼Ÿ&#34; class=&#34;headerlink&#34; title=&#34;ä»€ä¹ˆæ˜¯åŒäº²å§”æ´¾æ¨¡å‹ï¼Ÿ&#34;&gt;&lt;/a&gt;ä»€ä¹ˆæ˜¯åŒäº²å§”æ´¾æ¨¡å‹ï¼Ÿ&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;éš¾æ˜“ç¨‹åº¦ï¼šâ˜†â˜†â˜†â˜†&lt;/p&gt;
&lt;p&gt;å‡ºç°é¢‘ç‡ï¼šâ˜†â˜†â˜†â˜†&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;å¦‚æœä¸€ä¸ªç±»åŠ è½½å™¨åœ¨æ¥åˆ°åŠ è½½ç±»çš„è¯·æ±‚æ—¶ï¼Œå®ƒé¦–å…ˆä¸ä¼šè‡ªå·±å°è¯•å»åŠ è½½è¿™ä¸ªç±»ï¼Œè€Œæ˜¯æŠŠè¿™ä¸ªè¯·æ±‚ä»»åŠ¡å§”æ‰˜ç»™çˆ¶ç±»åŠ è½½å™¨å»å®Œæˆï¼Œä¾æ¬¡é€’å½’ï¼Œå¦‚æœçˆ¶ç±»åŠ è½½å™¨å¯ä»¥å®Œæˆç±»åŠ è½½ä»»åŠ¡ï¼Œå°±è¿”å›æˆåŠŸï¼›åªæœ‰çˆ¶ç±»åŠ è½½å™¨æ— æ³•å®Œæˆæ­¤åŠ è½½ä»»åŠ¡æ—¶ï¼Œæ‰ç”±ä¸‹ä¸€çº§å»åŠ è½½ã€‚ &lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230506100920042.png&#34; alt=&#34;image-20230506100920042&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;JVMä¸ºä»€ä¹ˆé‡‡ç”¨åŒäº²å§”æ´¾æœºåˆ¶&#34;&gt;&lt;a href=&#34;#JVMä¸ºä»€ä¹ˆé‡‡ç”¨åŒäº²å§”æ´¾æœºåˆ¶&#34; class=&#34;headerlink&#34; title=&#34;JVMä¸ºä»€ä¹ˆé‡‡ç”¨åŒäº²å§”æ´¾æœºåˆ¶&#34;&gt;&lt;/a&gt;JVMä¸ºä»€ä¹ˆé‡‡ç”¨åŒäº²å§”æ´¾æœºåˆ¶&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;éš¾æ˜“ç¨‹åº¦ï¼šâ˜†â˜†â˜†&lt;/p&gt;
&lt;p&gt;å‡ºç°é¢‘ç‡ï¼šâ˜†â˜†â˜†&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ï¼ˆ1ï¼‰é€šè¿‡åŒäº²å§”æ´¾æœºåˆ¶å¯ä»¥é¿å…æŸä¸€ä¸ªç±»è¢«é‡å¤åŠ è½½ï¼Œå½“çˆ¶ç±»å·²ç»åŠ è½½ååˆ™æ— éœ€é‡å¤åŠ è½½ï¼Œä¿è¯å”¯ä¸€æ€§ã€‚&lt;/p&gt;
&lt;p&gt;ï¼ˆ2ï¼‰ä¸ºäº†å®‰å…¨ï¼Œä¿è¯ç±»åº“APIä¸ä¼šè¢«ä¿®æ”¹&lt;/p&gt;
&lt;p&gt;åœ¨å·¥ç¨‹ä¸­æ–°å»ºjava.langåŒ…ï¼Œæ¥ç€åœ¨è¯¥åŒ…ä¸‹æ–°å»ºStringç±»ï¼Œå¹¶å®šä¹‰mainå‡½æ•°&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;java&#34;&gt;public class String &amp;#123;

    public static void main(String[] args) &amp;#123;

        System.out.println(&amp;quot;demo info&amp;quot;);
    &amp;#125;
&amp;#125;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;â€‹	æ­¤æ—¶æ‰§è¡Œmainå‡½æ•°ï¼Œä¼šå‡ºç°å¼‚å¸¸ï¼Œåœ¨ç±» java.lang.String ä¸­æ‰¾ä¸åˆ° main æ–¹æ³•&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20220903144547378.png&#34; alt=&#34;image-20220903144547378&#34;&gt;&lt;/p&gt;
&lt;p&gt;â€‹	å‡ºç°è¯¥ä¿¡æ¯æ˜¯å› ä¸ºç”±åŒäº²å§”æ´¾çš„æœºåˆ¶ï¼Œjava.lang.Stringçš„åœ¨å¯åŠ¨ç±»åŠ è½½å™¨(Bootstrap classLoader)å¾—åˆ°åŠ è½½ï¼Œå› ä¸ºåœ¨æ ¸å¿ƒjreåº“ä¸­æœ‰å…¶ç›¸åŒåå­—çš„ç±»æ–‡ä»¶ï¼Œä½†è¯¥ç±»ä¸­å¹¶æ²¡æœ‰mainæ–¹æ³•ã€‚è¿™æ ·å°±èƒ½é˜²æ­¢æ¶æ„ç¯¡æ”¹æ ¸å¿ƒAPIåº“ã€‚&lt;/p&gt;
&lt;h3 id=&#34;è¯´ä¸€ä¸‹ç±»è£…è½½çš„æ‰§è¡Œè¿‡ç¨‹ï¼Ÿ&#34;&gt;&lt;a href=&#34;#è¯´ä¸€ä¸‹ç±»è£…è½½çš„æ‰§è¡Œè¿‡ç¨‹ï¼Ÿ&#34; class=&#34;headerlink&#34; title=&#34;è¯´ä¸€ä¸‹ç±»è£…è½½çš„æ‰§è¡Œè¿‡ç¨‹ï¼Ÿ&#34;&gt;&lt;/a&gt;è¯´ä¸€ä¸‹ç±»è£…è½½çš„æ‰§è¡Œè¿‡ç¨‹ï¼Ÿ&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;éš¾æ˜“ç¨‹åº¦ï¼šâ˜†â˜†â˜†â˜†â˜†&lt;/p&gt;
&lt;p&gt;å‡ºç°é¢‘ç‡ï¼šâ˜†â˜†â˜†&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ç±»ä»åŠ è½½åˆ°è™šæ‹Ÿæœºä¸­å¼€å§‹ï¼Œç›´åˆ°å¸è½½ä¸ºæ­¢ï¼Œå®ƒçš„æ•´ä¸ªç”Ÿå‘½å‘¨æœŸåŒ…æ‹¬äº†ï¼šåŠ è½½ã€éªŒè¯ã€å‡†å¤‡ã€è§£æã€åˆå§‹åŒ–ã€ä½¿ç”¨å’Œå¸è½½è¿™7ä¸ªé˜¶æ®µã€‚å…¶ä¸­ï¼ŒéªŒè¯ã€å‡†å¤‡å’Œè§£æè¿™ä¸‰ä¸ªéƒ¨åˆ†ç»Ÿç§°ä¸ºè¿æ¥ï¼ˆlinkingï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230506101032605.png&#34; alt=&#34;image-20230506101032605&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ç±»åŠ è½½è¿‡ç¨‹è¯¦è§£&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;1.åŠ è½½&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230506101115674.png&#34; alt=&#34;image-20230506101115674&#34;&gt; &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;é€šè¿‡ç±»çš„å…¨åï¼Œè·å–ç±»çš„äºŒè¿›åˆ¶æ•°æ®æµã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;è§£æç±»çš„äºŒè¿›åˆ¶æ•°æ®æµä¸ºæ–¹æ³•åŒºå†…çš„æ•°æ®ç»“æ„ï¼ˆJavaç±»æ¨¡å‹ï¼‰ &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;åˆ›å»ºjava.lang.Classç±»çš„å®ä¾‹ï¼Œè¡¨ç¤ºè¯¥ç±»å‹ã€‚ä½œä¸ºæ–¹æ³•åŒºè¿™ä¸ªç±»çš„å„ç§æ•°æ®çš„è®¿é—®å…¥å£&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230506101213373.png&#34; alt=&#34;image-20230506101213373&#34;&gt;&lt;/p&gt;
&lt;p&gt;2.éªŒè¯&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230506101420202.png&#34; alt=&#34;image-20230506101420202&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;éªŒè¯ç±»æ˜¯å¦ç¬¦åˆJVMè§„èŒƒï¼Œå®‰å…¨æ€§æ£€æŸ¥&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;(1)æ–‡ä»¶æ ¼å¼éªŒè¯:æ˜¯å¦ç¬¦åˆClassæ–‡ä»¶çš„è§„èŒƒ&lt;br&gt;(2)å…ƒæ•°æ®éªŒè¯&lt;br&gt;    è¿™ä¸ªç±»æ˜¯å¦æœ‰çˆ¶ç±»ï¼ˆé™¤äº†Objectè¿™ä¸ªç±»ä¹‹å¤–ï¼Œå…¶ä½™çš„ç±»éƒ½åº”è¯¥æœ‰çˆ¶ç±»ï¼‰&lt;br&gt;    è¿™ä¸ªç±»æ˜¯å¦ç»§æ‰¿ï¼ˆextendsï¼‰äº†è¢«finalä¿®é¥°è¿‡çš„ç±»ï¼ˆè¢«finalä¿®é¥°è¿‡çš„ç±»è¡¨ç¤ºç±»ä¸èƒ½è¢«ç»§æ‰¿ï¼‰&lt;br&gt;    ç±»ä¸­çš„å­—æ®µã€æ–¹æ³•æ˜¯å¦ä¸çˆ¶ç±»äº§ç”ŸçŸ›ç›¾ã€‚ï¼ˆè¢«finalä¿®é¥°è¿‡çš„æ–¹æ³•æˆ–å­—æ®µæ˜¯ä¸èƒ½è¦†ç›–çš„ï¼‰						&lt;br&gt;(3)å­—èŠ‚ç éªŒè¯&lt;br&gt;    ä¸»è¦çš„ç›®çš„æ˜¯é€šè¿‡å¯¹æ•°æ®æµå’Œæ§åˆ¶æµçš„åˆ†æï¼Œç¡®å®šç¨‹åºè¯­ä¹‰æ˜¯åˆæ³•çš„ã€ç¬¦åˆé€»è¾‘çš„ã€‚&lt;br&gt;(4)ç¬¦å·å¼•ç”¨éªŒè¯ï¼šç¬¦å·å¼•ç”¨ä»¥ä¸€ç»„ç¬¦å·æ¥æè¿°æ‰€å¼•ç”¨çš„ç›®æ ‡ï¼Œç¬¦å·å¯ä»¥æ˜¯ä»»ä½•å½¢å¼çš„å­—é¢é‡&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;æ¯”å¦‚ï¼šint i &amp;#x3D; 3;&lt;br&gt;å­—é¢é‡ï¼š3&lt;br&gt;ç¬¦å·å¼•ç”¨ï¼ši&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;3.å‡†å¤‡&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230506101445898.png&#34; alt=&#34;image-20230506101445898&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ä¸ºç±»å˜é‡åˆ†é…å†…å­˜å¹¶è®¾ç½®ç±»å˜é‡åˆå§‹å€¼&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;staticå˜é‡ï¼Œåˆ†é…ç©ºé—´åœ¨å‡†å¤‡é˜¶æ®µå®Œæˆï¼ˆè®¾ç½®é»˜è®¤å€¼ï¼‰ï¼Œèµ‹å€¼åœ¨åˆå§‹åŒ–é˜¶æ®µå®Œæˆ&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;staticå˜é‡æ˜¯finalçš„åŸºæœ¬ç±»å‹ï¼Œä»¥åŠå­—ç¬¦ä¸²å¸¸é‡ï¼Œå€¼å·²ç¡®å®šï¼Œèµ‹å€¼åœ¨å‡†å¤‡é˜¶æ®µå®Œæˆ&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;staticå˜é‡æ˜¯finalçš„å¼•ç”¨ç±»å‹ï¼Œé‚£ä¹ˆèµ‹å€¼ä¹Ÿä¼šåœ¨åˆå§‹åŒ–é˜¶æ®µå®Œæˆ&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230506101824622.png&#34; alt=&#34;image-20230506101824622&#34;&gt;&lt;/p&gt;
&lt;p&gt;4.è§£æ&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230506101504632.png&#34; alt=&#34;image-20230506101504632&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æŠŠç±»ä¸­çš„ç¬¦å·å¼•ç”¨è½¬æ¢ä¸ºç›´æ¥å¼•ç”¨&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æ¯”å¦‚ï¼šæ–¹æ³•ä¸­è°ƒç”¨äº†å…¶ä»–æ–¹æ³•ï¼Œæ–¹æ³•åå¯ä»¥ç†è§£ä¸ºç¬¦å·å¼•ç”¨ï¼Œè€Œç›´æ¥å¼•ç”¨å°±æ˜¯ä½¿ç”¨æŒ‡é’ˆç›´æ¥æŒ‡å‘æ–¹æ³•ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230506102311951.png&#34; alt=&#34;image-20230506102311951&#34;&gt;&lt;/p&gt;
&lt;p&gt;5.åˆå§‹åŒ–&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230506101625087.png&#34; alt=&#34;image-20230506101625087&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å¯¹ç±»çš„é™æ€å˜é‡ï¼Œé™æ€ä»£ç å—æ‰§è¡Œåˆå§‹åŒ–æ“ä½œ&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;å¦‚æœåˆå§‹åŒ–ä¸€ä¸ªç±»çš„æ—¶å€™ï¼Œå…¶çˆ¶ç±»å°šæœªåˆå§‹åŒ–ï¼Œåˆ™ä¼˜å…ˆåˆå§‹åŒ–å…¶çˆ¶ç±»ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;å¦‚æœåŒæ—¶åŒ…å«å¤šä¸ªé™æ€å˜é‡å’Œé™æ€ä»£ç å—ï¼Œåˆ™æŒ‰ç…§è‡ªä¸Šè€Œä¸‹çš„é¡ºåºä¾æ¬¡æ‰§è¡Œã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;6.ä½¿ç”¨&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230506101641837.png&#34; alt=&#34;image-20230506101641837&#34;&gt;&lt;/p&gt;
&lt;p&gt;JVM å¼€å§‹ä»å…¥å£æ–¹æ³•å¼€å§‹æ‰§è¡Œç”¨æˆ·çš„ç¨‹åºä»£ç &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;è°ƒç”¨é™æ€ç±»æˆå‘˜ä¿¡æ¯ï¼ˆæ¯”å¦‚ï¼šé™æ€å­—æ®µã€é™æ€æ–¹æ³•ï¼‰&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;ä½¿ç”¨newå…³é”®å­—ä¸ºå…¶åˆ›å»ºå¯¹è±¡å®ä¾‹&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;7.å¸è½½&lt;/p&gt;
&lt;p&gt;å½“ç”¨æˆ·ç¨‹åºä»£ç æ‰§è¡Œå®Œæ¯•åï¼ŒJVM ä¾¿å¼€å§‹é”€æ¯åˆ›å»ºçš„ Class å¯¹è±¡ï¼Œæœ€åè´Ÿè´£è¿è¡Œçš„ JVM ä¹Ÿé€€å‡ºå†…å­˜&lt;/p&gt;
&lt;h2 id=&#34;åƒåœ¾æ”¶å›&#34;&gt;&lt;a href=&#34;#åƒåœ¾æ”¶å›&#34; class=&#34;headerlink&#34; title=&#34;åƒåœ¾æ”¶å›&#34;&gt;&lt;/a&gt;åƒåœ¾æ”¶å›&lt;/h2&gt;&lt;h3 id=&#34;ç®€è¿°Javaåƒåœ¾å›æ”¶æœºåˆ¶ï¼Ÿï¼ˆGCæ˜¯ä»€ä¹ˆï¼Ÿä¸ºä»€ä¹ˆè¦GCï¼‰&#34;&gt;&lt;a href=&#34;#ç®€è¿°Javaåƒåœ¾å›æ”¶æœºåˆ¶ï¼Ÿï¼ˆGCæ˜¯ä»€ä¹ˆï¼Ÿä¸ºä»€ä¹ˆè¦GCï¼‰&#34; class=&#34;headerlink&#34; title=&#34;ç®€è¿°Javaåƒåœ¾å›æ”¶æœºåˆ¶ï¼Ÿï¼ˆGCæ˜¯ä»€ä¹ˆï¼Ÿä¸ºä»€ä¹ˆè¦GCï¼‰&#34;&gt;&lt;/a&gt;ç®€è¿°Javaåƒåœ¾å›æ”¶æœºåˆ¶ï¼Ÿï¼ˆGCæ˜¯ä»€ä¹ˆï¼Ÿä¸ºä»€ä¹ˆè¦GCï¼‰&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;éš¾æ˜“ç¨‹åº¦ï¼šâ˜†â˜†â˜†&lt;/p&gt;
&lt;p&gt;å‡ºç°é¢‘ç‡ï¼šâ˜†â˜†â˜†&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ä¸ºäº†è®©ç¨‹åºå‘˜æ›´ä¸“æ³¨äºä»£ç çš„å®ç°ï¼Œè€Œä¸ç”¨è¿‡å¤šçš„è€ƒè™‘å†…å­˜é‡Šæ”¾çš„é—®é¢˜ï¼Œæ‰€ä»¥ï¼Œåœ¨Javaè¯­è¨€ä¸­ï¼Œæœ‰äº†è‡ªåŠ¨çš„åƒåœ¾å›æ”¶æœºåˆ¶ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬ç†Ÿæ‚‰çš„GC(Garbage Collection)ã€‚&lt;/p&gt;
&lt;p&gt;æœ‰äº†åƒåœ¾å›æ”¶æœºåˆ¶åï¼Œç¨‹åºå‘˜åªéœ€è¦å…³å¿ƒå†…å­˜çš„ç”³è¯·å³å¯ï¼Œå†…å­˜çš„é‡Šæ”¾ç”±ç³»ç»Ÿè‡ªåŠ¨è¯†åˆ«å®Œæˆã€‚&lt;/p&gt;
&lt;p&gt;åœ¨è¿›è¡Œåƒåœ¾å›æ”¶æ—¶ï¼Œä¸åŒçš„å¯¹è±¡å¼•ç”¨ç±»å‹ï¼ŒGCä¼šé‡‡ç”¨ä¸åŒçš„å›æ”¶æ—¶æœº&lt;/p&gt;
&lt;p&gt;æ¢å¥è¯è¯´ï¼Œè‡ªåŠ¨çš„åƒåœ¾å›æ”¶çš„ç®—æ³•å°±ä¼šå˜å¾—éå¸¸é‡è¦äº†ï¼Œå¦‚æœå› ä¸ºç®—æ³•çš„ä¸åˆç†ï¼Œå¯¼è‡´å†…å­˜èµ„æºä¸€ç›´æ²¡æœ‰é‡Šæ”¾ï¼ŒåŒæ ·ä¹Ÿå¯èƒ½ä¼šå¯¼è‡´å†…å­˜æº¢å‡ºçš„ã€‚&lt;/p&gt;
&lt;p&gt;å½“ç„¶ï¼Œé™¤äº†Javaè¯­è¨€ï¼ŒC#ã€Pythonç­‰è¯­è¨€ä¹Ÿéƒ½æœ‰è‡ªåŠ¨çš„åƒåœ¾å›æ”¶æœºåˆ¶ã€‚&lt;/p&gt;
&lt;h3 id=&#34;å¯¹è±¡ä»€ä¹ˆæ—¶å€™å¯ä»¥è¢«åƒåœ¾å™¨å›æ”¶&#34;&gt;&lt;a href=&#34;#å¯¹è±¡ä»€ä¹ˆæ—¶å€™å¯ä»¥è¢«åƒåœ¾å™¨å›æ”¶&#34; class=&#34;headerlink&#34; title=&#34;å¯¹è±¡ä»€ä¹ˆæ—¶å€™å¯ä»¥è¢«åƒåœ¾å™¨å›æ”¶&#34;&gt;&lt;/a&gt;å¯¹è±¡ä»€ä¹ˆæ—¶å€™å¯ä»¥è¢«åƒåœ¾å™¨å›æ”¶&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;éš¾æ˜“ç¨‹åº¦ï¼šâ˜†â˜†â˜†â˜†&lt;/p&gt;
&lt;p&gt;å‡ºç°é¢‘ç‡ï¼šâ˜†â˜†â˜†â˜†&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230506104954777.png&#34; alt=&#34;image-20230506104954777&#34;&gt;&lt;/p&gt;
&lt;p&gt;ç®€å•ä¸€å¥å°±æ˜¯ï¼šå¦‚æœä¸€ä¸ªæˆ–å¤šä¸ªå¯¹è±¡æ²¡æœ‰ä»»ä½•çš„å¼•ç”¨æŒ‡å‘å®ƒäº†ï¼Œé‚£ä¹ˆè¿™ä¸ªå¯¹è±¡ç°åœ¨å°±æ˜¯åƒåœ¾ï¼Œå¦‚æœå®šä½äº†åƒåœ¾ï¼Œåˆ™æœ‰å¯èƒ½ä¼šè¢«åƒåœ¾å›æ”¶å™¨å›æ”¶ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœè¦å®šä½ä»€ä¹ˆæ˜¯åƒåœ¾ï¼Œæœ‰ä¸¤ç§æ–¹å¼æ¥ç¡®å®šï¼Œç¬¬ä¸€ä¸ªæ˜¯å¼•ç”¨è®¡æ•°æ³•ï¼Œç¬¬äºŒä¸ªæ˜¯å¯è¾¾æ€§åˆ†æç®—æ³•&lt;/p&gt;
&lt;h4 id=&#34;å¼•ç”¨è®¡æ•°æ³•&#34;&gt;&lt;a href=&#34;#å¼•ç”¨è®¡æ•°æ³•&#34; class=&#34;headerlink&#34; title=&#34;å¼•ç”¨è®¡æ•°æ³•&#34;&gt;&lt;/a&gt;å¼•ç”¨è®¡æ•°æ³•&lt;/h4&gt;&lt;p&gt;ä¸€ä¸ªå¯¹è±¡è¢«å¼•ç”¨äº†ä¸€æ¬¡ï¼Œåœ¨å½“å‰çš„å¯¹è±¡å¤´ä¸Šé€’å¢ä¸€æ¬¡å¼•ç”¨æ¬¡æ•°ï¼Œå¦‚æœè¿™ä¸ªå¯¹è±¡çš„å¼•ç”¨æ¬¡æ•°ä¸º0ï¼Œä»£è¡¨è¿™ä¸ªå¯¹è±¡å¯å›æ”¶&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;java&#34;&gt;String demo = new String(&amp;quot;123&amp;quot;);
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230506111102825.png&#34; alt=&#34;image-20230506111102825&#34;&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;java&#34;&gt;String demo = null;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230506111136231.png&#34; alt=&#34;image-20230506111136231&#34;&gt;&lt;/p&gt;
&lt;p&gt;å½“å¯¹è±¡é—´å‡ºç°äº†å¾ªç¯å¼•ç”¨çš„è¯ï¼Œåˆ™å¼•ç”¨è®¡æ•°æ³•å°±ä¼šå¤±æ•ˆ&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230506111255401.png&#34; alt=&#34;image-20230506111255401&#34;&gt;&lt;/p&gt;
&lt;p&gt;å…ˆæ‰§è¡Œå³ä¾§ä»£ç çš„å‰4è¡Œä»£ç &lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230506111327590.png&#34; alt=&#34;image-20230506111327590&#34;&gt;&lt;/p&gt;
&lt;p&gt;ç›®å‰ä¸Šæ–¹çš„å¼•ç”¨å…³ç³»å’Œè®¡æ•°éƒ½æ˜¯æ²¡é—®é¢˜çš„ï¼Œä½†æ˜¯ï¼Œå¦‚æœä»£ç ç»§ç»­å¾€ä¸‹æ‰§è¡Œï¼Œå¦‚ä¸‹å›¾&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230506111512450.png&#34; alt=&#34;image-20230506111512450&#34;&gt;&lt;/p&gt;
&lt;p&gt;è™½ç„¶aå’Œbéƒ½ä¸ºnullï¼Œä½†æ˜¯ç”±äºaå’Œbå­˜åœ¨å¾ªç¯å¼•ç”¨ï¼Œè¿™æ ·aå’Œbæ°¸è¿œéƒ½ä¸ä¼šè¢«å›æ”¶ã€‚&lt;/p&gt;
&lt;p&gt;ä¼˜ç‚¹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å®æ—¶æ€§è¾ƒé«˜ï¼Œæ— éœ€ç­‰åˆ°å†…å­˜ä¸å¤Ÿçš„æ—¶å€™ï¼Œæ‰å¼€å§‹å›æ”¶ï¼Œè¿è¡Œæ—¶æ ¹æ®å¯¹è±¡çš„è®¡æ•°å™¨æ˜¯å¦ä¸º0ï¼Œå°±å¯ä»¥ç›´æ¥å›æ”¶ã€‚&lt;/li&gt;
&lt;li&gt;åœ¨åƒåœ¾å›æ”¶è¿‡ç¨‹ä¸­ï¼Œåº”ç”¨æ— éœ€æŒ‚èµ·ã€‚å¦‚æœç”³è¯·å†…å­˜æ—¶ï¼Œå†…å­˜ä¸è¶³ï¼Œåˆ™ç«‹åˆ»æŠ¥OOMé”™è¯¯ã€‚&lt;/li&gt;
&lt;li&gt;åŒºåŸŸæ€§ï¼Œæ›´æ–°å¯¹è±¡çš„è®¡æ•°å™¨æ—¶ï¼Œåªæ˜¯å½±å“åˆ°è¯¥å¯¹è±¡ï¼Œä¸ä¼šæ‰«æå…¨éƒ¨å¯¹è±¡ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ç¼ºç‚¹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ¯æ¬¡å¯¹è±¡è¢«å¼•ç”¨æ—¶ï¼Œéƒ½éœ€è¦å»æ›´æ–°è®¡æ•°å™¨ï¼Œæœ‰ä¸€ç‚¹æ—¶é—´å¼€é”€ã€‚ &lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æµªè´¹CPUèµ„æº&lt;/strong&gt;ï¼Œå³ä½¿å†…å­˜å¤Ÿç”¨ï¼Œä»ç„¶åœ¨è¿è¡Œæ—¶è¿›è¡Œè®¡æ•°å™¨çš„ç»Ÿè®¡ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ— æ³•è§£å†³å¾ªç¯å¼•ç”¨é—®é¢˜ï¼Œä¼šå¼•å‘å†…å­˜æ³„éœ²&lt;/strong&gt;ã€‚ï¼ˆæœ€å¤§çš„ç¼ºç‚¹ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;å¯è¾¾æ€§åˆ†æç®—æ³•&#34;&gt;&lt;a href=&#34;#å¯è¾¾æ€§åˆ†æç®—æ³•&#34; class=&#34;headerlink&#34; title=&#34;å¯è¾¾æ€§åˆ†æç®—æ³•&#34;&gt;&lt;/a&gt;å¯è¾¾æ€§åˆ†æç®—æ³•&lt;/h4&gt;&lt;p&gt;â€‹	ç°åœ¨çš„è™šæ‹Ÿæœºé‡‡ç”¨çš„éƒ½æ˜¯é€šè¿‡å¯è¾¾æ€§åˆ†æç®—æ³•æ¥ç¡®å®šå“ªäº›å†…å®¹æ˜¯åƒåœ¾ã€‚&lt;/p&gt;
&lt;p&gt;â€‹	ä¼šå­˜åœ¨ä¸€ä¸ªæ ¹èŠ‚ç‚¹ã€GC Rootsã€‘ï¼Œå¼•å‡ºå®ƒä¸‹é¢æŒ‡å‘çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå†ä»¥ä¸‹ä¸€ä¸ªèŠ‚ç‚¹èŠ‚ç‚¹å¼€å§‹æ‰¾å‡ºå®ƒä¸‹é¢çš„èŠ‚ç‚¹ï¼Œä¾æ¬¡å¾€ä¸‹ç±»æ¨ã€‚ç›´åˆ°æ‰€æœ‰çš„èŠ‚ç‚¹å…¨éƒ¨éå†å®Œæ¯•ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;æ ¹å¯¹è±¡æ˜¯é‚£äº›è‚¯å®šä¸èƒ½å½“åšåƒåœ¾å›æ”¶çš„å¯¹è±¡ï¼Œå°±å¯ä»¥å½“åšæ ¹å¯¹è±¡&lt;/p&gt;
&lt;p&gt;å±€éƒ¨å˜é‡ï¼Œé™æ€æ–¹æ³•ï¼Œé™æ€å˜é‡ï¼Œç±»ä¿¡æ¯&lt;/p&gt;
&lt;p&gt;æ ¸å¿ƒæ˜¯ï¼šåˆ¤æ–­æŸå¯¹è±¡æ˜¯å¦ä¸æ ¹å¯¹è±¡æœ‰ç›´æ¥æˆ–é—´æ¥çš„å¼•ç”¨ï¼Œå¦‚æœæ²¡æœ‰è¢«å¼•ç”¨ï¼Œåˆ™å¯ä»¥å½“åšåƒåœ¾å›æ”¶&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20220904010634153.png&#34; alt=&#34;image-20220904010634153&#34;&gt;&lt;/p&gt;
&lt;p&gt;â€‹	X,Yè¿™ä¸¤ä¸ªèŠ‚ç‚¹æ˜¯å¯å›æ”¶çš„ï¼Œä½†æ˜¯&lt;strong&gt;å¹¶ä¸ä¼šé©¬ä¸Šçš„è¢«å›æ”¶ï¼ï¼&lt;/strong&gt; å¯¹è±¡ä¸­å­˜åœ¨ä¸€ä¸ªæ–¹æ³•ã€finalizeã€‘ã€‚å½“å¯¹è±¡è¢«æ ‡è®°ä¸ºå¯å›æ”¶åï¼Œå½“å‘ç”ŸGCæ—¶ï¼Œé¦–å…ˆ&lt;strong&gt;ä¼šåˆ¤æ–­è¿™ä¸ªå¯¹è±¡æ˜¯å¦æ‰§è¡Œäº†finalizeæ–¹æ³•&lt;/strong&gt;ï¼Œå¦‚æœè¿™ä¸ªæ–¹æ³•è¿˜æ²¡æœ‰è¢«æ‰§è¡Œçš„è¯ï¼Œé‚£ä¹ˆå°±ä¼šå…ˆæ¥æ‰§è¡Œè¿™ä¸ªæ–¹æ³•ï¼Œæ¥ç€åœ¨è¿™ä¸ªæ–¹æ³•æ‰§è¡Œä¸­ï¼Œå¯ä»¥è®¾ç½®å½“å‰è¿™ä¸ªå¯¹è±¡ä¸GC ROOTSäº§ç”Ÿå…³è”ï¼Œé‚£ä¹ˆè¿™ä¸ªæ–¹æ³•æ‰§è¡Œå®Œæˆä¹‹åï¼ŒGCä¼šå†æ¬¡åˆ¤æ–­å¯¹è±¡æ˜¯å¦å¯è¾¾ï¼Œå¦‚æœä»ç„¶ä¸å¯è¾¾ï¼Œåˆ™ä¼šè¿›è¡Œå›æ”¶ï¼Œå¦‚æœå¯è¾¾äº†ï¼Œåˆ™ä¸ä¼šè¿›è¡Œå›æ”¶ã€‚&lt;/p&gt;
&lt;p&gt;â€‹	finalizeæ–¹æ³•å¯¹äºæ¯ä¸€ä¸ªå¯¹è±¡æ¥è¯´ï¼Œåªä¼šæ‰§è¡Œä¸€æ¬¡ã€‚å¦‚æœç¬¬ä¸€æ¬¡æ‰§è¡Œè¿™ä¸ªæ–¹æ³•çš„æ—¶å€™ï¼Œè®¾ç½®äº†å½“å‰å¯¹è±¡ä¸RC ROOTSå…³è”ï¼Œé‚£ä¹ˆè¿™ä¸€æ¬¡ä¸ä¼šè¿›è¡Œå›æ”¶ã€‚ é‚£ä¹ˆç­‰åˆ°è¿™ä¸ªå¯¹è±¡ç¬¬äºŒæ¬¡è¢«æ ‡è®°ä¸ºå¯å›æ”¶æ—¶ï¼Œé‚£ä¹ˆè¯¥å¯¹è±¡çš„finalizeæ–¹æ³•å°±ä¸ä¼šå†æ¬¡æ‰§è¡Œäº†ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;GC ROOTSï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è™šæ‹Ÿæœºæ ˆï¼ˆæ ˆå¸§ä¸­çš„æœ¬åœ°å˜é‡è¡¨ï¼‰ä¸­å¼•ç”¨çš„å¯¹è±¡&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;java&#34;&gt;/**
 * demoæ˜¯æ ˆå¸§ä¸­çš„æœ¬åœ°å˜é‡ï¼Œå½“ demo = null æ—¶ï¼Œç”±äºæ­¤æ—¶ demo å……å½“äº† GC Root çš„ä½œç”¨ï¼Œdemoä¸åŸæ¥æŒ‡å‘çš„å®ä¾‹ new Demo() æ–­å¼€äº†è¿æ¥ï¼Œå¯¹è±¡è¢«å›æ”¶ã€‚
 */
public class Demo &amp;#123;
    public static  void main(String[] args) &amp;#123;
        Demo demo = new Demo();
        demo = null;
    &amp;#125;
&amp;#125;
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;æ–¹æ³•åŒºä¸­ç±»é™æ€å±æ€§å¼•ç”¨çš„å¯¹è±¡&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;java&#34;&gt;/**
 * å½“æ ˆå¸§ä¸­çš„æœ¬åœ°å˜é‡ b = null æ—¶ï¼Œç”±äº b åŸæ¥æŒ‡å‘çš„å¯¹è±¡ä¸ GC Root (å˜é‡ b) æ–­å¼€äº†è¿æ¥ï¼Œæ‰€ä»¥ b åŸæ¥æŒ‡å‘çš„å¯¹è±¡ä¼šè¢«å›æ”¶ï¼Œè€Œç”±äºæˆ‘ä»¬ç»™ a èµ‹å€¼äº†å˜é‡çš„å¼•ç”¨ï¼Œaåœ¨æ­¤æ—¶æ˜¯ç±»é™æ€å±æ€§å¼•ç”¨ï¼Œå……å½“äº† GC Root çš„ä½œç”¨ï¼Œå®ƒæŒ‡å‘çš„å¯¹è±¡ä¾ç„¶å­˜æ´»!
 */
public class Demo &amp;#123;
    public static Demo a;
    public static  void main(String[] args) &amp;#123;
        Demo b = new Demo();
        b.a = new Demo();
        b = null;
    &amp;#125;
&amp;#125;
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;æ–¹æ³•åŒºä¸­å¸¸é‡å¼•ç”¨çš„å¯¹è±¡&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;java&#34;&gt;/**
 * å¸¸é‡ a æŒ‡å‘çš„å¯¹è±¡å¹¶ä¸ä¼šå› ä¸º demo æŒ‡å‘çš„å¯¹è±¡è¢«å›æ”¶è€Œå›æ”¶
 */
public class Demo &amp;#123;
    
    public static final Demo a = new Demo();
    
    public static  void main(String[] args) &amp;#123;
        Demo demo = new Demo();
        demo = null;
    &amp;#125;
&amp;#125;
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;æœ¬åœ°æ–¹æ³•æ ˆä¸­ JNIï¼ˆå³ä¸€èˆ¬è¯´çš„ Native æ–¹æ³•ï¼‰å¼•ç”¨çš„å¯¹è±¡&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;JVM-åƒåœ¾å›æ”¶ç®—æ³•æœ‰å“ªäº›ï¼Ÿ&#34;&gt;&lt;a href=&#34;#JVM-åƒåœ¾å›æ”¶ç®—æ³•æœ‰å“ªäº›ï¼Ÿ&#34; class=&#34;headerlink&#34; title=&#34;JVM åƒåœ¾å›æ”¶ç®—æ³•æœ‰å“ªäº›ï¼Ÿ&#34;&gt;&lt;/a&gt;JVM åƒåœ¾å›æ”¶ç®—æ³•æœ‰å“ªäº›ï¼Ÿ&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;éš¾æ˜“ç¨‹åº¦ï¼šâ˜†â˜†â˜†&lt;/p&gt;
&lt;p&gt;å‡ºç°é¢‘ç‡ï¼šâ˜†â˜†â˜†â˜†&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h4 id=&#34;æ ‡è®°æ¸…é™¤ç®—æ³•&#34;&gt;&lt;a href=&#34;#æ ‡è®°æ¸…é™¤ç®—æ³•&#34; class=&#34;headerlink&#34; title=&#34;æ ‡è®°æ¸…é™¤ç®—æ³•&#34;&gt;&lt;/a&gt;æ ‡è®°æ¸…é™¤ç®—æ³•&lt;/h4&gt;&lt;p&gt;æ ‡è®°æ¸…é™¤ç®—æ³•ï¼Œæ˜¯å°†åƒåœ¾å›æ”¶åˆ†ä¸º2ä¸ªé˜¶æ®µï¼Œåˆ†åˆ«æ˜¯&lt;strong&gt;æ ‡è®°å’Œæ¸…é™¤&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;1.æ ¹æ®å¯è¾¾æ€§åˆ†æç®—æ³•å¾—å‡ºçš„åƒåœ¾è¿›è¡Œæ ‡è®°&lt;/p&gt;
&lt;p&gt;2.å¯¹è¿™äº›æ ‡è®°ä¸ºå¯å›æ”¶çš„å†…å®¹è¿›è¡Œåƒåœ¾å›æ”¶&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230506112047190.png&#34; alt=&#34;image-20230506112047190&#34;&gt;&lt;/p&gt;
&lt;p&gt;å¯ä»¥çœ‹åˆ°ï¼Œæ ‡è®°æ¸…é™¤ç®—æ³•è§£å†³äº†å¼•ç”¨è®¡æ•°ç®—æ³•ä¸­çš„å¾ªç¯å¼•ç”¨çš„é—®é¢˜ï¼Œæ²¡æœ‰ä»rootèŠ‚ç‚¹å¼•ç”¨çš„å¯¹è±¡éƒ½ä¼šè¢«å›æ”¶ã€‚&lt;/p&gt;
&lt;p&gt;åŒæ ·ï¼Œæ ‡è®°æ¸…é™¤ç®—æ³•ä¹Ÿæ˜¯æœ‰ç¼ºç‚¹çš„ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ•ˆç‡è¾ƒä½ï¼Œ&lt;strong&gt;æ ‡è®°å’Œæ¸…é™¤ä¸¤ä¸ªåŠ¨ä½œéƒ½éœ€è¦éå†æ‰€æœ‰çš„å¯¹è±¡&lt;/strong&gt;ï¼Œå¹¶ä¸”åœ¨GCæ—¶ï¼Œ&lt;strong&gt;éœ€è¦åœæ­¢åº”ç”¨ç¨‹åº&lt;/strong&gt;ï¼Œå¯¹äºäº¤äº’æ€§è¦æ±‚æ¯”è¾ƒé«˜çš„åº”ç”¨è€Œè¨€è¿™ä¸ªä½“éªŒæ˜¯éå¸¸å·®çš„ã€‚&lt;/li&gt;
&lt;li&gt;ï¼ˆ&lt;strong&gt;é‡è¦&lt;/strong&gt;ï¼‰é€šè¿‡æ ‡è®°æ¸…é™¤ç®—æ³•æ¸…ç†å‡ºæ¥çš„å†…å­˜ï¼Œç¢ç‰‡åŒ–è¾ƒä¸ºä¸¥é‡ï¼Œå› ä¸ºè¢«å›æ”¶çš„å¯¹è±¡å¯èƒ½å­˜åœ¨äºå†…å­˜çš„å„ä¸ªè§’è½ï¼Œæ‰€ä»¥æ¸…ç†å‡ºæ¥çš„å†…å­˜æ˜¯ä¸è¿è´¯çš„ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;å¤åˆ¶ç®—æ³•&#34;&gt;&lt;a href=&#34;#å¤åˆ¶ç®—æ³•&#34; class=&#34;headerlink&#34; title=&#34;å¤åˆ¶ç®—æ³•&#34;&gt;&lt;/a&gt;å¤åˆ¶ç®—æ³•&lt;/h4&gt;&lt;p&gt;â€‹	å¤åˆ¶ç®—æ³•çš„æ ¸å¿ƒå°±æ˜¯ï¼Œ&lt;strong&gt;å°†åŸæœ‰çš„å†…å­˜ç©ºé—´ä¸€åˆ†ä¸ºäºŒï¼Œæ¯æ¬¡åªç”¨å…¶ä¸­çš„ä¸€å—&lt;/strong&gt;ï¼Œåœ¨åƒåœ¾å›æ”¶æ—¶ï¼Œå°†æ­£åœ¨ä½¿ç”¨çš„å¯¹è±¡å¤åˆ¶åˆ°å¦ä¸€ä¸ªå†…å­˜ç©ºé—´ä¸­ï¼Œç„¶åå°†è¯¥å†…å­˜ç©ºé—´æ¸…ç©ºï¼Œäº¤æ¢ä¸¤ä¸ªå†…å­˜çš„è§’è‰²ï¼Œå®Œæˆåƒåœ¾çš„å›æ”¶ã€‚&lt;/p&gt;
&lt;p&gt;â€‹	å¦‚æœå†…å­˜ä¸­çš„åƒåœ¾å¯¹è±¡è¾ƒå¤šï¼Œéœ€è¦å¤åˆ¶çš„å¯¹è±¡å°±è¾ƒå°‘ï¼Œè¿™ç§æƒ…å†µä¸‹é€‚åˆä½¿ç”¨è¯¥æ–¹å¼å¹¶ä¸”æ•ˆç‡æ¯”è¾ƒé«˜ï¼Œåä¹‹ï¼Œåˆ™ä¸é€‚åˆã€‚ &lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230506111919008.png&#34; alt=&#34;image-20230506111919008&#34;&gt;&lt;/p&gt;
&lt;p&gt;1ï¼‰å°†å†…å­˜åŒºåŸŸåˆ†æˆä¸¤éƒ¨åˆ†ï¼Œæ¯æ¬¡æ“ä½œå…¶ä¸­ä¸€ä¸ªã€‚&lt;/p&gt;
&lt;p&gt;2ï¼‰å½“è¿›è¡Œåƒåœ¾å›æ”¶æ—¶ï¼Œå°†æ­£åœ¨ä½¿ç”¨çš„å†…å­˜åŒºåŸŸä¸­çš„å­˜æ´»å¯¹è±¡ç§»åŠ¨åˆ°æœªä½¿ç”¨çš„å†…å­˜åŒºåŸŸã€‚å½“ç§»åŠ¨å®Œå¯¹è¿™éƒ¨åˆ†å†…å­˜åŒºåŸŸä¸€æ¬¡æ€§æ¸…é™¤ã€‚&lt;/p&gt;
&lt;p&gt;3ï¼‰å‘¨è€Œå¤å§‹ã€‚&lt;/p&gt;
&lt;p&gt;ä¼˜ç‚¹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;åœ¨åƒåœ¾å¯¹è±¡å¤šçš„æƒ…å†µä¸‹ï¼Œæ•ˆç‡è¾ƒé«˜&lt;/li&gt;
&lt;li&gt;æ¸…ç†åï¼Œå†…å­˜æ— ç¢ç‰‡&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ç¼ºç‚¹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;åˆ†é…çš„2å—å†…å­˜ç©ºé—´ï¼Œåœ¨åŒä¸€ä¸ªæ—¶åˆ»ï¼Œåªèƒ½ä½¿ç”¨ä¸€åŠï¼Œå†…å­˜ä½¿ç”¨ç‡è¾ƒä½&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;æ ‡è®°æ•´ç†ç®—æ³•&#34;&gt;&lt;a href=&#34;#æ ‡è®°æ•´ç†ç®—æ³•&#34; class=&#34;headerlink&#34; title=&#34;æ ‡è®°æ•´ç†ç®—æ³•&#34;&gt;&lt;/a&gt;æ ‡è®°æ•´ç†ç®—æ³•&lt;/h4&gt;&lt;p&gt;â€‹	æ ‡è®°å‹ç¼©ç®—æ³•æ˜¯åœ¨æ ‡è®°æ¸…é™¤ç®—æ³•çš„åŸºç¡€ä¹‹ä¸Šï¼Œåšäº†ä¼˜åŒ–æ”¹è¿›çš„ç®—æ³•ã€‚å’Œæ ‡è®°æ¸…é™¤ç®—æ³•ä¸€æ ·ï¼Œä¹Ÿæ˜¯ä»æ ¹èŠ‚ç‚¹å¼€å§‹ï¼Œå¯¹å¯¹è±¡çš„å¼•ç”¨è¿›è¡Œæ ‡è®°ï¼Œåœ¨æ¸…ç†é˜¶æ®µï¼Œå¹¶ä¸æ˜¯ç®€å•çš„ç›´æ¥æ¸…ç†å¯å›æ”¶å¯¹è±¡ï¼Œè€Œæ˜¯å°†å­˜æ´»å¯¹è±¡éƒ½å‘å†…å­˜å¦ä¸€ç«¯ç§»åŠ¨ï¼Œç„¶åæ¸…ç†è¾¹ç•Œä»¥å¤–çš„åƒåœ¾ï¼Œä»è€Œè§£å†³äº†ç¢ç‰‡åŒ–çš„é—®é¢˜ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230506111957793.png&#34; alt=&#34;image-20230506111957793&#34;&gt;&lt;/p&gt;
&lt;p&gt;1ï¼‰æ ‡è®°åƒåœ¾ã€‚&lt;/p&gt;
&lt;p&gt;2ï¼‰éœ€è¦æ¸…é™¤å‘å³è¾¹èµ°ï¼Œä¸éœ€è¦æ¸…é™¤çš„å‘å·¦è¾¹èµ°ã€‚&lt;/p&gt;
&lt;p&gt;3ï¼‰æ¸…é™¤è¾¹ç•Œä»¥å¤–çš„åƒåœ¾ã€‚&lt;/p&gt;
&lt;p&gt;ä¼˜ç¼ºç‚¹åŒæ ‡è®°æ¸…é™¤ç®—æ³•ï¼Œè§£å†³äº†æ ‡è®°æ¸…é™¤ç®—æ³•çš„ç¢ç‰‡åŒ–çš„é—®é¢˜ï¼ŒåŒæ—¶ï¼Œæ ‡è®°å‹ç¼©ç®—æ³•å¤šäº†ä¸€æ­¥ï¼Œå¯¹è±¡ç§»åŠ¨å†…å­˜ä½ç½®çš„æ­¥éª¤ï¼Œå…¶æ•ˆç‡ä¹Ÿæœ‰æœ‰ä¸€å®šçš„å½±å“ã€‚&lt;/p&gt;
&lt;p&gt;ä¸å¤åˆ¶ç®—æ³•å¯¹æ¯”ï¼šå¤åˆ¶ç®—æ³•æ ‡è®°å®Œå°±å¤åˆ¶ï¼Œä½†æ ‡è®°æ•´ç†ç®—æ³•å¾—ç­‰æŠŠæ‰€æœ‰å­˜æ´»å¯¹è±¡éƒ½æ ‡è®°å®Œæ¯•ï¼Œå†è¿›è¡Œæ•´ç†&lt;/p&gt;
&lt;h3 id=&#34;åˆ†ä»£æ”¶é›†ç®—æ³•&#34;&gt;&lt;a href=&#34;#åˆ†ä»£æ”¶é›†ç®—æ³•&#34; class=&#34;headerlink&#34; title=&#34;åˆ†ä»£æ”¶é›†ç®—æ³•&#34;&gt;&lt;/a&gt;åˆ†ä»£æ”¶é›†ç®—æ³•&lt;/h3&gt;&lt;h4 id=&#34;æ¦‚è¿°-1&#34;&gt;&lt;a href=&#34;#æ¦‚è¿°-1&#34; class=&#34;headerlink&#34; title=&#34;æ¦‚è¿°&#34;&gt;&lt;/a&gt;æ¦‚è¿°&lt;/h4&gt;&lt;p&gt;åœ¨java8æ—¶ï¼Œå †è¢«åˆ†ä¸ºäº†ä¸¤ä»½ï¼š&lt;strong&gt;æ–°ç”Ÿä»£å’Œè€å¹´ä»£ã€1ï¼š2ã€‘&lt;/strong&gt;ï¼Œåœ¨java7æ—¶ï¼Œè¿˜å­˜åœ¨ä¸€ä¸ªæ°¸ä¹…ä»£ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230506131229649.png&#34; alt=&#34;image-20230506131229649&#34;&gt;&lt;/p&gt;
&lt;p&gt;å¯¹äºæ–°ç”Ÿä»£ï¼Œå†…éƒ¨åˆè¢«åˆ†ä¸ºäº†ä¸‰ä¸ªåŒºåŸŸã€‚EdenåŒºï¼ŒS0åŒºï¼ŒS1åŒºã€8ï¼š1ï¼š1ã€‘&lt;/p&gt;
&lt;p&gt;å½“å¯¹æ–°ç”Ÿä»£äº§ç”ŸGCï¼šMinorGCã€young GCã€‘&lt;/p&gt;
&lt;p&gt;å½“å¯¹è€å¹´ä»£ä»£äº§ç”ŸGCï¼šMajor GC &lt;/p&gt;
&lt;p&gt;å½“å¯¹æ–°ç”Ÿä»£å’Œè€å¹´ä»£äº§ç”ŸFullGCï¼š æ–°ç”Ÿä»£ + è€å¹´ä»£å®Œæ•´åƒåœ¾å›æ”¶ï¼Œæš‚åœæ—¶é—´é•¿ï¼Œ&lt;strong&gt;åº”å°½åŠ›é¿å…&lt;/strong&gt;&lt;/p&gt;
&lt;h4 id=&#34;ä½œæœºåˆ¶&#34;&gt;&lt;a href=&#34;#ä½œæœºåˆ¶&#34; class=&#34;headerlink&#34; title=&#34;ä½œæœºåˆ¶&#34;&gt;&lt;/a&gt;ä½œæœºåˆ¶&lt;/h4&gt;&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230506131308654.png&#34; alt=&#34;image-20230506131308654&#34;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ–°åˆ›å»ºçš„å¯¹è±¡ï¼Œéƒ½ä¼šå…ˆåˆ†é…åˆ°edenåŒº&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230506131415418.png&#34; alt=&#34;image-20230506131415418&#34;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;å½“ä¼Šç”¸å›­å†…å­˜ä¸è¶³ï¼Œæ ‡è®°ä¼Šç”¸å›­ä¸ fromï¼ˆç°é˜¶æ®µæ²¡æœ‰ï¼‰çš„å­˜æ´»å¯¹è±¡&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;å°†å­˜æ´»å¯¹è±¡é‡‡ç”¨å¤åˆ¶ç®—æ³•å¤åˆ¶åˆ° to ä¸­ï¼Œå¤åˆ¶å®Œæ¯•åï¼Œä¼Šç”¸å›­å’Œ from å†…å­˜éƒ½å¾—åˆ°é‡Šæ”¾&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230506131442503.png&#34; alt=&#34;image-20230506131442503&#34;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ç»è¿‡ä¸€æ®µæ—¶é—´åä¼Šç”¸å›­çš„å†…å­˜åˆå‡ºç°ä¸è¶³ï¼Œæ ‡è®°edenåŒºåŸŸtoåŒºå­˜æ´»çš„å¯¹è±¡ï¼Œå°†å­˜æ´»çš„å¯¹è±¡å¤åˆ¶åˆ°fromåŒº&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230506131544447.png&#34; alt=&#34;image-20230506131544447&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230506131607645.png&#34; alt=&#34;image-20230506131607645&#34;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å½“å¹¸å­˜åŒºå¯¹è±¡ç†¬è¿‡å‡ æ¬¡å›æ”¶ï¼ˆæœ€å¤š15æ¬¡ï¼‰ï¼Œæ™‹å‡åˆ°è€å¹´ä»£ï¼ˆå¹¸å­˜åŒºå†…å­˜ä¸è¶³æˆ–å¤§å¯¹è±¡ä¼šå¯¼è‡´æå‰æ™‹å‡ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;MinorGCã€ Mixed GC ã€ FullGCçš„åŒºåˆ«æ˜¯ä»€ä¹ˆ&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230506131640893.png&#34; alt=&#34;image-20230506131640893&#34;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;MinorGCã€young GCã€‘å‘ç”Ÿåœ¨æ–°ç”Ÿä»£çš„åƒåœ¾å›æ”¶ï¼Œæš‚åœæ—¶é—´çŸ­ï¼ˆSTWï¼‰&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Mixed GC æ–°ç”Ÿä»£ + è€å¹´ä»£éƒ¨åˆ†åŒºåŸŸçš„åƒåœ¾å›æ”¶ï¼ŒG1 æ”¶é›†å™¨ç‰¹æœ‰&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;FullGCï¼š æ–°ç”Ÿä»£ + è€å¹´ä»£å®Œæ•´åƒåœ¾å›æ”¶ï¼Œæš‚åœæ—¶é—´é•¿ï¼ˆSTWï¼‰ï¼Œåº”å°½åŠ›é¿å…ï¼Ÿ&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;åè¯è§£é‡Šï¼š&lt;/p&gt;
&lt;p&gt;STWï¼ˆStop-The-Worldï¼‰ï¼šæš‚åœæ‰€æœ‰åº”ç”¨ç¨‹åºçº¿ç¨‹ï¼Œç­‰å¾…åƒåœ¾å›æ”¶çš„å®Œæˆ&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;è¯´ä¸€ä¸‹-JVM-æœ‰å“ªäº›åƒåœ¾å›æ”¶å™¨ï¼Ÿ&#34;&gt;&lt;a href=&#34;#è¯´ä¸€ä¸‹-JVM-æœ‰å“ªäº›åƒåœ¾å›æ”¶å™¨ï¼Ÿ&#34; class=&#34;headerlink&#34; title=&#34;è¯´ä¸€ä¸‹ JVM æœ‰å“ªäº›åƒåœ¾å›æ”¶å™¨ï¼Ÿ&#34;&gt;&lt;/a&gt;è¯´ä¸€ä¸‹ JVM æœ‰å“ªäº›åƒåœ¾å›æ”¶å™¨ï¼Ÿ&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;éš¾æ˜“ç¨‹åº¦ï¼šâ˜†â˜†â˜†â˜†&lt;/p&gt;
&lt;p&gt;å‡ºç°é¢‘ç‡ï¼šâ˜†â˜†â˜†â˜†&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;åœ¨jvmä¸­ï¼Œå®ç°äº†å¤šç§åƒåœ¾æ”¶é›†å™¨ï¼ŒåŒ…æ‹¬ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;ä¸²è¡Œåƒåœ¾æ”¶é›†å™¨&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;å¹¶è¡Œåƒåœ¾æ”¶é›†å™¨&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;CMSï¼ˆå¹¶å‘ï¼‰åƒåœ¾æ”¶é›†å™¨&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;G1åƒåœ¾æ”¶é›†å™¨&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;ä¸²è¡Œåƒåœ¾æ”¶é›†å™¨&#34;&gt;&lt;a href=&#34;#ä¸²è¡Œåƒåœ¾æ”¶é›†å™¨&#34; class=&#34;headerlink&#34; title=&#34;ä¸²è¡Œåƒåœ¾æ”¶é›†å™¨&#34;&gt;&lt;/a&gt;ä¸²è¡Œåƒåœ¾æ”¶é›†å™¨&lt;/h4&gt;&lt;p&gt;Serialå’ŒSerial Oldä¸²è¡Œåƒåœ¾æ”¶é›†å™¨ï¼Œæ˜¯æŒ‡ä½¿ç”¨å•çº¿ç¨‹è¿›è¡Œåƒåœ¾å›æ”¶ï¼Œå †å†…å­˜è¾ƒå°ï¼Œé€‚åˆä¸ªäººç”µè„‘&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Serial ä½œç”¨äºæ–°ç”Ÿä»£ï¼Œé‡‡ç”¨å¤åˆ¶ç®—æ³•&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Serial Old ä½œç”¨äºè€å¹´ä»£ï¼Œé‡‡ç”¨æ ‡è®°-æ•´ç†ç®—æ³•&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;åƒåœ¾å›æ”¶æ—¶ï¼Œåªæœ‰ä¸€ä¸ªçº¿ç¨‹åœ¨å·¥ä½œï¼Œå¹¶ä¸”javaåº”ç”¨ä¸­çš„æ‰€æœ‰çº¿ç¨‹éƒ½è¦æš‚åœï¼ˆSTWï¼‰ï¼Œç­‰å¾…åƒåœ¾å›æ”¶çš„å®Œæˆã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230506154006266.png&#34; alt=&#34;image-20230506154006266&#34;&gt;&lt;/p&gt;
&lt;h4 id=&#34;å¹¶è¡Œåƒåœ¾æ”¶é›†å™¨&#34;&gt;&lt;a href=&#34;#å¹¶è¡Œåƒåœ¾æ”¶é›†å™¨&#34; class=&#34;headerlink&#34; title=&#34;å¹¶è¡Œåƒåœ¾æ”¶é›†å™¨&#34;&gt;&lt;/a&gt;å¹¶è¡Œåƒåœ¾æ”¶é›†å™¨&lt;/h4&gt;&lt;p&gt;Parallel Newå’ŒParallel Oldæ˜¯ä¸€ä¸ªå¹¶è¡Œåƒåœ¾å›æ”¶å™¨ï¼Œ&lt;strong&gt;JDK8é»˜è®¤ä½¿ç”¨æ­¤åƒåœ¾å›æ”¶å™¨&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Parallel Newä½œç”¨äºæ–°ç”Ÿä»£ï¼Œé‡‡ç”¨å¤åˆ¶ç®—æ³•&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Parallel Oldä½œç”¨äºè€å¹´ä»£ï¼Œé‡‡ç”¨æ ‡è®°-æ•´ç†ç®—æ³•&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;åƒåœ¾å›æ”¶æ—¶ï¼Œå¤šä¸ªçº¿ç¨‹åœ¨å·¥ä½œï¼Œå¹¶ä¸”javaåº”ç”¨ä¸­çš„æ‰€æœ‰çº¿ç¨‹éƒ½è¦æš‚åœï¼ˆSTWï¼‰ï¼Œç­‰å¾…åƒåœ¾å›æ”¶çš„å®Œæˆã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230506154042673.png&#34; alt=&#34;image-20230506154042673&#34;&gt;&lt;/p&gt;
&lt;h4 id=&#34;CMSï¼ˆå¹¶å‘ï¼‰åƒåœ¾æ”¶é›†å™¨&#34;&gt;&lt;a href=&#34;#CMSï¼ˆå¹¶å‘ï¼‰åƒåœ¾æ”¶é›†å™¨&#34; class=&#34;headerlink&#34; title=&#34;CMSï¼ˆå¹¶å‘ï¼‰åƒåœ¾æ”¶é›†å™¨&#34;&gt;&lt;/a&gt;CMSï¼ˆå¹¶å‘ï¼‰åƒåœ¾æ”¶é›†å™¨&lt;/h4&gt;&lt;p&gt;CMSå…¨ç§° Concurrent Mark Sweepï¼Œæ˜¯ä¸€æ¬¾å¹¶å‘çš„ã€ä½¿ç”¨æ ‡è®°-æ¸…é™¤ç®—æ³•çš„åƒåœ¾å›æ”¶å™¨ï¼Œè¯¥å›æ”¶å™¨æ˜¯é’ˆå¯¹è€å¹´ä»£åƒåœ¾å›æ”¶çš„ï¼Œæ˜¯ä¸€æ¬¾ä»¥è·å–æœ€çŸ­å›æ”¶åœé¡¿æ—¶é—´ä¸ºç›®æ ‡çš„æ”¶é›†å™¨ï¼Œåœé¡¿æ—¶é—´çŸ­ï¼Œç”¨æˆ·ä½“éªŒå°±å¥½ã€‚å…¶æœ€å¤§ç‰¹ç‚¹æ˜¯åœ¨è¿›è¡Œåƒåœ¾å›æ”¶æ—¶ï¼Œåº”ç”¨ä»ç„¶èƒ½æ­£å¸¸è¿è¡Œã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230506154117857.png&#34; alt=&#34;image-20230506154117857&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230506154107944.png&#34; alt=&#34;image-20230506154107944&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;è¯¦ç»†èŠä¸€ä¸‹G1åƒåœ¾å›æ”¶å™¨&#34;&gt;&lt;a href=&#34;#è¯¦ç»†èŠä¸€ä¸‹G1åƒåœ¾å›æ”¶å™¨&#34; class=&#34;headerlink&#34; title=&#34;è¯¦ç»†èŠä¸€ä¸‹G1åƒåœ¾å›æ”¶å™¨&#34;&gt;&lt;/a&gt;è¯¦ç»†èŠä¸€ä¸‹G1åƒåœ¾å›æ”¶å™¨&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;éš¾æ˜“ç¨‹åº¦ï¼šâ˜†â˜†â˜†â˜†&lt;/p&gt;
&lt;p&gt;å‡ºç°é¢‘ç‡ï¼šâ˜†â˜†â˜†â˜†&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h4 id=&#34;æ¦‚è¿°-2&#34;&gt;&lt;a href=&#34;#æ¦‚è¿°-2&#34; class=&#34;headerlink&#34; title=&#34;æ¦‚è¿°&#34;&gt;&lt;/a&gt;æ¦‚è¿°&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;&lt;p&gt;åº”ç”¨äºæ–°ç”Ÿä»£å’Œè€å¹´ä»£ï¼Œ&lt;strong&gt;åœ¨&lt;strong&gt;&lt;strong&gt;JDK9&lt;/strong&gt;&lt;/strong&gt;ä¹‹åé»˜è®¤ä½¿ç”¨****G1&lt;/strong&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;åˆ’åˆ†æˆå¤šä¸ªåŒºåŸŸï¼Œæ¯ä¸ªåŒºåŸŸéƒ½å¯ä»¥å……å½“ edenï¼Œsurvivorï¼Œoldï¼Œ humongousï¼Œå…¶ä¸­ humongous ä¸“ä¸ºå¤§å¯¹è±¡å‡†å¤‡&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;é‡‡ç”¨å¤åˆ¶ç®—æ³•&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;å“åº”æ—¶é—´ä¸ååé‡å…¼é¡¾&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;åˆ†æˆä¸‰ä¸ªé˜¶æ®µï¼šæ–°ç”Ÿä»£å›æ”¶ã€å¹¶å‘æ ‡è®°ã€æ··åˆæ”¶é›†&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;å¦‚æœå¹¶å‘å¤±è´¥ï¼ˆå³å›æ”¶é€Ÿåº¦èµ¶ä¸ä¸Šåˆ›å»ºæ–°å¯¹è±¡é€Ÿåº¦ï¼‰ï¼Œä¼šè§¦å‘ Full GC&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230506154323950.png&#34; alt=&#34;image-20230506154323950&#34;&gt;&lt;/p&gt;
&lt;h4 id=&#34;Young-Collection-å¹´è½»ä»£åƒåœ¾å›æ”¶&#34;&gt;&lt;a href=&#34;#Young-Collection-å¹´è½»ä»£åƒåœ¾å›æ”¶&#34; class=&#34;headerlink&#34; title=&#34;Young Collection(å¹´è½»ä»£åƒåœ¾å›æ”¶)&#34;&gt;&lt;/a&gt;Young Collection(å¹´è½»ä»£åƒåœ¾å›æ”¶)&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;&lt;p&gt;åˆå§‹æ—¶ï¼Œæ‰€æœ‰åŒºåŸŸéƒ½å¤„äºç©ºé—²çŠ¶æ€&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230506154542687.png&#34; alt=&#34;image-20230506154542687&#34;&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;åˆ›å»ºäº†ä¸€äº›å¯¹è±¡ï¼ŒæŒ‘å‡ºä¸€äº›ç©ºé—²åŒºåŸŸä½œä¸ºä¼Šç”¸å›­åŒºå­˜å‚¨è¿™äº›å¯¹è±¡&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230506154607558.png&#34; alt=&#34;image-20230506154607558&#34;&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;å½“ä¼Šç”¸å›­éœ€è¦åƒåœ¾å›æ”¶æ—¶ï¼ŒæŒ‘å‡ºä¸€ä¸ªç©ºé—²åŒºåŸŸä½œä¸ºå¹¸å­˜åŒºï¼Œç”¨å¤åˆ¶ç®—æ³•å¤åˆ¶å­˜æ´»å¯¹è±¡ï¼Œéœ€è¦æš‚åœç”¨æˆ·çº¿ç¨‹&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230506154633118.png&#34; alt=&#34;image-20230506154633118&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230506154705088.png&#34; alt=&#34;image-20230506154705088&#34;&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;éšç€æ—¶é—´æµé€ï¼Œä¼Šç”¸å›­çš„å†…å­˜åˆæœ‰ä¸è¶³&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;å°†ä¼Šç”¸å›­ä»¥åŠä¹‹å‰å¹¸å­˜åŒºä¸­çš„å­˜æ´»å¯¹è±¡ï¼Œé‡‡ç”¨å¤åˆ¶ç®—æ³•ï¼Œå¤åˆ¶åˆ°æ–°çš„å¹¸å­˜åŒºï¼Œå…¶ä¸­è¾ƒè€å¯¹è±¡æ™‹å‡è‡³è€å¹´ä»£&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230506154759809.png&#34; alt=&#34;image-20230506154759809&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230506154826981.png&#34; alt=&#34;image-20230506154826981&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230506154859985.png&#34; alt=&#34;image-20230506154859985&#34;&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;Young-Collection-Concurrent-Mark-å¹´è½»ä»£åƒåœ¾å›æ”¶-å¹¶å‘æ ‡è®°&#34;&gt;&lt;a href=&#34;#Young-Collection-Concurrent-Mark-å¹´è½»ä»£åƒåœ¾å›æ”¶-å¹¶å‘æ ‡è®°&#34; class=&#34;headerlink&#34; title=&#34;Young Collection + Concurrent Mark (å¹´è½»ä»£åƒåœ¾å›æ”¶+å¹¶å‘æ ‡è®°)&#34;&gt;&lt;/a&gt;Young Collection + Concurrent Mark (å¹´è½»ä»£åƒåœ¾å›æ”¶+å¹¶å‘æ ‡è®°)&lt;/h4&gt;&lt;p&gt;å½“è€å¹´ä»£å ç”¨å†…å­˜è¶…è¿‡é˜ˆå€¼(é»˜è®¤æ˜¯45%)åï¼Œè§¦å‘å¹¶å‘æ ‡è®°ï¼Œè¿™æ—¶æ— éœ€æš‚åœç”¨æˆ·çº¿ç¨‹&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230506155000503.png&#34; alt=&#34;image-20230506155000503&#34;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;å¹¶å‘æ ‡è®°ä¹‹åï¼Œä¼šæœ‰é‡æ–°æ ‡è®°é˜¶æ®µè§£å†³æ¼æ ‡é—®é¢˜ï¼Œæ­¤æ—¶éœ€è¦æš‚åœç”¨æˆ·çº¿ç¨‹ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;è¿™äº›éƒ½å®Œæˆåå°±çŸ¥é“äº†è€å¹´ä»£æœ‰å“ªäº›å­˜æ´»å¯¹è±¡ï¼Œéšåè¿›å…¥æ··åˆæ”¶é›†é˜¶æ®µã€‚æ­¤æ—¶ä¸ä¼šå¯¹æ‰€æœ‰è€å¹´ä»£åŒºåŸŸè¿›è¡Œå›æ”¶ï¼Œè€Œæ˜¯æ ¹æ®æš‚åœæ—¶é—´ç›®æ ‡ä¼˜å…ˆå›æ”¶ä»·å€¼é«˜ï¼ˆå­˜æ´»å¯¹è±¡å°‘ï¼‰çš„åŒºåŸŸï¼ˆè¿™ä¹Ÿæ˜¯ Gabage First åç§°çš„ç”±æ¥ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230506155047765.png&#34; alt=&#34;image-20230506155047765&#34;&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;Mixed-Collection-æ··åˆåƒåœ¾å›æ”¶&#34;&gt;&lt;a href=&#34;#Mixed-Collection-æ··åˆåƒåœ¾å›æ”¶&#34; class=&#34;headerlink&#34; title=&#34;Mixed Collection (æ··åˆåƒåœ¾å›æ”¶)&#34;&gt;&lt;/a&gt;Mixed Collection (æ··åˆåƒåœ¾å›æ”¶)&lt;/h4&gt;&lt;p&gt;å¤åˆ¶å®Œæˆï¼Œå†…å­˜å¾—åˆ°é‡Šæ”¾ã€‚è¿›å…¥ä¸‹ä¸€è½®çš„æ–°ç”Ÿä»£å›æ”¶ã€å¹¶å‘æ ‡è®°ã€æ··åˆæ”¶é›†&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230506155116267.png&#34; alt=&#34;image-20230506155116267&#34;&gt;&lt;/p&gt;
&lt;p&gt;å…¶ä¸­Hå«åšå·¨å‹å¯¹è±¡ï¼Œå¦‚æœå¯¹è±¡éå¸¸å¤§ï¼Œä¼šå¼€è¾Ÿä¸€å—è¿ç»­çš„ç©ºé—´å­˜å‚¨å·¨å‹å¯¹è±¡&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230506155146370.png&#34; alt=&#34;image-20230506155146370&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;å¼ºå¼•ç”¨ã€è½¯å¼•ç”¨ã€å¼±å¼•ç”¨ã€è™šå¼•ç”¨çš„åŒºåˆ«ï¼Ÿ&#34;&gt;&lt;a href=&#34;#å¼ºå¼•ç”¨ã€è½¯å¼•ç”¨ã€å¼±å¼•ç”¨ã€è™šå¼•ç”¨çš„åŒºåˆ«ï¼Ÿ&#34; class=&#34;headerlink&#34; title=&#34;å¼ºå¼•ç”¨ã€è½¯å¼•ç”¨ã€å¼±å¼•ç”¨ã€è™šå¼•ç”¨çš„åŒºåˆ«ï¼Ÿ&#34;&gt;&lt;/a&gt;å¼ºå¼•ç”¨ã€è½¯å¼•ç”¨ã€å¼±å¼•ç”¨ã€è™šå¼•ç”¨çš„åŒºåˆ«ï¼Ÿ&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;éš¾æ˜“ç¨‹åº¦ï¼šâ˜†â˜†â˜†â˜†&lt;/p&gt;
&lt;p&gt;å‡ºç°é¢‘ç‡ï¼šâ˜†â˜†â˜†&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h4 id=&#34;å¼ºå¼•ç”¨&#34;&gt;&lt;a href=&#34;#å¼ºå¼•ç”¨&#34; class=&#34;headerlink&#34; title=&#34;å¼ºå¼•ç”¨&#34;&gt;&lt;/a&gt;å¼ºå¼•ç”¨&lt;/h4&gt;&lt;p&gt;å¼ºå¼•ç”¨ï¼šåªæœ‰æ‰€æœ‰ GC Roots å¯¹è±¡éƒ½ä¸é€šè¿‡ã€å¼ºå¼•ç”¨ã€‘å¼•ç”¨è¯¥å¯¹è±¡ï¼Œè¯¥å¯¹è±¡æ‰èƒ½è¢«åƒåœ¾å›æ”¶&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;java&#34;&gt;User user = new User();
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230506155341703.png&#34; alt=&#34;image-20230506155341703&#34;&gt;&lt;/p&gt;
&lt;h4 id=&#34;è½¯å¼•ç”¨&#34;&gt;&lt;a href=&#34;#è½¯å¼•ç”¨&#34; class=&#34;headerlink&#34; title=&#34;è½¯å¼•ç”¨&#34;&gt;&lt;/a&gt;è½¯å¼•ç”¨&lt;/h4&gt;&lt;p&gt;è½¯å¼•ç”¨ï¼šä»…æœ‰è½¯å¼•ç”¨å¼•ç”¨è¯¥å¯¹è±¡æ—¶ï¼Œåœ¨åƒåœ¾å›æ”¶åï¼Œå†…å­˜ä»ä¸è¶³æ—¶ä¼šå†æ¬¡å‡ºå‘åƒåœ¾å›æ”¶&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;java&#34;&gt;User user = new User();
SoftReference softReference = new SoftReference(user);
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230506155416293.png&#34; alt=&#34;image-20230506155416293&#34;&gt;&lt;/p&gt;
&lt;h4 id=&#34;å¼±å¼•ç”¨&#34;&gt;&lt;a href=&#34;#å¼±å¼•ç”¨&#34; class=&#34;headerlink&#34; title=&#34;å¼±å¼•ç”¨&#34;&gt;&lt;/a&gt;å¼±å¼•ç”¨&lt;/h4&gt;&lt;p&gt;å¼±å¼•ç”¨ï¼šä»…æœ‰å¼±å¼•ç”¨å¼•ç”¨è¯¥å¯¹è±¡æ—¶ï¼Œåœ¨åƒåœ¾å›æ”¶æ—¶ï¼Œæ— è®ºå†…å­˜æ˜¯å¦å……è¶³ï¼Œéƒ½ä¼šå›æ”¶å¼±å¼•ç”¨å¯¹è±¡&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;java&#34;&gt;User user = new User();
WeakReference weakReference = new WeakReference(user);
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230506155501557.png&#34; alt=&#34;image-20230506155501557&#34;&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;å»¶ä¼¸è¯é¢˜ï¼šThreadLocalå†…å­˜æ³„æ¼é—®é¢˜&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ThreadLocalç”¨çš„å°±æ˜¯å¼±å¼•ç”¨ï¼Œçœ‹ä»¥ä¸‹æºç ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;java&#34;&gt;static class Entry extends WeakReference&amp;lt;ThreadLocal&amp;lt;?&amp;gt;&amp;gt; &amp;#123;
    Object value;

    Entry(ThreadLocal&amp;lt;?&amp;gt; k, Object v) &amp;#123;
         super(k);
         value = v; //å¼ºå¼•ç”¨ï¼Œä¸ä¼šè¢«å›æ”¶
     &amp;#125;
&amp;#125;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;code&gt;Entry&lt;/code&gt;çš„keyæ˜¯å½“å‰ThreadLocalï¼Œvalueå€¼æ˜¯æˆ‘ä»¬è¦è®¾ç½®çš„æ•°æ®ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;WeakReference&lt;/code&gt;è¡¨ç¤ºçš„æ˜¯å¼±å¼•ç”¨ï¼Œå½“JVMè¿›è¡ŒGCæ—¶ï¼Œä¸€æ—¦å‘ç°äº†åªå…·æœ‰å¼±å¼•ç”¨çš„å¯¹è±¡ï¼Œä¸ç®¡å½“å‰å†…å­˜ç©ºé—´æ˜¯å¦è¶³å¤Ÿï¼Œéƒ½ä¼šå›æ”¶å®ƒçš„å†…å­˜ã€‚ä½†æ˜¯&lt;code&gt;value&lt;/code&gt;æ˜¯å¼ºå¼•ç”¨ï¼Œå®ƒä¸ä¼šè¢«å›æ”¶æ‰ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ThreadLocalä½¿ç”¨å»ºè®®ï¼šä½¿ç”¨å®Œæ¯•åæ³¨æ„è°ƒç”¨æ¸…ç†æ–¹æ³•ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h4 id=&#34;è™šå¼•ç”¨&#34;&gt;&lt;a href=&#34;#è™šå¼•ç”¨&#34; class=&#34;headerlink&#34; title=&#34;è™šå¼•ç”¨&#34;&gt;&lt;/a&gt;è™šå¼•ç”¨&lt;/h4&gt;&lt;p&gt;è™šå¼•ç”¨ï¼šå¿…é¡»é…åˆå¼•ç”¨é˜Ÿåˆ—ä½¿ç”¨ï¼Œè¢«å¼•ç”¨å¯¹è±¡å›æ”¶æ—¶ï¼Œä¼šå°†è™šå¼•ç”¨å…¥é˜Ÿï¼Œç”± Reference Handler çº¿ç¨‹è°ƒç”¨è™šå¼•ç”¨ç›¸å…³æ–¹æ³•é‡Šæ”¾ç›´æ¥å†…å­˜&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230506155518510.png&#34; alt=&#34;image-20230506155518510&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230506155552693.png&#34; alt=&#34;image-20230506155552693&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;JVMå®è·µï¼ˆè°ƒä¼˜ï¼‰&#34;&gt;&lt;a href=&#34;#JVMå®è·µï¼ˆè°ƒä¼˜ï¼‰&#34; class=&#34;headerlink&#34; title=&#34;JVMå®è·µï¼ˆè°ƒä¼˜ï¼‰&#34;&gt;&lt;/a&gt;JVMå®è·µï¼ˆè°ƒä¼˜ï¼‰&lt;/h2&gt;&lt;h3 id=&#34;JVM-è°ƒä¼˜çš„å‚æ•°å¯ä»¥åœ¨å“ªé‡Œè®¾ç½®å‚æ•°å€¼ï¼Ÿ&#34;&gt;&lt;a href=&#34;#JVM-è°ƒä¼˜çš„å‚æ•°å¯ä»¥åœ¨å“ªé‡Œè®¾ç½®å‚æ•°å€¼ï¼Ÿ&#34; class=&#34;headerlink&#34; title=&#34;JVM è°ƒä¼˜çš„å‚æ•°å¯ä»¥åœ¨å“ªé‡Œè®¾ç½®å‚æ•°å€¼ï¼Ÿ&#34;&gt;&lt;/a&gt;JVM è°ƒä¼˜çš„å‚æ•°å¯ä»¥åœ¨å“ªé‡Œè®¾ç½®å‚æ•°å€¼ï¼Ÿ&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;éš¾æ˜“ç¨‹åº¦ï¼šâ˜†â˜†&lt;/p&gt;
&lt;p&gt;å‡ºç°é¢‘ç‡ï¼šâ˜†â˜†â˜†&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h4 id=&#34;tomcatçš„è®¾ç½®vmå‚æ•°&#34;&gt;&lt;a href=&#34;#tomcatçš„è®¾ç½®vmå‚æ•°&#34; class=&#34;headerlink&#34; title=&#34;tomcatçš„è®¾ç½®vmå‚æ•°&#34;&gt;&lt;/a&gt;tomcatçš„è®¾ç½®vmå‚æ•°&lt;/h4&gt;&lt;p&gt;ä¿®æ”¹TOMCAT_HOME&amp;#x2F;bin&amp;#x2F;catalina.shæ–‡ä»¶ï¼Œå¦‚ä¸‹å›¾&lt;/p&gt;
&lt;p&gt;&lt;code&gt;JAVA_OPTS=&amp;quot;-Xms512m -Xmx1024m&amp;quot; &lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20220904151948778.png&#34; alt=&#34;image-20220904151948778&#34;&gt;&lt;/p&gt;
&lt;h4 id=&#34;springbooté¡¹ç›®jaræ–‡ä»¶å¯åŠ¨&#34;&gt;&lt;a href=&#34;#springbooté¡¹ç›®jaræ–‡ä»¶å¯åŠ¨&#34; class=&#34;headerlink&#34; title=&#34;springbooté¡¹ç›®jaræ–‡ä»¶å¯åŠ¨&#34;&gt;&lt;/a&gt;springbooté¡¹ç›®jaræ–‡ä»¶å¯åŠ¨&lt;/h4&gt;&lt;p&gt;é€šå¸¸åœ¨linuxç³»ç»Ÿä¸‹ç›´æ¥åŠ å‚æ•°å¯åŠ¨springbooté¡¹ç›®&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;sh&#34;&gt;nohup java -Xms512m -Xmx1024m -jar xxxx.jar --spring.profiles.active=prod &amp;amp;
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;nohup  :  ç”¨äºåœ¨ç³»ç»Ÿåå°ä¸æŒ‚æ–­åœ°è¿è¡Œå‘½ä»¤ï¼Œé€€å‡ºç»ˆç«¯ä¸ä¼šå½±å“ç¨‹åºçš„è¿è¡Œ&lt;/p&gt;
&lt;p&gt;å‚æ•° &lt;strong&gt;&amp;amp;&lt;/strong&gt;  ï¼šè®©å‘½ä»¤åœ¨åå°æ‰§è¡Œï¼Œç»ˆç«¯é€€å‡ºåå‘½ä»¤ä»æ—§æ‰§è¡Œã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;ç”¨çš„-JVM-è°ƒä¼˜çš„å‚æ•°éƒ½æœ‰å“ªäº›ï¼Ÿ&#34;&gt;&lt;a href=&#34;#ç”¨çš„-JVM-è°ƒä¼˜çš„å‚æ•°éƒ½æœ‰å“ªäº›ï¼Ÿ&#34; class=&#34;headerlink&#34; title=&#34;ç”¨çš„ JVM è°ƒä¼˜çš„å‚æ•°éƒ½æœ‰å“ªäº›ï¼Ÿ&#34;&gt;&lt;/a&gt;ç”¨çš„ JVM è°ƒä¼˜çš„å‚æ•°éƒ½æœ‰å“ªäº›ï¼Ÿ&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;éš¾æ˜“ç¨‹åº¦ï¼šâ˜†â˜†â˜†&lt;/p&gt;
&lt;p&gt;å‡ºç°é¢‘ç‡ï¼šâ˜†â˜†â˜†â˜†&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;â€‹	å¯¹äºJVMè°ƒä¼˜ï¼Œä¸»è¦å°±æ˜¯è°ƒæ•´å¹´è½»ä»£ã€å¹´è€å¤§ã€å…ƒç©ºé—´çš„å†…å­˜ç©ºé—´å¤§å°åŠä½¿ç”¨çš„åƒåœ¾å›æ”¶å™¨ç±»å‹ã€‚&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly93d3cub3JhY2xlLmNvbS9qYXZhL3RlY2hub2xvZ2llcy9qYXZhc2Uvdm1vcHRpb25zLWpzcC5odG1s&#34;&gt;https://www.oracle.com/java/technologies/javase/vmoptions-jsp.html&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;1ï¼‰è®¾ç½®å †çš„åˆå§‹å¤§å°å’Œæœ€å¤§å¤§å°ï¼Œä¸ºäº†é˜²æ­¢åƒåœ¾æ”¶é›†å™¨åœ¨åˆå§‹å¤§å°ã€æœ€å¤§å¤§å°ä¹‹é—´æ”¶ç¼©å †è€Œäº§ç”Ÿé¢å¤–çš„æ—¶é—´ï¼Œé€šå¸¸æŠŠæœ€å¤§ã€åˆå§‹å¤§å°è®¾ç½®ä¸ºç›¸åŒçš„å€¼ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;-Xmsï¼šè®¾ç½®å †çš„åˆå§‹åŒ–å¤§å°

-Xmxï¼šè®¾ç½®å †çš„æœ€å¤§å¤§å°
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;2ï¼‰ è®¾ç½®å¹´è½»ä»£ä¸­EdenåŒºå’Œä¸¤ä¸ªSurvivoråŒºçš„å¤§å°æ¯”ä¾‹ã€‚è¯¥å€¼å¦‚æœä¸è®¾ç½®ï¼Œåˆ™é»˜è®¤æ¯”ä¾‹ä¸º8:1:1ã€‚Javaå®˜æ–¹é€šè¿‡å¢å¤§EdenåŒºçš„å¤§å°ï¼Œæ¥å‡å°‘YGCå‘ç”Ÿçš„æ¬¡æ•°ï¼Œä½†æœ‰æ—¶æˆ‘ä»¬å‘ç°ï¼Œè™½ç„¶æ¬¡æ•°å‡å°‘äº†ï¼Œä½†EdenåŒºæ»¡&lt;/p&gt;
&lt;p&gt;çš„æ—¶å€™ï¼Œç”±äºå ç”¨çš„ç©ºé—´è¾ƒå¤§ï¼Œå¯¼è‡´é‡Šæ”¾ç¼“æ…¢ï¼Œæ­¤æ—¶STWçš„æ—¶é—´è¾ƒé•¿ï¼Œå› æ­¤éœ€è¦æŒ‰ç…§ç¨‹åºæƒ…å†µå»è°ƒä¼˜ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;-XXSurvivorRatio=3ï¼Œè¡¨ç¤ºå¹´è½»ä»£ä¸­çš„åˆ†é…æ¯”ç‡ï¼šsurvivor:eden = 2:3
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;3ï¼‰å¹´è½»ä»£å’Œè€å¹´ä»£é»˜è®¤æ¯”ä¾‹ä¸º1ï¼š2ã€‚å¯ä»¥é€šè¿‡è°ƒæ•´äºŒè€…ç©ºé—´å¤§å°æ¯”ç‡æ¥è®¾ç½®ä¸¤è€…çš„å¤§å°ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;-XX:newSize   è®¾ç½®å¹´è½»ä»£çš„åˆå§‹å¤§å°
-XX:MaxNewSize   è®¾ç½®å¹´è½»ä»£çš„æœ€å¤§å¤§å°ï¼Œ  åˆå§‹å¤§å°å’Œæœ€å¤§å¤§å°ä¸¤ä¸ªå€¼é€šå¸¸ç›¸åŒ
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;4ï¼‰çº¿ç¨‹å †æ ˆçš„è®¾ç½®ï¼š&lt;strong&gt;æ¯ä¸ªçº¿ç¨‹é»˜è®¤ä¼šå¼€å¯1Mçš„å †æ ˆ&lt;/strong&gt;ï¼Œç”¨äºå­˜æ”¾æ ˆå¸§ã€è°ƒç”¨å‚æ•°ã€å±€éƒ¨å˜é‡ç­‰ï¼Œä½†ä¸€èˆ¬256Kå°±å¤Ÿç”¨ã€‚é€šå¸¸å‡å°‘æ¯ä¸ªçº¿ç¨‹çš„å †æ ˆï¼Œå¯ä»¥äº§ç”Ÿæ›´å¤šçš„çº¿ç¨‹ï¼Œä½†è¿™å®é™…ä¸Šè¿˜å—é™äºæ“ä½œç³»ç»Ÿã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;-Xss   å¯¹æ¯ä¸ªçº¿ç¨‹stackå¤§å°çš„è°ƒæ•´,-Xss128k
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;5ï¼‰ä¸€èˆ¬æ¥è¯´ï¼Œå½“survivoråŒºä¸å¤Ÿå¤§æˆ–è€…å ç”¨é‡è¾¾åˆ°50%ï¼Œå°±ä¼šæŠŠä¸€äº›å¯¹è±¡æ”¾åˆ°è€å¹´åŒºã€‚é€šè¿‡è®¾ç½®åˆç†çš„edenåŒºï¼ŒsurvivoråŒºåŠä½¿ç”¨ç‡ï¼Œå¯ä»¥å°†å¹´è½»å¯¹è±¡ä¿å­˜åœ¨å¹´è½»ä»£ï¼Œä»è€Œé¿å…full GCï¼Œä½¿ç”¨-Xmnè®¾ç½®å¹´è½»ä»£çš„å¤§å°&lt;/p&gt;
&lt;p&gt;6ï¼‰ç³»ç»ŸCPUæŒç»­é£™é«˜çš„è¯ï¼Œé¦–å…ˆå…ˆæ’æŸ¥ä»£ç é—®é¢˜ï¼Œå¦‚æœä»£ç æ²¡é—®é¢˜ï¼Œåˆ™å’¨è¯¢è¿ç»´æˆ–è€…äº‘æœåŠ¡å™¨ä¾›åº”å•†ï¼Œé€šå¸¸æœåŠ¡å™¨é‡å¯æˆ–è€…æœåŠ¡å™¨è¿ç§»å³å¯è§£å†³ã€‚&lt;/p&gt;
&lt;p&gt;7ï¼‰å¯¹äºå ç”¨å†…å­˜æ¯”è¾ƒå¤šçš„å¤§å¯¹è±¡ï¼Œä¸€èˆ¬ä¼šé€‰æ‹©åœ¨è€å¹´ä»£åˆ†é…å†…å­˜ã€‚å¦‚æœåœ¨å¹´è½»ä»£ç»™å¤§å¯¹è±¡åˆ†é…å†…å­˜ï¼Œå¹´è½»ä»£å†…å­˜ä¸å¤Ÿäº†ï¼Œå°±è¦åœ¨edenåŒºç§»åŠ¨å¤§é‡å¯¹è±¡åˆ°è€å¹´ä»£ï¼Œç„¶åè¿™äº›ç§»åŠ¨çš„å¯¹è±¡å¯èƒ½å¾ˆå¿«æ¶ˆäº¡ï¼Œå› æ­¤å¯¼è‡´full GCã€‚é€šè¿‡è®¾ç½®å‚æ•°ï¼š-XX:PetenureSizeThreshold&amp;#x3D;1000000ï¼Œå•ä½ä¸ºBï¼Œæ ‡æ˜å¯¹è±¡å¤§å°è¶…è¿‡1Mæ—¶ï¼Œåœ¨è€å¹´ä»£(tenured)åˆ†é…å†…å­˜ç©ºé—´ã€‚&lt;/p&gt;
&lt;p&gt;8ï¼‰ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œå¹´è½»å¯¹è±¡æ”¾åœ¨edenåŒºï¼Œå½“ç¬¬ä¸€æ¬¡GCåï¼Œå¦‚æœå¯¹è±¡è¿˜å­˜æ´»ï¼Œæ”¾åˆ°survivoråŒºï¼Œæ­¤åï¼Œæ¯GCä¸€æ¬¡ï¼Œå¹´é¾„å¢åŠ 1ï¼Œå½“å¯¹è±¡çš„å¹´é¾„è¾¾åˆ°é˜ˆå€¼ï¼Œå°±è¢«æ”¾åˆ°tenuredè€å¹´åŒºã€‚è¿™ä¸ªé˜ˆå€¼å¯ä»¥åŒæ„-XX:MaxTenuringThresholdè®¾ç½®ã€‚å¦‚æœæƒ³è®©å¯¹è±¡ç•™åœ¨å¹´è½»ä»£ï¼Œå¯ä»¥è®¾ç½®æ¯”è¾ƒå¤§çš„é˜ˆå€¼ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;ï¼ˆ1ï¼‰-XX:+UseParallelGC:å¹´è½»ä»£ä½¿ç”¨å¹¶è¡Œåƒåœ¾å›æ”¶æ”¶é›†å™¨ã€‚è¿™æ˜¯ä¸€ä¸ªå…³æ³¨ååé‡çš„æ”¶é›†å™¨ï¼Œå¯ä»¥å°½å¯èƒ½çš„å‡å°‘åƒåœ¾å›æ”¶æ—¶é—´ã€‚

ï¼ˆ2ï¼‰-XX:+UseParallelOldGC:è®¾ç½®è€å¹´ä»£ä½¿ç”¨å¹¶è¡Œåƒåœ¾å›æ”¶æ”¶é›†å™¨ã€‚
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;9ï¼‰å°è¯•ä½¿ç”¨å¤§çš„å†…å­˜åˆ†é¡µï¼šä½¿ç”¨å¤§çš„å†…å­˜åˆ†é¡µå¢åŠ CPUçš„å†…å­˜å¯»å€èƒ½åŠ›ï¼Œä»è€Œç³»ç»Ÿçš„æ€§èƒ½ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;-XX:+LargePageSizeInBytes è®¾ç½®å†…å­˜é¡µçš„å¤§å°
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;10ï¼‰ä½¿ç”¨éå ç”¨çš„åƒåœ¾æ”¶é›†å™¨ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;-XX:+UseConcMarkSweepGCè€å¹´ä»£ä½¿ç”¨CMSæ”¶é›†å™¨é™ä½åœé¡¿ã€‚
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;è¯´ä¸€ä¸‹-JVM-è°ƒä¼˜çš„å·¥å…·ï¼Ÿ&#34;&gt;&lt;a href=&#34;#è¯´ä¸€ä¸‹-JVM-è°ƒä¼˜çš„å·¥å…·ï¼Ÿ&#34; class=&#34;headerlink&#34; title=&#34;è¯´ä¸€ä¸‹ JVM è°ƒä¼˜çš„å·¥å…·ï¼Ÿ&#34;&gt;&lt;/a&gt;è¯´ä¸€ä¸‹ JVM è°ƒä¼˜çš„å·¥å…·ï¼Ÿ&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;éš¾æ˜“ç¨‹åº¦ï¼šâ˜†â˜†â˜†â˜†&lt;/p&gt;
&lt;p&gt;å‡ºç°é¢‘ç‡ï¼šâ˜†â˜†â˜†â˜†&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h4 id=&#34;å‘½ä»¤å·¥å…·&#34;&gt;&lt;a href=&#34;#å‘½ä»¤å·¥å…·&#34; class=&#34;headerlink&#34; title=&#34;å‘½ä»¤å·¥å…·&#34;&gt;&lt;/a&gt;å‘½ä»¤å·¥å…·&lt;/h4&gt;&lt;h5 id=&#34;jpsï¼ˆJava-Process-Statusï¼‰&#34;&gt;&lt;a href=&#34;#jpsï¼ˆJava-Process-Statusï¼‰&#34; class=&#34;headerlink&#34; title=&#34;jpsï¼ˆJava Process Statusï¼‰&#34;&gt;&lt;/a&gt;jpsï¼ˆJava Process Statusï¼‰&lt;/h5&gt;&lt;p&gt;è¾“å‡ºJVMä¸­è¿è¡Œçš„è¿›ç¨‹çŠ¶æ€ä¿¡æ¯(ç°åœ¨ä¸€èˆ¬ä½¿ç”¨jconsole)&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20220904104739581.png&#34; alt=&#34;image-20220904104739581&#34;&gt;&lt;/p&gt;
&lt;h5 id=&#34;jstack&#34;&gt;&lt;a href=&#34;#jstack&#34; class=&#34;headerlink&#34; title=&#34;jstack&#34;&gt;&lt;/a&gt;jstack&lt;/h5&gt;&lt;p&gt;æŸ¥çœ‹javaè¿›ç¨‹å†…&lt;strong&gt;çº¿ç¨‹çš„å †æ ˆ&lt;/strong&gt;ä¿¡æ¯ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;sh&#34;&gt;jstack [option] &amp;lt;pid&amp;gt;  
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;javaæ¡ˆä¾‹&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;java&#34;&gt;package com.heima.jvm;

public class Application &amp;#123;

    public static void main(String[] args) throws InterruptedException &amp;#123;
        while (true)&amp;#123;
            Thread.sleep(1000);
            System.out.println(&amp;quot;å“ˆå“ˆå“ˆ&amp;quot;);
        &amp;#125;
    &amp;#125;
&amp;#125;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ä½¿ç”¨jstackæŸ¥çœ‹è¿›è¡Œå †æ ˆè¿è¡Œä¿¡æ¯&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20220904111059602.png&#34; alt=&#34;image-20220904111059602&#34;&gt;&lt;/p&gt;
&lt;h5 id=&#34;jmap&#34;&gt;&lt;a href=&#34;#jmap&#34; class=&#34;headerlink&#34; title=&#34;jmap&#34;&gt;&lt;/a&gt;jmap&lt;/h5&gt;&lt;p&gt;ç”¨äºç”Ÿæˆå †è½¬å­˜å¿«ç…§&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;jmap [options] pid  å†…å­˜æ˜ åƒä¿¡æ¯&lt;/p&gt;
&lt;p&gt;jmap -heap pid   æ˜¾ç¤ºJavaå †çš„ä¿¡æ¯&lt;/p&gt;
&lt;p&gt;jmap -dump:format&amp;#x3D;b,file&amp;#x3D;heap.hprof pid&lt;/p&gt;
&lt;p&gt;â€‹		format&amp;#x3D;bè¡¨ç¤ºä»¥hprofäºŒè¿›åˆ¶æ ¼å¼è½¬å‚¨Javaå †çš„å†…å­˜&lt;br&gt;â€‹		file&amp;#x3D;&lt;filename&gt;ç”¨äºæŒ‡å®šå¿«ç…§dumpæ–‡ä»¶çš„æ–‡ä»¶åã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ä¾‹ï¼šæ˜¾ç¤ºäº†æŸä¸€ä¸ªjavaè¿è¡Œçš„å †ä¿¡æ¯&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;java&#34;&gt;C:\Users\yuhon&amp;gt;jmap -heap 53280
Attaching to process ID 53280, please wait...
Debugger attached successfully.
Server compiler detected.
JVM version is 25.321-b07

using thread-local object allocation.
Parallel GC with 8 thread(s)   //å¹¶è¡Œçš„åƒåœ¾å›æ”¶å™¨

Heap Configuration:  //å †é…ç½®
   MinHeapFreeRatio         = 0   //ç©ºé—²å †ç©ºé—´çš„æœ€å°ç™¾åˆ†æ¯”
   MaxHeapFreeRatio         = 100  //ç©ºé—²å †ç©ºé—´çš„æœ€å¤§ç™¾åˆ†æ¯”
   MaxHeapSize              = 8524922880 (8130.0MB) //å †ç©ºé—´å…è®¸çš„æœ€å¤§å€¼
   NewSize                  = 178257920 (170.0MB) //æ–°ç”Ÿä»£å †ç©ºé—´çš„é»˜è®¤å€¼
   MaxNewSize               = 2841640960 (2710.0MB) //æ–°ç”Ÿä»£å †ç©ºé—´å…è®¸çš„æœ€å¤§å€¼
   OldSize                  = 356515840 (340.0MB) //è€å¹´ä»£å †ç©ºé—´çš„é»˜è®¤å€¼
   NewRatio                 = 2 //æ–°ç”Ÿä»£ä¸è€å¹´ä»£çš„å †ç©ºé—´æ¯”å€¼ï¼Œè¡¨ç¤ºæ–°ç”Ÿä»£ï¼šè€å¹´ä»£=1ï¼š2
   SurvivorRatio            = 8 //ä¸¤ä¸ªSurvivoråŒºå’ŒEdenåŒºçš„å †ç©ºé—´æ¯”å€¼ä¸º8,è¡¨ç¤ºS0:S1:Eden=1:1:8
   MetaspaceSize            = 21807104 (20.796875MB) //å…ƒç©ºé—´çš„é»˜è®¤å€¼
   CompressedClassSpaceSize = 1073741824 (1024.0MB) //å‹ç¼©ç±»ä½¿ç”¨ç©ºé—´å¤§å°
   MaxMetaspaceSize         = 17592186044415 MB //å…ƒç©ºé—´å…è®¸çš„æœ€å¤§å€¼
   G1HeapRegionSize         = 0 (0.0MB)//åœ¨ä½¿ç”¨ G1 åƒåœ¾å›æ”¶ç®—æ³•æ—¶ï¼ŒJVM ä¼šå°† Heap ç©ºé—´åˆ†éš”ä¸ºè‹¥å¹²ä¸ª Regionï¼Œè¯¥å‚æ•°ç”¨æ¥æŒ‡å®šæ¯ä¸ª Region ç©ºé—´çš„å¤§å°ã€‚

Heap Usage:
PS Young Generation
Eden Space: //Edenä½¿ç”¨æƒ…å†µ
   capacity = 134217728 (128.0MB)
   used     = 10737496 (10.240074157714844MB)
   free     = 123480232 (117.75992584228516MB)
   8.000057935714722% used
From Space: //Survivor-From ä½¿ç”¨æƒ…å†µ
   capacity = 22020096 (21.0MB)
   used     = 0 (0.0MB)
   free     = 22020096 (21.0MB)
   0.0% used
To Space: //Survivor-To ä½¿ç”¨æƒ…å†µ
   capacity = 22020096 (21.0MB)
   used     = 0 (0.0MB)
   free     = 22020096 (21.0MB)
   0.0% used
PS Old Generation  //è€å¹´ä»£ ä½¿ç”¨æƒ…å†µ
   capacity = 356515840 (340.0MB)
   used     = 0 (0.0MB)
   free     = 356515840 (340.0MB)
   0.0% used

3185 interned Strings occupying 261264 bytes.
&lt;/code&gt;&lt;/pre&gt;
&lt;h5 id=&#34;jhat&#34;&gt;&lt;a href=&#34;#jhat&#34; class=&#34;headerlink&#34; title=&#34;jhat&#34;&gt;&lt;/a&gt;jhat&lt;/h5&gt;&lt;p&gt;ç”¨äºåˆ†æjmapç”Ÿæˆçš„å †è½¬å­˜å¿«ç…§ï¼ˆä¸€èˆ¬ä¸æ¨èä½¿ç”¨ï¼Œè€Œæ˜¯ä½¿ç”¨Ecplise Memory Analyzerï¼‰&lt;/p&gt;
&lt;h5 id=&#34;jstat&#34;&gt;&lt;a href=&#34;#jstat&#34; class=&#34;headerlink&#34; title=&#34;jstat&#34;&gt;&lt;/a&gt;jstat&lt;/h5&gt;&lt;p&gt;æ˜¯JVMç»Ÿè®¡ç›‘æµ‹å·¥å…·ã€‚å¯ä»¥ç”¨æ¥æ˜¾ç¤ºåƒåœ¾å›æ”¶ä¿¡æ¯ã€ç±»åŠ è½½ä¿¡æ¯ã€æ–°ç”Ÿä»£ç»Ÿè®¡ä¿¡æ¯ç­‰ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å¸¸è§å‚æ•°&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;p&gt;â‘ æ€»ç»“åƒåœ¾å›æ”¶ç»Ÿè®¡&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;sh&#34;&gt;jstat -gcutil pid
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20220904114511854.png&#34; alt=&#34;image-20220904114511854&#34;&gt;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;å­—æ®µ&lt;/th&gt;
&lt;th&gt;å«ä¹‰&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;&lt;tr&gt;
&lt;td&gt;S0&lt;/td&gt;
&lt;td&gt;å¹¸å­˜1åŒºå½“å‰ä½¿ç”¨æ¯”ä¾‹&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;S1&lt;/td&gt;
&lt;td&gt;å¹¸å­˜2åŒºå½“å‰ä½¿ç”¨æ¯”ä¾‹&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;E&lt;/td&gt;
&lt;td&gt;ä¼Šç”¸å›­åŒºä½¿ç”¨æ¯”ä¾‹&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;O&lt;/td&gt;
&lt;td&gt;è€å¹´ä»£ä½¿ç”¨æ¯”ä¾‹&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;M&lt;/td&gt;
&lt;td&gt;å…ƒæ•°æ®åŒºä½¿ç”¨æ¯”ä¾‹&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;CCS&lt;/td&gt;
&lt;td&gt;å‹ç¼©ä½¿ç”¨æ¯”ä¾‹&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;YGC&lt;/td&gt;
&lt;td&gt;å¹´è½»ä»£åƒåœ¾å›æ”¶æ¬¡æ•°&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;YGCT&lt;/td&gt;
&lt;td&gt;å¹´è½»ä»£åƒåœ¾å›æ”¶æ¶ˆè€—æ—¶é—´&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;FGC&lt;/td&gt;
&lt;td&gt;è€å¹´ä»£åƒåœ¾å›æ”¶æ¬¡æ•°&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;FGCT&lt;/td&gt;
&lt;td&gt;è€å¹´ä»£åƒåœ¾å›æ”¶æ¶ˆè€—æ—¶é—´&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;GCT&lt;/td&gt;
&lt;td&gt;åƒåœ¾å›æ”¶æ¶ˆè€—æ€»æ—¶é—´&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;p&gt;â‘¡åƒåœ¾å›æ”¶ç»Ÿè®¡&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;sh&#34;&gt;jstat -gc pid
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20220904115157363.png&#34; alt=&#34;image-20220904115157363&#34;&gt;&lt;/p&gt;
&lt;h4 id=&#34;å¯è§†åŒ–å·¥å…·&#34;&gt;&lt;a href=&#34;#å¯è§†åŒ–å·¥å…·&#34; class=&#34;headerlink&#34; title=&#34;å¯è§†åŒ–å·¥å…·&#34;&gt;&lt;/a&gt;å¯è§†åŒ–å·¥å…·&lt;/h4&gt;&lt;h5 id=&#34;jconsole&#34;&gt;&lt;a href=&#34;#jconsole&#34; class=&#34;headerlink&#34; title=&#34;jconsole&#34;&gt;&lt;/a&gt;jconsole&lt;/h5&gt;&lt;p&gt;ç”¨äºå¯¹jvmçš„å†…å­˜ï¼Œçº¿ç¨‹ï¼Œç±» çš„ç›‘æ§ï¼Œæ˜¯ä¸€ä¸ªåŸºäº jmx çš„ GUI æ€§èƒ½ç›‘æ§å·¥å…·&lt;/p&gt;
&lt;p&gt;æ‰“å¼€æ–¹å¼ï¼šjava å®‰è£…ç›®å½• binç›®å½•ä¸‹ ç›´æ¥å¯åŠ¨ jconsole.exe å°±è¡Œ&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20220904115936095.png&#34; alt=&#34;image-20220904115936095&#34;&gt;&lt;/p&gt;
&lt;p&gt;å¯ä»¥å†…å­˜ã€çº¿ç¨‹ã€ç±»ç­‰ä¿¡æ¯&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20220904120057211.png&#34; alt=&#34;image-20220904120057211&#34;&gt;&lt;/p&gt;
&lt;h5 id=&#34;VisualVMï¼šæ•…éšœå¤„ç†å·¥å…·&#34;&gt;&lt;a href=&#34;#VisualVMï¼šæ•…éšœå¤„ç†å·¥å…·&#34; class=&#34;headerlink&#34; title=&#34;VisualVMï¼šæ•…éšœå¤„ç†å·¥å…·&#34;&gt;&lt;/a&gt;VisualVMï¼šæ•…éšœå¤„ç†å·¥å…·&lt;/h5&gt;&lt;p&gt;èƒ½å¤Ÿç›‘æ§çº¿ç¨‹ï¼Œå†…å­˜æƒ…å†µï¼ŒæŸ¥çœ‹æ–¹æ³•çš„CPUæ—¶é—´å’Œå†…å­˜ä¸­çš„å¯¹ è±¡ï¼Œå·²è¢«GCçš„å¯¹è±¡ï¼Œåå‘æŸ¥çœ‹åˆ†é…çš„å †æ ˆ&lt;/p&gt;
&lt;p&gt;æ‰“å¼€æ–¹å¼ï¼šjava å®‰è£…ç›®å½• binç›®å½•ä¸‹ ç›´æ¥å¯åŠ¨ jvisualvm.exeå°±è¡Œ&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20220904120356174.png&#34; alt=&#34;image-20220904120356174&#34;&gt;&lt;/p&gt;
&lt;p&gt;ç›‘æ§ç¨‹åºè¿è¡Œæƒ…å†µ&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20220904132011289.png&#34; alt=&#34;image-20220904132011289&#34;&gt;&lt;/p&gt;
&lt;p&gt;æŸ¥çœ‹è¿è¡Œä¸­çš„dump&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20220904132134095.png&#34; alt=&#34;image-20220904132134095&#34;&gt;&lt;/p&gt;
&lt;p&gt;æŸ¥çœ‹å †ä¸­çš„ä¿¡æ¯&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20220904132346495.png&#34; alt=&#34;image-20220904132346495&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;javaå†…å­˜æ³„éœ²çš„æ’æŸ¥æ€è·¯ï¼Ÿ&#34;&gt;&lt;a href=&#34;#javaå†…å­˜æ³„éœ²çš„æ’æŸ¥æ€è·¯ï¼Ÿ&#34; class=&#34;headerlink&#34; title=&#34;javaå†…å­˜æ³„éœ²çš„æ’æŸ¥æ€è·¯ï¼Ÿ&#34;&gt;&lt;/a&gt;javaå†…å­˜æ³„éœ²çš„æ’æŸ¥æ€è·¯ï¼Ÿ&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;éš¾æ˜“ç¨‹åº¦ï¼šâ˜†â˜†â˜†â˜†&lt;/p&gt;
&lt;p&gt;å‡ºç°é¢‘ç‡ï¼šâ˜†â˜†â˜†â˜†&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;åŸå› ï¼š&lt;/p&gt;
&lt;p&gt;å¦‚æœçº¿ç¨‹è¯·æ±‚åˆ†é…çš„æ ˆå®¹é‡è¶…è¿‡javaè™šæ‹Ÿæœºæ ˆå…è®¸çš„æœ€å¤§å®¹é‡çš„æ—¶å€™ï¼Œjavaè™šæ‹Ÿæœºå°†æŠ›å‡ºä¸€ä¸ªStackOverFlowErrorå¼‚å¸¸&lt;/p&gt;
&lt;p&gt;å¦‚æœjavaè™šæ‹Ÿæœºæ ˆå¯ä»¥åŠ¨æ€æ‹“å±•ï¼Œå¹¶ä¸”æ‰©å±•çš„åŠ¨ä½œå·²ç»å°è¯•è¿‡ï¼Œä½†æ˜¯ç›®å‰æ— æ³•ç”³è¯·åˆ°è¶³å¤Ÿçš„å†…å­˜å»å®Œæˆæ‹“å±•ï¼Œæˆ–è€…åœ¨å»ºç«‹æ–°çº¿ç¨‹çš„æ—¶å€™æ²¡æœ‰è¶³å¤Ÿçš„å†…å­˜å»åˆ›å»ºå¯¹åº”çš„è™šæ‹Ÿæœºæ ˆï¼Œé‚£javaè™šæ‹Ÿæœºå°†ä¼šæŠ›å‡ºä¸€ä¸ªOutOfMemoryErrorå¼‚å¸¸&lt;/p&gt;
&lt;p&gt;å¦‚æœä¸€æ¬¡åŠ è½½çš„ç±»å¤ªå¤šï¼Œå…ƒç©ºé—´å†…å­˜ä¸è¶³ï¼Œåˆ™ä¼šæŠ¥OutOfMemoryError: Metaspace&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230506155704119.png&#34; alt=&#34;image-20230506155704119&#34;&gt;&lt;/p&gt;
&lt;p&gt;1ã€é€šè¿‡jmapæŒ‡å®šæ‰“å°ä»–çš„å†…å­˜å¿«ç…§ dump&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;æœ‰çš„æƒ…å†µæ˜¯å†…å­˜æº¢å‡ºä¹‹åç¨‹åºåˆ™ä¼šç›´æ¥ä¸­æ–­ï¼Œè€Œjmapåªèƒ½æ‰“å°åœ¨è¿è¡Œä¸­çš„ç¨‹åºï¼Œæ‰€ä»¥å»ºè®®é€šè¿‡å‚æ•°çš„æ–¹å¼çš„ç”Ÿæˆdumpæ–‡ä»¶ï¼Œé…ç½®å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;-XX:+HeapDumpOnOutOfMemoryError&lt;br&gt;-XX:HeapDumpPath&amp;#x3D;&amp;#x2F;home&amp;#x2F;app&amp;#x2F;dumps&amp;#x2F;      æŒ‡å®šç”Ÿæˆåæ–‡ä»¶çš„ä¿å­˜ç›®å½•&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;2ã€é€šè¿‡å·¥å…·ï¼Œ VisualVMï¼ˆEcplise MATï¼‰å»åˆ†æ dumpæ–‡ä»¶&lt;/p&gt;
&lt;p&gt;VisualVMå¯ä»¥åŠ è½½ç¦»çº¿çš„dumpæ–‡ä»¶ï¼Œå¦‚ä¸‹å›¾&lt;/p&gt;
&lt;p&gt;æ–‡ä»¶â€“&amp;gt;è£…å…¥â€”&amp;gt;é€‰æ‹©dumpæ–‡ä»¶å³å¯æŸ¥çœ‹å †å¿«ç…§ä¿¡æ¯&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;å¦‚æœæ˜¯linuxç³»ç»Ÿä¸­çš„ç¨‹åºï¼Œåˆ™éœ€è¦æŠŠdumpæ–‡ä»¶ä¸‹è½½åˆ°æœ¬åœ°ï¼ˆwindowsç¯å¢ƒï¼‰ä¸‹ï¼Œæ‰“å¼€VisualVMå·¥å…·åˆ†æã€‚VisualVMç›®å‰åªæ”¯æŒåœ¨windowsç¯å¢ƒä¸‹è¿è¡Œå¯è§†åŒ–&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20220904132925812.png&#34; alt=&#34;image-20220904132925812&#34;&gt;&lt;/p&gt;
&lt;p&gt;3ã€é€šè¿‡æŸ¥çœ‹å †ä¿¡æ¯çš„æƒ…å†µï¼Œå¯ä»¥å¤§æ¦‚å®šä½å†…å­˜æº¢å‡ºæ˜¯å“ªè¡Œä»£ç å‡ºäº†é—®é¢˜&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20220904133722905.png&#34; alt=&#34;image-20220904133722905&#34;&gt;&lt;/p&gt;
&lt;p&gt;4ã€æ‰¾åˆ°å¯¹åº”çš„ä»£ç ï¼Œé€šè¿‡é˜…è¯»ä¸Šä¸‹æ–‡çš„æƒ…å†µï¼Œè¿›è¡Œä¿®å¤å³å¯&lt;/p&gt;
&lt;h3 id=&#34;CPUé£™é«˜æ’æŸ¥æ–¹æ¡ˆä¸æ€è·¯ï¼Ÿ&#34;&gt;&lt;a href=&#34;#CPUé£™é«˜æ’æŸ¥æ–¹æ¡ˆä¸æ€è·¯ï¼Ÿ&#34; class=&#34;headerlink&#34; title=&#34;CPUé£™é«˜æ’æŸ¥æ–¹æ¡ˆä¸æ€è·¯ï¼Ÿ&#34;&gt;&lt;/a&gt;CPUé£™é«˜æ’æŸ¥æ–¹æ¡ˆä¸æ€è·¯ï¼Ÿ&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;éš¾æ˜“ç¨‹åº¦ï¼šâ˜†â˜†â˜†â˜†&lt;/p&gt;
&lt;p&gt;å‡ºç°é¢‘ç‡ï¼šâ˜†â˜†â˜†â˜†&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;1.ä½¿ç”¨topå‘½ä»¤æŸ¥çœ‹å ç”¨cpuçš„æƒ…å†µ&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20220904161818255.png&#34; alt=&#34;image-20220904161818255&#34;&gt;&lt;/p&gt;
&lt;p&gt;2.é€šè¿‡topå‘½ä»¤æŸ¥çœ‹åï¼Œå¯ä»¥æŸ¥çœ‹æ˜¯å“ªä¸€ä¸ªè¿›ç¨‹å ç”¨cpuè¾ƒé«˜ï¼Œä¸Šå›¾æ‰€ç¤ºçš„è¿›ç¨‹ä¸ºï¼š30978&lt;/p&gt;
&lt;p&gt;3.æŸ¥çœ‹å½“å‰çº¿ç¨‹ä¸­çš„è¿›ç¨‹ä¿¡æ¯&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;sh&#34;&gt;ps H -eo pid,tid,%cpu | grep 40940
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;pid  è¿›è¡Œid&lt;/p&gt;
&lt;p&gt;tid   è¿›ç¨‹ä¸­çš„çº¿ç¨‹id&lt;/p&gt;
&lt;p&gt;%  cpuä½¿ç”¨ç‡ &lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20220904162117022.png&#34; alt=&#34;image-20220904162117022&#34;&gt;&lt;/p&gt;
&lt;p&gt;4.é€šè¿‡ä¸Šå›¾åˆ†æï¼Œåœ¨è¿›ç¨‹30978ä¸­çš„çº¿ç¨‹30979å ç”¨cpuè¾ƒé«˜&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;æ³¨æ„ï¼šä¸Šè¿°çš„çº¿ç¨‹idæ˜¯ä¸€ä¸ªåè¿›åˆ¶ï¼Œæˆ‘ä»¬éœ€è¦æŠŠè¿™ä¸ªçº¿ç¨‹idè½¬æ¢ä¸º16è¿›åˆ¶æ‰è¡Œï¼Œå› ä¸ºé€šå¸¸åœ¨æ—¥å¿—ä¸­å±•ç¤ºçš„éƒ½æ˜¯16è¿›åˆ¶çš„çº¿ç¨‹idåç§°&lt;/p&gt;
&lt;p&gt;è½¬æ¢æ–¹å¼ï¼š&lt;/p&gt;
&lt;p&gt;åœ¨linuxä¸­æ‰§è¡Œå‘½ä»¤&lt;/p&gt;
&lt;p&gt;&lt;code&gt;printf &amp;quot;%x\n&amp;quot; 30979&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20220904162654928.png&#34; alt=&#34;image-20220904162654928&#34;&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;5.å¯ä»¥æ ¹æ®çº¿ç¨‹ id æ‰¾åˆ°æœ‰é—®é¢˜çš„çº¿ç¨‹ï¼Œè¿›ä¸€æ­¥å®šä½åˆ°é—®é¢˜ä»£ç çš„æºç è¡Œå·&lt;/p&gt;
&lt;p&gt;æ‰§è¡Œå‘½ä»¤&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;sh&#34;&gt;jstack 30978   æ­¤å¤„æ˜¯è¿›ç¨‹id
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20220904162941977.png&#34; alt=&#34;image-20220904162941977&#34;&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;çœ‹å®Œæ­¤æ–‡ç« å¯ä»¥çœ‹&lt;a href=&#34;interview/JVM%E7%9B%B8%E5%85%B3%E9%9D%A2%E8%AF%95%E9%A2%98&#34;&gt;JVMç›¸å…³é¢è¯•é¢˜&lt;/a&gt;æµ‹è¯•ä¸€ä¸‹è‡ªå·±æŒæ¡æƒ…å†µ&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;æœ¬æ–‡å¼•è‡ª&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly93d3cuYmlsaWJpbGkuY29tL3ZpZGVvL0JWMXlUNDExSDdZSy8=&#34;&gt;é»‘é©¬ç¨‹åºå‘˜Javaé¢è¯•å®å…¸&lt;/span&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
        <category term="java" scheme="https://anoxiahub.github.io/categories/java/" />
        <category term="JVM" scheme="https://anoxiahub.github.io/tags/JVM/" />
        <updated>2023-08-14T16:00:00.000Z</updated>
    </entry>
    <entry>
        <id>https://anoxiahub.github.io/java/Java%E9%9B%86%E5%90%88%E8%AF%A6%E8%A7%A3/</id>
        <title>Javaé›†åˆè¯¦è§£</title>
        <link rel="alternate" href="https://anoxiahub.github.io/java/Java%E9%9B%86%E5%90%88%E8%AF%A6%E8%A7%A3/"/>
        <content type="html">&lt;h2 id=&#34;å‰è¨€&#34;&gt;&lt;a href=&#34;#å‰è¨€&#34; class=&#34;headerlink&#34; title=&#34;å‰è¨€&#34;&gt;&lt;/a&gt;å‰è¨€&lt;/h2&gt;&lt;p&gt;è¿™æ¬¡è¯¾ç¨‹ä¸»è¦æ¶‰åŠåˆ°çš„æ˜¯Listå’ŒMapç›¸å…³çš„é¢è¯•é¢˜ï¼Œæ¯”è¾ƒé«˜é¢‘å°±æ˜¯&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;ArrayList&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;LinkedList&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;HashMap&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;ConcurrentHashMap&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230427162524322.png&#34;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ArrayListåº•å±‚å®ç°æ˜¯æ•°ç»„&lt;/li&gt;
&lt;li&gt;LinkedListåº•å±‚å®ç°æ˜¯åŒå‘é“¾è¡¨&lt;/li&gt;
&lt;li&gt;HashMapçš„åº•å±‚å®ç°ä½¿ç”¨äº†ä¼—å¤šæ•°æ®ç»“æ„ï¼ŒåŒ…å«äº†æ•°ç»„ã€é“¾è¡¨ã€æ•£åˆ—è¡¨ã€çº¢é»‘æ ‘ç­‰&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;åœ¨è®²è§£è¿™äº›é›†åˆä¹‹åï¼Œæˆ‘ä»¬ä¼šè®²è§£æ•°æ®ç»“æ„ï¼ŒçŸ¥é“äº†æ•°æ®ç»“æ„çš„ç‰¹ç‚¹ä¹‹åï¼Œç†Ÿæ‚‰é›†åˆå°±æ›´åŠ ç®€å•äº†ã€‚åœ¨è®²è§£æ•°æ®ç»“æ„ä¹‹å‰ï¼Œæˆ‘ä»¬ä¹Ÿä¼šç®€å•æ™®åŠä¸€ä¸‹ç®—æ³•å¤æ‚åº¦åˆ†æï¼Œè®©å¤§å®¶èƒ½å¤Ÿè¯„åˆ¤ä»£ç çš„å¥½åï¼Œä¹Ÿèƒ½æ›´åŠ æ·±å…¥å»ç†è§£æ•°æ®ç»“æ„å’Œé›†åˆã€‚&lt;/p&gt;
&lt;h2 id=&#34;ç®—æ³•å¤æ‚åº¦åˆ†æ&#34;&gt;&lt;a href=&#34;#ç®—æ³•å¤æ‚åº¦åˆ†æ&#34; class=&#34;headerlink&#34; title=&#34;ç®—æ³•å¤æ‚åº¦åˆ†æ&#34;&gt;&lt;/a&gt;ç®—æ³•å¤æ‚åº¦åˆ†æ&lt;/h2&gt;&lt;h3 id=&#34;ä¸ºä»€ä¹ˆè¦è¿›è¡Œå¤æ‚åº¦åˆ†æï¼Ÿ&#34;&gt;&lt;a href=&#34;#ä¸ºä»€ä¹ˆè¦è¿›è¡Œå¤æ‚åº¦åˆ†æï¼Ÿ&#34; class=&#34;headerlink&#34; title=&#34;ä¸ºä»€ä¹ˆè¦è¿›è¡Œå¤æ‚åº¦åˆ†æï¼Ÿ&#34;&gt;&lt;/a&gt;ä¸ºä»€ä¹ˆè¦è¿›è¡Œå¤æ‚åº¦åˆ†æï¼Ÿ&lt;/h3&gt;&lt;p&gt;æˆ‘ä»¬å…ˆæ¥çœ‹ä¸‹é¢è¿™ä¸ªä»£ç ï¼Œä½ èƒ½è¯„åˆ¤è¿™ä¸ªä»£ç çš„å¥½åå—ï¼Ÿ&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;java&#34;&gt;/**
 ** *æ±‚**1~n**çš„ç´¯åŠ å’Œ
 ** @param* *n
 ** @return
*/
public int sum(int n) &amp;#123;
   int sum = 0;
   for ( int i = 1; i &amp;lt;= n; i++) &amp;#123;
     sum = sum + i;
   &amp;#125;
   return sum;
&amp;#125;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å…¶å®å­¦ä¹ ç®—æ³•å¤æ‚åº¦çš„å¥½å¤„å°±æ˜¯ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;æŒ‡å¯¼ä½ ç¼–å†™å‡ºæ€§èƒ½æ›´ä¼˜çš„ä»£ç &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;è¯„åˆ¤åˆ«äººå†™çš„ä»£ç çš„å¥½å&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;ç›¸ä¿¡ä½ å­¦å®Œäº†ç®—æ³•å¤æ‚åº¦åˆ†æï¼Œå°±æœ‰èƒ½åŠ›è¯„åˆ¤ä¸Šé¢ä»£ç çš„å¥½åäº†&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;å…³äºç®—æ³•å¤æ‚åº¦åˆ†æï¼ŒåŒ…å«äº†ä¸¤ä¸ªå†…å®¹ï¼Œä¸€ä¸ªæ˜¯æ—¶é—´å¤æ‚åº¦ï¼Œä¸€ä¸ªæ˜¯ç©ºé—´å¤æ‚åº¦ï¼Œé€šå¸¸æƒ…å†µä¸‹è¯´å¤æ‚åº¦ï¼Œéƒ½æ˜¯æŒ‡æ—¶é—´å¤æ‚åº¦ï¼Œæˆ‘ä»¬ä¹Ÿä¼šé‡ç‚¹è®²è§£æ—¶é—´å¤æ‚åº¦&lt;/p&gt;
&lt;h3 id=&#34;æ—¶é—´å¤æ‚åº¦&#34;&gt;&lt;a href=&#34;#æ—¶é—´å¤æ‚åº¦&#34; class=&#34;headerlink&#34; title=&#34;æ—¶é—´å¤æ‚åº¦&#34;&gt;&lt;/a&gt;æ—¶é—´å¤æ‚åº¦&lt;/h3&gt;&lt;h4 id=&#34;æ¡ˆä¾‹&#34;&gt;&lt;a href=&#34;#æ¡ˆä¾‹&#34; class=&#34;headerlink&#34; title=&#34;æ¡ˆä¾‹&#34;&gt;&lt;/a&gt;æ¡ˆä¾‹&lt;/h4&gt;&lt;p&gt;æ—¶é—´å¤æ‚åº¦åˆ†æï¼šç®€å•æ¥è¯´å°±æ˜¯è¯„ä¼°ä»£ç çš„æ‰§è¡Œè€—æ—¶çš„ï¼Œå¤§å®¶è¿˜æ˜¯çœ‹åˆšæ‰çš„ä»£ç ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;java&#34;&gt;/**
 ** *æ±‚**1~n**çš„ç´¯åŠ å’Œ
 ** @param* *n
 ** @return
*/
public int sum(int n) &amp;#123;
   int sum = 0;
   for ( int i = 1; i &amp;lt;= n; i++) &amp;#123;
     sum = sum + i;
   &amp;#125;
   return sum;
&amp;#125;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;åˆ†æè¿™ä¸ªä»£ç çš„æ—¶é—´å¤æ‚åº¦ï¼Œåˆ†æè¿‡ç¨‹å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;1.å‡å¦‚æ¯è¡Œä»£ç çš„æ‰§è¡Œè€—æ—¶ä¸€æ ·ï¼š1ms&lt;/p&gt;
&lt;p&gt;2.åˆ†æè¿™æ®µä»£ç æ€»æ‰§è¡Œå¤šå°‘è¡Œï¼Ÿ3n+3&lt;/p&gt;
&lt;p&gt;3.ä»£ç è€—æ—¶æ€»æ—¶é—´ï¼š T(n) &amp;#x3D; (3n + 3) * 1ms&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;T(n):å°±æ˜¯ä»£ç æ€»è€—æ—¶&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;æˆ‘ä»¬ç°åœ¨æœ‰äº†æ€»è€—æ—¶ï¼Œéœ€è¦å€ŸåŠ©å¤§Oè¡¨ç¤ºæ³•æ¥è®¡ç®—è¿™ä¸ªä»£ç çš„æ—¶é—´å¤æ‚åº¦&lt;/p&gt;
&lt;h4 id=&#34;å¤§Oè¡¨ç¤ºæ³•&#34;&gt;&lt;a href=&#34;#å¤§Oè¡¨ç¤ºæ³•&#34; class=&#34;headerlink&#34; title=&#34;å¤§Oè¡¨ç¤ºæ³•&#34;&gt;&lt;/a&gt;å¤§Oè¡¨ç¤ºæ³•&lt;/h4&gt;&lt;p&gt;&lt;strong&gt;å¤§Oè¡¨ç¤ºæ³•&lt;/strong&gt;ï¼šä¸å…·ä½“è¡¨ç¤ºä»£ç çœŸæ­£çš„æ‰§è¡Œæ—¶é—´ï¼Œè€Œæ˜¯è¡¨ç¤º&lt;strong&gt;ä»£ç æ‰§è¡Œæ—¶é—´éšæ•°æ®è§„æ¨¡å¢é•¿çš„å˜åŒ–è¶‹åŠ¿&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;åˆšæ‰çš„ä»£ç ç¤ºä¾‹æ€»è€—æ—¶å…¬å¼ä¸ºï¼šT(n) &amp;#x3D; (3n + 3) * 1ms&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;å…¶ä¸­ (3n + 3) æ˜¯ä»£ç çš„æ€»è¡Œæ•°ï¼Œæ¯è¡Œæ‰§è¡Œçš„æ—¶é—´éƒ½ä¸€æ ·ï¼Œæ‰€ä»¥å¾—å‡ºç»“è®ºï¼š&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;T(n)ä¸ä»£ç çš„æ‰§è¡Œæ¬¡æ•°æˆæ­£æ¯”(ä»£ç è¡Œæ•°è¶Šå¤šï¼Œæ‰§è¡Œæ—¶é—´è¶Šé•¿)&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ä¸è¿‡ï¼Œå¤§Oè¡¨ç¤ºæ³•åªéœ€è¦ä»£ç æ‰§è¡Œæ—¶é—´ä¸æ•°æ®è§„æ¨¡çš„å¢é•¿è¶‹åŠ¿ï¼Œå…¬å¼å¯ä»¥ç®€åŒ–å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;T(n) &amp;#x3D;O(3n + 3)â€”â€”â€”â€”&amp;gt; T(n) &amp;#x3D; O(n)&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;å½“nå¾ˆå¤§æ—¶ï¼Œå…¬å¼ä¸­çš„ä½é˜¶ï¼Œå¸¸é‡ï¼Œç³»æ•°ä¸‰éƒ¨åˆ†å¹¶ä¸å·¦å³å…¶å¢é•¿è¶‹åŠ¿ï¼Œå› æ­¤å¯ä»¥å¿½ç•¥ï¼Œæˆ‘ä»¬åªéœ€è¦è®°å½•ä¸€ä¸ªæœ€å¤§çš„é‡çº§å°±å¯ä»¥äº†&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ä¸‹å›¾ä¹Ÿèƒ½è¡¨æ˜æ•°æ®çš„è¶‹åŠ¿&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230427173120668.png&#34; alt=&#34;image-20230427173120668&#34;&gt;&lt;/p&gt;
&lt;h4 id=&#34;å¸¸è§å¤æ‚åº¦è¡¨ç¤ºå½¢å¼&#34;&gt;&lt;a href=&#34;#å¸¸è§å¤æ‚åº¦è¡¨ç¤ºå½¢å¼&#34; class=&#34;headerlink&#34; title=&#34;å¸¸è§å¤æ‚åº¦è¡¨ç¤ºå½¢å¼&#34;&gt;&lt;/a&gt;å¸¸è§å¤æ‚åº¦è¡¨ç¤ºå½¢å¼&lt;/h4&gt;&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230427173742389.png&#34; alt=&#34;image-20230427173742389&#34;&gt;&lt;/p&gt;
&lt;p&gt;é€Ÿè®°å£è¯€ï¼š&lt;strong&gt;å¸¸å¯¹å¹‚æŒ‡é˜¶&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;è¶Šåœ¨ä¸Šé¢çš„æ€§èƒ½å°±è¶Šé«˜ï¼Œè¶Šå¾€ä¸‹æ€§èƒ½å°±è¶Šä½&lt;/p&gt;
&lt;p&gt;ä¸‹å›¾æ˜¯ä¸€äº›æ¯”è¾ƒå¸¸è§æ—¶é—´å¤æ‚åº¦çš„æ—¶é—´ä¸æ•°æ®è§„æ¨¡çš„è¶‹åŠ¿ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230427173937663.png&#34; alt=&#34;image-20230427173937663&#34;&gt;&lt;/p&gt;
&lt;h4 id=&#34;æ—¶é—´å¤æ‚åº¦O-1&#34;&gt;&lt;a href=&#34;#æ—¶é—´å¤æ‚åº¦O-1&#34; class=&#34;headerlink&#34; title=&#34;æ—¶é—´å¤æ‚åº¦O(1)&#34;&gt;&lt;/a&gt;æ—¶é—´å¤æ‚åº¦O(1)&lt;/h4&gt;&lt;p&gt;å®ä¾‹ä»£ç ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;java&#34;&gt;public int test01(int n)&amp;#123;
    int i=0;
    int j = 1;
    return i+j;
&amp;#125;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ä»£ç åªæœ‰ä¸‰è¡Œï¼Œå®ƒçš„å¤æ‚åº¦ä¹Ÿæ˜¯O(1)ï¼Œè€Œä¸æ˜¯O(3)&lt;/p&gt;
&lt;p&gt;å†çœ‹å¦‚ä¸‹ä»£ç ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;java&#34;&gt;public void test02(int n)&amp;#123;
    int i=0;
    int sum=0;
    for(;i&amp;lt;100;i++)&amp;#123;
        sum = sum+i;
    &amp;#125;
    System.out.println(sum);
&amp;#125;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;æ•´ä¸ªä»£ç ä¸­å› ä¸ºå¾ªç¯æ¬¡æ•°æ˜¯å›ºå®šçš„å°±æ˜¯100æ¬¡ï¼Œè¿™æ ·çš„ä»£ç å¤æ‚åº¦æˆ‘ä»¬è®¤ä¸ºä¹Ÿæ˜¯O(1)&lt;/p&gt;
&lt;p&gt;ä¸€å¥è¯æ€»ç»“ï¼š&lt;strong&gt;åªè¦ä»£ç çš„æ‰§è¡Œæ—¶é—´ä¸éšç€nçš„å¢å¤§è€Œå¢å¤§ï¼Œè¿™æ ·çš„ä»£ç å¤æ‚åº¦éƒ½æ˜¯O(1)&lt;/strong&gt;&lt;/p&gt;
&lt;h4 id=&#34;æ—¶é—´å¤æ‚åº¦O-n&#34;&gt;&lt;a href=&#34;#æ—¶é—´å¤æ‚åº¦O-n&#34; class=&#34;headerlink&#34; title=&#34;æ—¶é—´å¤æ‚åº¦O(n)&#34;&gt;&lt;/a&gt;æ—¶é—´å¤æ‚åº¦O(n)&lt;/h4&gt;&lt;p&gt;å®ä¾‹ä»£ç 1ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;java&#34;&gt;/**
 * æ±‚1~nçš„ç´¯åŠ å’Œ
 * @param n
 * @return
 */
public int sum(int n) &amp;#123;
    int sum = 0;
    for ( int i = 1; i &amp;lt;= n; i++) &amp;#123;
        sum = sum + i;
    &amp;#125;
    return sum;
&amp;#125;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ä¸€å±‚forå¾ªåºæ—¶é—´å¤æ‚åº¦å°±æ˜¯O(n)&lt;/p&gt;
&lt;p&gt;å®ä¾‹ä»£ç 2ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;java&#34;&gt;public static int sum2(int n)&amp;#123;
    int sum = 0;
    for (int i = 1; i &amp;lt; n; ++i) &amp;#123;
        for (int j = 1; j &amp;lt; n; ++j) &amp;#123;
            sum = sum + i * j;
        &amp;#125;
    &amp;#125;
    return sum;
&amp;#125;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;è¿™ä¸ªä»£ç çš„æ‰§è¡Œè¡Œæ•°ä¸ºï¼šO( 3n^2  + 3n + 3 )ï¼Œä¸è¿‡ï¼Œä¾æ®å¤§Oè¡¨ç¤ºçš„è§„åˆ™ï¼š&lt;strong&gt;å¸¸é‡ã€ç³»æ•°ã€ä½é˜¶ï¼Œå¯ä»¥å¿½ç•¥&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥è¿™ä¸ªä»£ç æœ€ç»ˆçš„æ—¶é—´å¤æ‚åº¦ä¸ºï¼šO(n^2)&lt;/p&gt;
&lt;h4 id=&#34;æ—¶é—´å¤æ‚åº¦O-logn&#34;&gt;&lt;a href=&#34;#æ—¶é—´å¤æ‚åº¦O-logn&#34; class=&#34;headerlink&#34; title=&#34;æ—¶é—´å¤æ‚åº¦O(logn)&#34;&gt;&lt;/a&gt;æ—¶é—´å¤æ‚åº¦O(logn)&lt;/h4&gt;&lt;p&gt;å¯¹æ•°å¤æ‚åº¦éå¸¸çš„å¸¸è§ï¼Œä½†ç›¸å¯¹æ¯”è¾ƒéš¾ä»¥åˆ†æï¼Œå®ä¾‹ä»£ç ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;java&#34;&gt;public void test04(int n)&amp;#123;
    int i=1;
    while(i&amp;lt;=n)&amp;#123;
        i = i * 2;
    &amp;#125;
&amp;#125;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;åˆ†æè¿™ä¸ªä»£ç çš„å¤æ‚åº¦ï¼Œæˆ‘ä»¬å¿…é¡»è¦å†å¼ºè°ƒä¸€ä¸ªå‰æï¼š&lt;strong&gt;å¤æ‚åº¦åˆ†æå°±æ˜¯è¦å¼„æ¸…æ¥šä»£ç çš„æ‰§è¡Œæ¬¡æ•°å’Œæ•°æ®è§„æ¨¡nä¹‹é—´çš„å…³ç³»&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ä»¥ä¸Šä»£ç æœ€å…³é”®çš„ä¸€è¡Œæ˜¯ï¼š&lt;code&gt;i = i * 2&lt;/code&gt;ï¼Œè¿™è¡Œä»£ç å¯ä»¥å†³å®šè¿™ä¸ªwhileå¾ªç¯æ‰§è¡Œä»£ç çš„è¡Œæ•°ï¼Œ&lt;code&gt;i&lt;/code&gt;çš„å€¼æ˜¯å¯ä»¥æ— é™æ¥è¿‘&lt;code&gt;n&lt;/code&gt;çš„å€¼çš„ã€‚å¦‚æœ&lt;code&gt;i&lt;/code&gt; ä¸€æ—¦å¤§äºç­‰äºäº†&lt;code&gt;n&lt;/code&gt;åˆ™å¾ªç¯æ¡ä»¶å°±ä¸æ»¡è¶³äº†ã€‚ä¹Ÿå°±è¯´è¾¾åˆ°äº†æœ€å¤§çš„è¡Œæ•°ã€‚æˆ‘ä»¬å¯ä»¥åˆ†æä¸€ä¸‹&lt;code&gt;i&lt;/code&gt;è¿™ä¸ªå€¼å˜åŒ–çš„è¿‡ç¨‹&lt;/p&gt;
&lt;p&gt;åˆ†æè¿‡ç¨‹å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230427174832858.png&#34; alt=&#34;image-20230427174832858&#34;&gt;&lt;/p&gt;
&lt;p&gt;ç”±æ­¤å¯çŸ¥ï¼Œä»£ç çš„æ—¶é—´å¤æ‚åº¦è¡¨ç¤ºä¸ºO(log n)&lt;/p&gt;
&lt;h4 id=&#34;æ—¶é—´å¤æ‚åº¦O-n-log-n&#34;&gt;&lt;a href=&#34;#æ—¶é—´å¤æ‚åº¦O-n-log-n&#34; class=&#34;headerlink&#34; title=&#34;æ—¶é—´å¤æ‚åº¦O(n * log n)&#34;&gt;&lt;/a&gt;æ—¶é—´å¤æ‚åº¦O(n * log n)&lt;/h4&gt;&lt;p&gt;åˆ†æå®ŒO( log n )ï¼Œé‚£O( n * log n )å°±å¾ˆå®¹æ˜“ç†è§£äº†ï¼Œæ¯”å¦‚ä¸‹åˆ—ä»£ç ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;java&#34;&gt;public void test05(int n)&amp;#123;
    int i=0;
    for(;i&amp;lt;=n;i++)&amp;#123;
        test04(n);
    &amp;#125;
&amp;#125;

public void test04(int n)&amp;#123;
    int i=1;
    while(i&amp;lt;=n)&amp;#123;
        i = i * 2;
    &amp;#125;
&amp;#125;
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;ç©ºé—´å¤æ‚åº¦&#34;&gt;&lt;a href=&#34;#ç©ºé—´å¤æ‚åº¦&#34; class=&#34;headerlink&#34; title=&#34;ç©ºé—´å¤æ‚åº¦&#34;&gt;&lt;/a&gt;ç©ºé—´å¤æ‚åº¦&lt;/h3&gt;&lt;p&gt;ç©ºé—´å¤æ‚åº¦å…¨ç§°æ˜¯æ¸è¿›ç©ºé—´å¤æ‚åº¦ï¼Œè¡¨ç¤ºç®—æ³•å ç”¨çš„é¢å¤–&lt;strong&gt;å­˜å‚¨ç©ºé—´&lt;/strong&gt;ä¸&lt;strong&gt;æ•°æ®è§„æ¨¡&lt;/strong&gt;ä¹‹é—´çš„å¢é•¿å…³ç³»&lt;/p&gt;
&lt;p&gt;çœ‹ä¸‹é¢ä»£ç &lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;java&#34;&gt;public void test(int n)&amp;#123;
    int i=0;
    int sum=0;
    for(;i&amp;lt;n;i++)&amp;#123;
        sum = sum+i;
    &amp;#125;
    System.out.println(sum);
&amp;#125;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ä»£ç æ‰§è¡Œå¹¶ä¸éœ€è¦å ç”¨é¢å¤–çš„å­˜å‚¨ç©ºé—´ï¼Œåªéœ€è¦å¸¸é‡çº§çš„å†…å­˜ç©ºé—´å¤§å°ï¼Œå› æ­¤ç©ºé—´å¤æ‚åº¦æ˜¯O(1)&lt;/p&gt;
&lt;p&gt;å†æ¥çœ‹ä¸€ä¸ªå…¶ä»–ä¾‹å­ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;java&#34;&gt;void print(int n) &amp;#123;
    int i = 0;
    int[] a = new int[n];
    for (i; i &amp;lt;n; ++i) &amp;#123;
        a[i] = i * i;
    &amp;#125;
    for (i = n-1; i &amp;gt;= 0; --i) &amp;#123;
        System.out.println(a[i]);
    &amp;#125;
&amp;#125;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ä¼ å…¥ä¸€ä¸ªå˜é‡nï¼Œå†³å®šç”³è¯·å¤šå°‘çš„intæ•°ç»„ç©ºé—´å†…å­˜ï¼Œæ­¤æ®µä»£ç çš„ç©ºé—´å¤æ‚åº¦ä¸ºO(n)&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬å¸¸è§çš„ç©ºé—´å¤æ‚åº¦å°±æ˜¯O(1),O(n),O(n ^2)ï¼Œå…¶ä»–åƒå¯¹æ•°é˜¶çš„å¤æ‚åº¦å‡ ä¹ç”¨ä¸åˆ°ï¼Œå› æ­¤ç©ºé—´å¤æ‚åº¦æ¯”æ—¶é—´å¤æ‚åº¦åˆ†æè¦ç®€å•çš„å¤šã€‚&lt;/p&gt;
&lt;h2 id=&#34;Listç›¸å…³é¢è¯•é¢˜&#34;&gt;&lt;a href=&#34;#Listç›¸å…³é¢è¯•é¢˜&#34; class=&#34;headerlink&#34; title=&#34;Listç›¸å…³é¢è¯•é¢˜&#34;&gt;&lt;/a&gt;Listç›¸å…³é¢è¯•é¢˜&lt;/h2&gt;&lt;h3 id=&#34;æ•°ç»„&#34;&gt;&lt;a href=&#34;#æ•°ç»„&#34; class=&#34;headerlink&#34; title=&#34;æ•°ç»„&#34;&gt;&lt;/a&gt;æ•°ç»„&lt;/h3&gt;&lt;h4 id=&#34;æ•°ç»„æ¦‚è¿°&#34;&gt;&lt;a href=&#34;#æ•°ç»„æ¦‚è¿°&#34; class=&#34;headerlink&#34; title=&#34;æ•°ç»„æ¦‚è¿°&#34;&gt;&lt;/a&gt;æ•°ç»„æ¦‚è¿°&lt;/h4&gt;&lt;p&gt;æ•°ç»„ï¼ˆArrayï¼‰æ˜¯ä¸€ç§ç”¨&lt;strong&gt;è¿ç»­çš„å†…å­˜ç©ºé—´&lt;/strong&gt;å­˜å‚¨&lt;strong&gt;ç›¸åŒæ•°æ®ç±»å‹&lt;/strong&gt;æ•°æ®çš„çº¿æ€§æ•°æ®ç»“æ„ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;java&#34;&gt;int[] array = &amp;#123;22,33,88,66,55,25&amp;#125;;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230427175545402.png&#34; alt=&#34;image-20230427175545402&#34;&gt;&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬å®šä¹‰äº†è¿™ä¹ˆä¸€ä¸ªæ•°ç»„ä¹‹åï¼Œåœ¨å†…å­˜çš„è¡¨ç¤ºæ˜¯è¿™æ ·çš„ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230427175633253.png&#34; alt=&#34;image-20230427175633253&#34;&gt;&lt;/p&gt;
&lt;p&gt;ç°åœ¨å‡å¦‚ï¼Œæˆ‘ä»¬é€šè¿‡&lt;code&gt;arrar[1]&lt;/code&gt;ï¼Œæƒ³è¦è·å¾—ä¸‹æ ‡ä¸º1è¿™ä¸ªå…ƒç´ ï¼Œä½†æ˜¯ç°åœ¨æ ˆå†…å­˜ä¸­æŒ‡å‘çš„å †å†…å­˜æ•°ç»„çš„é¦–åœ°å€ï¼Œå®ƒæ˜¯å¦‚ä½•è·å–ä¸‹æ ‡ä¸º1è¿™ä¸ªæ•°æ®çš„ï¼Ÿ&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230427175849493.png&#34; alt=&#34;image-20230427175849493&#34;&gt;&lt;/p&gt;
&lt;h4 id=&#34;å¯»å€å…¬å¼&#34;&gt;&lt;a href=&#34;#å¯»å€å…¬å¼&#34; class=&#34;headerlink&#34; title=&#34;å¯»å€å…¬å¼&#34;&gt;&lt;/a&gt;å¯»å€å…¬å¼&lt;/h4&gt;&lt;p&gt;ä¸ºäº†æ–¹ä¾¿å¤§å®¶ç†è§£ï¼Œæˆ‘ä»¬æŠŠæ•°ç»„çš„å†…å­˜åœ°å€ç¨å¾®æ”¹äº†ä¸€ä¸‹ï¼Œéƒ½æ”¹æˆäº†æ•°å­—ï¼Œå¦‚ä¸‹å›¾&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230427180056509.png&#34; alt=&#34;image-20230427180056509&#34;&gt;&lt;/p&gt;
&lt;p&gt;åœ¨æ•°ç»„åœ¨å†…å­˜ä¸­æŸ¥æ‰¾å…ƒç´ çš„æ—¶å€™ï¼Œæ˜¯æœ‰ä¸€ä¸ªå¯»å€å…¬å¼çš„ï¼Œå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;java&#34;&gt;arr[i] = baseAddress + i * dataTypeSize
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;baseAddressï¼šæ•°ç»„çš„é¦–åœ°å€ï¼Œç›®å‰æ˜¯10&lt;/p&gt;
&lt;p&gt;dataTypeSizeï¼šä»£è¡¨æ•°ç»„ä¸­å…ƒç´ ç±»å‹çš„å¤§å°ï¼Œç›®å‰æ•°ç»„é‡å­˜å‚¨çš„æ˜¯intå‹çš„æ•°æ®ï¼ŒdataTypeSize&amp;#x3D;4ä¸ªå­—èŠ‚&lt;/p&gt;
&lt;p&gt;arrï¼šæŒ‡çš„æ˜¯æ•°ç»„&lt;/p&gt;
&lt;p&gt;iï¼šæŒ‡çš„æ˜¯æ•°ç»„çš„ä¸‹æ ‡&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;æœ‰äº†å¯»å€å…¬å¼ä»¥åï¼Œæˆ‘ä»¬å†æ¥è·å–ä¸€ä¸‹ä¸‹æ ‡ä¸º1çš„å…ƒç´ ï¼Œè¿™ä¸ªæ˜¯åŸæ¥çš„æ•°ç»„&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;java&#34;&gt;int[] array = &amp;#123;22,33,88,66,55,25&amp;#125;;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å¥—å…¥å…¬å¼ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;java&#34;&gt;array[1] =10 + i * 4 = 14
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;è·å–åˆ°14è¿™ä¸ªåœ°å€ï¼Œå°±èƒ½è·å–åˆ°ä¸‹æ ‡ä¸º1çš„è¿™ä¸ªå…ƒç´ äº†ã€‚&lt;/p&gt;
&lt;h4 id=&#34;æ“ä½œæ•°ç»„çš„æ—¶é—´å¤æ‚åº¦&#34;&gt;&lt;a href=&#34;#æ“ä½œæ•°ç»„çš„æ—¶é—´å¤æ‚åº¦&#34; class=&#34;headerlink&#34; title=&#34;æ“ä½œæ•°ç»„çš„æ—¶é—´å¤æ‚åº¦&#34;&gt;&lt;/a&gt;æ“ä½œæ•°ç»„çš„æ—¶é—´å¤æ‚åº¦&lt;/h4&gt;&lt;p&gt;&lt;strong&gt;1.éšæœºæŸ¥è¯¢(æ ¹æ®ç´¢å¼•æŸ¥è¯¢)&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æ•°ç»„å…ƒç´ çš„è®¿é—®æ˜¯é€šè¿‡ä¸‹æ ‡æ¥è®¿é—®çš„ï¼Œè®¡ç®—æœºé€šè¿‡æ•°ç»„çš„&lt;strong&gt;é¦–åœ°å€&lt;/strong&gt;å’Œ&lt;strong&gt;å¯»å€å…¬å¼&lt;/strong&gt;èƒ½å¤Ÿå¾ˆå¿«é€Ÿçš„æ‰¾åˆ°æƒ³è¦è®¿é—®çš„å…ƒç´ &lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;java&#34;&gt;public int test01(int[] a,int i)&amp;#123;
   return a[i];
   // a[i] = baseAddress + i \* dataSize
&amp;#125;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ä»£ç çš„æ‰§è¡Œæ¬¡æ•°å¹¶ä¸ä¼šéšç€æ•°ç»„çš„æ•°æ®è§„æ¨¡å¤§å°å˜åŒ–è€Œå˜åŒ–ï¼Œæ˜¯å¸¸æ•°çº§çš„ï¼Œæ‰€ä»¥æŸ¥è¯¢æ•°æ®æ“ä½œçš„æ—¶é—´å¤æ‚åº¦æ˜¯O(1)&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;2. æœªçŸ¥ç´¢å¼•æŸ¥è¯¢O(n)æˆ–O(log2n)&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æƒ…å†µä¸€ï¼šæŸ¥æ‰¾æ•°ç»„å†…çš„å…ƒç´ ï¼ŒæŸ¥æ‰¾55å·æ•°æ®ï¼Œéå†æ•°ç»„æ—¶é—´å¤æ‚åº¦ä¸ºO(n)&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20221007101831281.png&#34; alt=&#34;image-20221007101831281&#34;&gt;&lt;/p&gt;
&lt;p&gt;æƒ…å†µäºŒï¼šæŸ¥æ‰¾æ’åºåæ•°ç»„å†…çš„å…ƒç´ ï¼Œé€šè¿‡äºŒåˆ†æŸ¥æ‰¾ç®—æ³•æŸ¥æ‰¾55å·æ•°æ®æ—¶é—´å¤æ‚åº¦ä¸ºO(logn)&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20221007101811885.png&#34; alt=&#34;image-20221007101811885&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;3.æ’å…¥O(n)&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æ•°ç»„æ˜¯ä¸€æ®µè¿ç»­çš„å†…å­˜ç©ºé—´ï¼Œå› æ­¤ä¸ºäº†ä¿è¯æ•°ç»„çš„è¿ç»­æ€§ä¼šä½¿å¾—æ•°ç»„çš„æ’å…¥å’Œåˆ é™¤çš„æ•ˆç‡å˜çš„å¾ˆä½ã€‚&lt;/p&gt;
&lt;p&gt;å‡è®¾æ•°ç»„çš„é•¿åº¦ä¸º nï¼Œç°åœ¨å¦‚æœæˆ‘ä»¬éœ€è¦å°†ä¸€ä¸ªæ•°æ®æ’å…¥åˆ°æ•°ç»„ä¸­çš„ç¬¬ k ä¸ªä½ç½®ã€‚ä¸ºäº†æŠŠç¬¬ k ä¸ªä½ç½®è…¾å‡ºæ¥ç»™æ–°æ¥çš„æ•°æ®ï¼Œæˆ‘ä»¬éœ€è¦å°†ç¬¬ kï½n è¿™éƒ¨åˆ†çš„å…ƒç´ éƒ½é¡ºåºåœ°å¾€åæŒªä¸€ä½ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20220820104903422.png&#34; alt=&#34;image-20220820104903422&#34;&gt;&lt;/p&gt;
&lt;p&gt;æ–°å¢ä¹‹åçš„æ•°æ®å˜åŒ–ï¼Œå¦‚ä¸‹&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20220820104950846.png&#34; alt=&#34;image-20220820104950846&#34;&gt;&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥ï¼š&lt;/p&gt;
&lt;p&gt;æ’å…¥æ“ä½œï¼Œæœ€å¥½æƒ…å†µä¸‹æ˜¯O(1)çš„ï¼Œæœ€åæƒ…å†µä¸‹æ˜¯O(n)çš„ï¼Œ**å¹³å‡æƒ…å†µä¸‹çš„æ—¶é—´å¤æ‚åº¦æ˜¯O(n)**ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;4.åˆ é™¤O(n)&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;åŒç†å¯å¾—ï¼šå¦‚æœæˆ‘ä»¬è¦åˆ é™¤ç¬¬ k ä¸ªä½ç½®çš„æ•°æ®ï¼Œä¸ºäº†å†…å­˜çš„è¿ç»­æ€§ï¼Œä¹Ÿéœ€è¦æ¬ç§»æ•°æ®ï¼Œä¸ç„¶ä¸­é—´å°±ä¼šå‡ºç°ç©ºæ´ï¼Œå†…å­˜å°±ä¸è¿ç»­äº†ï¼Œæ—¶é—´å¤æ‚åº¦ä»ç„¶æ˜¯O(n)ã€‚&lt;/p&gt;
&lt;h3 id=&#34;ArrayListæºç åˆ†æ&#34;&gt;&lt;a href=&#34;#ArrayListæºç åˆ†æ&#34; class=&#34;headerlink&#34; title=&#34;ArrayListæºç åˆ†æ&#34;&gt;&lt;/a&gt;ArrayListæºç åˆ†æ&lt;/h3&gt;&lt;p&gt;åˆ†æArrayListæºç ä¸»è¦ä»ä¸‰ä¸ªæ–¹é¢å»ç¿»é˜…ï¼šæˆå‘˜å˜é‡ï¼Œæ„é€ å‡½æ•°ï¼Œå…³é”®æ–¹æ³•&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ä»¥ä¸‹æºç éƒ½æ¥æºäºjdk1.8&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h4 id=&#34;æˆå‘˜å˜é‡&#34;&gt;&lt;a href=&#34;#æˆå‘˜å˜é‡&#34; class=&#34;headerlink&#34; title=&#34;æˆå‘˜å˜é‡&#34;&gt;&lt;/a&gt;æˆå‘˜å˜é‡&lt;/h4&gt;&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230427192118259.png&#34; alt=&#34;image-20230427192118259&#34;&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;em&gt;DEFAULT_CAPACITY&lt;/em&gt; &amp;#x3D; 10;  é»˜è®¤åˆå§‹çš„å®¹é‡**(CAPACITY)&lt;/p&gt;
&lt;p&gt;&lt;em&gt;EMPTY_ELEMENTDATA&lt;/em&gt; &amp;#x3D; {}; ç”¨äºç©ºå®ä¾‹çš„å…±äº«ç©ºæ•°ç»„å®ä¾‹&lt;/p&gt;
&lt;p&gt;&lt;em&gt;DEFAULTCAPACITY_EMPTY_ELEMENTDATA&lt;/em&gt; &amp;#x3D; {};ç”¨äºé»˜è®¤å¤§å°çš„ç©ºå®ä¾‹çš„å…±äº«ç©ºæ•°ç»„å®ä¾‹&lt;/p&gt;
&lt;p&gt;Object[] elementData;  å­˜å‚¨å…ƒç´ çš„æ•°ç»„ç¼“å†²åŒº&lt;/p&gt;
&lt;p&gt;int size;     ArrayListçš„å¤§å°ï¼ˆå®ƒåŒ…å«çš„å…ƒç´ æ•°é‡ï¼‰&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h4 id=&#34;æ„é€ æ–¹æ³•&#34;&gt;&lt;a href=&#34;#æ„é€ æ–¹æ³•&#34; class=&#34;headerlink&#34; title=&#34;æ„é€ æ–¹æ³•&#34;&gt;&lt;/a&gt;æ„é€ æ–¹æ³•&lt;/h4&gt;&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230427192154014.png&#34; alt=&#34;image-20230427192154014&#34;&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;ç¬¬ä¸€ä¸ªæ„é€ æ˜¯å¸¦åˆå§‹åŒ–å®¹é‡çš„æ„é€ å‡½æ•°ï¼Œå¯ä»¥æŒ‰ç…§æŒ‡å®šçš„å®¹é‡åˆå§‹åŒ–æ•°ç»„&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;ç¬¬äºŒä¸ªæ˜¯æ— å‚æ„é€ å‡½æ•°ï¼Œé»˜è®¤åˆ›å»ºä¸€ä¸ªç©ºé›†åˆ&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230427192200918.png&#34; alt=&#34;image-20230427192200918&#34;&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;å°†collectionå¯¹è±¡è½¬æ¢æˆæ•°ç»„ï¼Œç„¶åå°†æ•°ç»„çš„åœ°å€çš„èµ‹ç»™elementData&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h4 id=&#34;ArrayListæºç åˆ†æ-1&#34;&gt;&lt;a href=&#34;#ArrayListæºç åˆ†æ-1&#34; class=&#34;headerlink&#34; title=&#34;ArrayListæºç åˆ†æ&#34;&gt;&lt;/a&gt;ArrayListæºç åˆ†æ&lt;/h4&gt;&lt;p&gt;æ·»åŠ æ•°æ®çš„æµç¨‹&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230427192644244.png&#34; alt=&#34;image-20230427192644244&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ç»“è®ºï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;åº•å±‚æ•°æ®ç»“æ„&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ArrayListåº•å±‚æ˜¯ç”¨åŠ¨æ€çš„æ•°ç»„å®ç°çš„&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;åˆå§‹å®¹é‡&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ArrayListåˆå§‹å®¹é‡ä¸º0ï¼Œå½“ç¬¬ä¸€æ¬¡æ·»åŠ æ•°æ®çš„æ—¶å€™æ‰ä¼šåˆå§‹åŒ–å®¹é‡ä¸º10&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ‰©å®¹é€»è¾‘&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ArrayListåœ¨è¿›è¡Œæ‰©å®¹çš„æ—¶å€™æ˜¯åŸæ¥å®¹é‡çš„1.5å€ï¼Œæ¯æ¬¡æ‰©å®¹éƒ½éœ€è¦æ‹·è´æ•°ç»„&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;æ·»åŠ é€»è¾‘&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;ç¡®ä¿æ•°ç»„å·²ä½¿ç”¨é•¿åº¦ï¼ˆsizeï¼‰åŠ 1ä¹‹åè¶³å¤Ÿå­˜ä¸‹ä¸‹ä¸€ä¸ªæ•°æ® &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;è®¡ç®—æ•°ç»„çš„å®¹é‡ï¼Œå¦‚æœå½“å‰æ•°ç»„å·²ä½¿ç”¨é•¿åº¦+1åçš„å¤§äºå½“å‰çš„æ•°ç»„é•¿åº¦ï¼Œåˆ™è°ƒç”¨growæ–¹æ³•æ‰©å®¹ï¼ˆåŸæ¥çš„1.5å€ï¼‰&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;ç¡®ä¿æ–°å¢çš„æ•°æ®æœ‰åœ°æ–¹å­˜å‚¨ä¹‹åï¼Œåˆ™å°†æ–°å…ƒç´ æ·»åŠ åˆ°ä½äºsizeçš„ä½ç½®ä¸Šã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;è¿”å›æ·»åŠ æˆåŠŸå¸ƒå°”å€¼ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;é¢è¯•é¢˜-ArrayList-list-new-ArrayList-10-ä¸­çš„listæ‰©å®¹å‡ æ¬¡&#34;&gt;&lt;a href=&#34;#é¢è¯•é¢˜-ArrayList-list-new-ArrayList-10-ä¸­çš„listæ‰©å®¹å‡ æ¬¡&#34; class=&#34;headerlink&#34; title=&#34;é¢è¯•é¢˜-ArrayList list&amp;#x3D;new ArrayList(10)ä¸­çš„listæ‰©å®¹å‡ æ¬¡&#34;&gt;&lt;/a&gt;é¢è¯•é¢˜-ArrayList list&amp;#x3D;new ArrayList(10)ä¸­çš„listæ‰©å®¹å‡ æ¬¡&lt;/h4&gt;&lt;blockquote&gt;
&lt;p&gt;éš¾æ˜“ç¨‹åº¦ï¼šâ˜†â˜†â˜†&lt;/p&gt;
&lt;p&gt;å‡ºç°é¢‘ç‡ï¼šâ˜†â˜†&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230428185505677.png&#34; alt=&#34;image-20230428185505677&#34;&gt;&lt;/p&gt;
&lt;p&gt;å‚è€ƒå›ç­”ï¼š&lt;/p&gt;
&lt;p&gt; è¯¥è¯­å¥åªæ˜¯å£°æ˜å’Œå®ä¾‹äº†ä¸€ä¸ª ArrayListï¼ŒæŒ‡å®šäº†å®¹é‡ä¸º 10ï¼Œæœªæ‰©å®¹ &lt;/p&gt;
&lt;h4 id=&#34;é¢è¯•é¢˜-å¦‚ä½•å®ç°æ•°ç»„å’ŒListä¹‹é—´çš„è½¬æ¢&#34;&gt;&lt;a href=&#34;#é¢è¯•é¢˜-å¦‚ä½•å®ç°æ•°ç»„å’ŒListä¹‹é—´çš„è½¬æ¢&#34; class=&#34;headerlink&#34; title=&#34;é¢è¯•é¢˜-å¦‚ä½•å®ç°æ•°ç»„å’ŒListä¹‹é—´çš„è½¬æ¢&#34;&gt;&lt;/a&gt;é¢è¯•é¢˜-å¦‚ä½•å®ç°æ•°ç»„å’ŒListä¹‹é—´çš„è½¬æ¢&lt;/h4&gt;&lt;blockquote&gt;
&lt;p&gt;éš¾æ˜“ç¨‹åº¦ï¼šâ˜†â˜†â˜†&lt;/p&gt;
&lt;p&gt;å‡ºç°é¢‘ç‡ï¼šâ˜†â˜†&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;å¦‚ä¸‹ä»£ç ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230428185600918.png&#34; alt=&#34;image-20230428185600918&#34;&gt;&lt;/p&gt;
&lt;p&gt;å‚è€ƒå›ç­”ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;æ•°ç»„è½¬List ï¼Œä½¿ç”¨JDKä¸­java.util.Arrayså·¥å…·ç±»çš„asListæ–¹æ³•&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Listè½¬æ•°ç»„ï¼Œä½¿ç”¨Listçš„toArrayæ–¹æ³•ã€‚æ— å‚toArrayæ–¹æ³•è¿”å› Objectæ•°ç»„ï¼Œä¼ å…¥åˆå§‹åŒ–é•¿åº¦çš„æ•°ç»„å¯¹è±¡ï¼Œè¿”å›è¯¥å¯¹è±¡æ•°ç»„&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;é¢è¯•å®˜å†é—®ï¼š&lt;/p&gt;
&lt;p&gt;1ï¼Œç”¨Arrays.asListè½¬Liståï¼Œå¦‚æœä¿®æ”¹äº†æ•°ç»„å†…å®¹ï¼Œlistå—å½±å“å—&lt;/p&gt;
&lt;p&gt;2ï¼ŒListç”¨toArrayè½¬æ•°ç»„åï¼Œå¦‚æœä¿®æ”¹äº†Listå†…å®¹ï¼Œæ•°ç»„å—å½±å“å—&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230428185657791.png&#34; alt=&#34;image-20230428185657791&#34;&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;æ•°ç»„è½¬Listå—å½±å“&lt;/p&gt;
&lt;p&gt;Listè½¬æ•°ç»„ä¸å—å½±å“&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;å†ç­”ï¼š&lt;/p&gt;
&lt;p&gt;1ï¼Œç”¨Arrays.asListè½¬Liståï¼Œå¦‚æœä¿®æ”¹äº†æ•°ç»„å†…å®¹ï¼Œlistå—å½±å“å—&lt;/p&gt;
&lt;p&gt;Arrays.asListè½¬æ¢listä¹‹åï¼Œå¦‚æœä¿®æ”¹äº†æ•°ç»„çš„å†…å®¹ï¼Œlistä¼šå—å½±å“ï¼Œå› ä¸ºå®ƒçš„åº•å±‚ä½¿ç”¨çš„Arraysç±»ä¸­çš„ä¸€ä¸ªå†…éƒ¨ç±»ArrayListæ¥æ„é€ çš„é›†åˆï¼Œåœ¨è¿™ä¸ªé›†åˆçš„æ„é€ å™¨ä¸­ï¼ŒæŠŠæˆ‘ä»¬ä¼ å…¥çš„è¿™ä¸ªé›†åˆè¿›è¡Œäº†åŒ…è£…è€Œå·²ï¼Œæœ€ç»ˆæŒ‡å‘çš„éƒ½æ˜¯åŒä¸€ä¸ªå†…å­˜åœ°å€&lt;/p&gt;
&lt;p&gt;2ï¼ŒListç”¨toArrayè½¬æ•°ç»„åï¼Œå¦‚æœä¿®æ”¹äº†Listå†…å®¹ï¼Œæ•°ç»„å—å½±å“å—&lt;/p&gt;
&lt;p&gt;listç”¨äº†toArrayè½¬æ•°ç»„åï¼Œå¦‚æœä¿®æ”¹äº†listå†…å®¹ï¼Œæ•°ç»„ä¸ä¼šå½±å“ï¼Œå½“è°ƒç”¨äº†toArrayä»¥åï¼Œåœ¨åº•å±‚æ˜¯å®ƒæ˜¯è¿›è¡Œäº†æ•°ç»„çš„æ‹·è´ï¼Œè·ŸåŸæ¥çš„å…ƒç´ å°±æ²¡å•¥å…³ç³»äº†ï¼Œæ‰€ä»¥å³ä½¿listä¿®æ”¹äº†ä»¥åï¼Œæ•°ç»„ä¹Ÿä¸å—å½±å“&lt;/p&gt;
&lt;h3 id=&#34;é“¾è¡¨&#34;&gt;&lt;a href=&#34;#é“¾è¡¨&#34; class=&#34;headerlink&#34; title=&#34;é“¾è¡¨&#34;&gt;&lt;/a&gt;é“¾è¡¨&lt;/h3&gt;&lt;h4 id=&#34;å•å‘é“¾è¡¨&#34;&gt;&lt;a href=&#34;#å•å‘é“¾è¡¨&#34; class=&#34;headerlink&#34; title=&#34;å•å‘é“¾è¡¨&#34;&gt;&lt;/a&gt;å•å‘é“¾è¡¨&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;&lt;p&gt;é“¾è¡¨ä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ ç§°ä¹‹ä¸ºç»“ç‚¹ï¼ˆNodeï¼‰&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;ç‰©ç†å­˜å‚¨å•å…ƒä¸Šï¼Œéè¿ç»­ã€éé¡ºåºçš„å­˜å‚¨ç»“æ„&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;å•å‘é“¾è¡¨ï¼šæ¯ä¸ªç»“ç‚¹åŒ…æ‹¬ä¸¤ä¸ªéƒ¨åˆ†ï¼šä¸€ä¸ªæ˜¯å­˜å‚¨æ•°æ®å…ƒç´ çš„æ•°æ®åŸŸï¼Œå¦ä¸€ä¸ªæ˜¯å­˜å‚¨ä¸‹ä¸€ä¸ªç»“ç‚¹åœ°å€çš„æŒ‡é’ˆåŸŸã€‚è®°å½•ä¸‹ä¸ªç»“ç‚¹åœ°å€çš„æŒ‡é’ˆå«ä½œåç»§æŒ‡é’ˆ next&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230428185922776.png&#34; alt=&#34;image-20230428185922776&#34;&gt;&lt;/p&gt;
&lt;p&gt;ä»£ç å®ç°å‚è€ƒï¼š&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230428185945929.png&#34; alt=&#34;image-20230428185945929&#34;&gt;&lt;/p&gt;
&lt;p&gt;é“¾è¡¨ä¸­çš„æŸä¸ªèŠ‚ç‚¹ä¸ºBï¼ŒBçš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ä¸ºC         è¡¨ç¤ºï¼š B.next&amp;#x3D;&amp;#x3D;C&lt;/p&gt;
&lt;h4 id=&#34;å•å‘é“¾è¡¨æ—¶é—´å¤æ‚åº¦åˆ†æ&#34;&gt;&lt;a href=&#34;#å•å‘é“¾è¡¨æ—¶é—´å¤æ‚åº¦åˆ†æ&#34; class=&#34;headerlink&#34; title=&#34;å•å‘é“¾è¡¨æ—¶é—´å¤æ‚åº¦åˆ†æ&#34;&gt;&lt;/a&gt;å•å‘é“¾è¡¨æ—¶é—´å¤æ‚åº¦åˆ†æ&lt;/h4&gt;&lt;p&gt;ï¼ˆ1ï¼‰æŸ¥è¯¢æ“ä½œ&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230428190130901.png&#34; alt=&#34;image-20230428190130901&#34;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;åªæœ‰åœ¨æŸ¥è¯¢å¤´èŠ‚ç‚¹çš„æ—¶å€™ä¸éœ€è¦éå†é“¾è¡¨ï¼Œæ—¶é—´å¤æ‚åº¦æ˜¯O(1)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;æŸ¥è¯¢å…¶ä»–ç»“ç‚¹éœ€è¦éå†é“¾è¡¨ï¼Œæ—¶é—´å¤æ‚åº¦æ˜¯O(n)&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ï¼ˆ2ï¼‰æ’å…¥å’Œåˆ é™¤æ“ä½œ&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230428190210915.png&#34; alt=&#34;image-20230428190210915&#34;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;åªæœ‰åœ¨æ·»åŠ å’Œåˆ é™¤å¤´èŠ‚ç‚¹çš„æ—¶å€™ä¸éœ€è¦éå†é“¾è¡¨ï¼Œæ—¶é—´å¤æ‚åº¦æ˜¯O(1)&lt;/li&gt;
&lt;li&gt;æ·»åŠ æˆ–åˆ é™¤å…¶ä»–ç»“ç‚¹éœ€è¦éå†é“¾è¡¨æ‰¾åˆ°å¯¹åº”èŠ‚ç‚¹åï¼Œæ‰èƒ½å®Œæˆæ–°å¢æˆ–åˆ é™¤èŠ‚ç‚¹ï¼Œæ—¶é—´å¤æ‚åº¦æ˜¯O(n)&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;åŒå‘é“¾è¡¨&#34;&gt;&lt;a href=&#34;#åŒå‘é“¾è¡¨&#34; class=&#34;headerlink&#34; title=&#34;åŒå‘é“¾è¡¨&#34;&gt;&lt;/a&gt;åŒå‘é“¾è¡¨&lt;/h4&gt;&lt;p&gt;è€ŒåŒå‘é“¾è¡¨ï¼Œé¡¾åæ€ä¹‰ï¼Œå®ƒæ”¯æŒä¸¤ä¸ªæ–¹å‘&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;æ¯ä¸ªç»“ç‚¹ä¸æ­¢æœ‰ä¸€ä¸ªåç»§æŒ‡é’ˆ next æŒ‡å‘åé¢çš„ç»“ç‚¹&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;æœ‰ä¸€ä¸ªå‰é©±æŒ‡é’ˆ prev æŒ‡å‘å‰é¢çš„ç»“ç‚¹&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å‚è€ƒä»£ç &lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230428190324752.png&#34; alt=&#34;image-20230428190324752&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230428190353286.png&#34; alt=&#34;image-20230428190353286&#34;&gt;&lt;/p&gt;
&lt;p&gt;å¯¹æ¯”å•é“¾è¡¨ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;åŒå‘é“¾è¡¨éœ€è¦é¢å¤–çš„ä¸¤ä¸ªç©ºé—´æ¥å­˜å‚¨åç»§ç»“ç‚¹å’Œå‰é©±ç»“ç‚¹çš„åœ°å€&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;æ”¯æŒåŒå‘éå†ï¼Œè¿™æ ·ä¹Ÿå¸¦æ¥äº†åŒå‘é“¾è¡¨æ“ä½œçš„çµæ´»æ€§&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;åŒå‘é“¾è¡¨æ—¶é—´å¤æ‚åº¦åˆ†æ&#34;&gt;&lt;a href=&#34;#åŒå‘é“¾è¡¨æ—¶é—´å¤æ‚åº¦åˆ†æ&#34; class=&#34;headerlink&#34; title=&#34;åŒå‘é“¾è¡¨æ—¶é—´å¤æ‚åº¦åˆ†æ&#34;&gt;&lt;/a&gt;åŒå‘é“¾è¡¨æ—¶é—´å¤æ‚åº¦åˆ†æ&lt;/h4&gt;&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230428190450517.png&#34; alt=&#34;image-20230428190450517&#34;&gt;&lt;/p&gt;
&lt;p&gt;ï¼ˆ1ï¼‰æŸ¥è¯¢æ“ä½œ&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;æŸ¥è¯¢å¤´å°¾ç»“ç‚¹çš„æ—¶é—´å¤æ‚åº¦æ˜¯O(1)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;å¹³å‡çš„æŸ¥è¯¢æ—¶é—´å¤æ‚åº¦æ˜¯O(n)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;ç»™å®šèŠ‚ç‚¹æ‰¾å‰é©±èŠ‚ç‚¹çš„æ—¶é—´å¤æ‚åº¦ä¸ºO(1)&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ï¼ˆ2ï¼‰å¢åˆ æ“ä½œ&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;å¤´å°¾ç»“ç‚¹å¢åˆ çš„æ—¶é—´å¤æ‚åº¦ä¸ºO(1)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;å…¶ä»–éƒ¨åˆ†ç»“ç‚¹å¢åˆ çš„æ—¶é—´å¤æ‚åº¦æ˜¯ O(n)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;ç»™å®šèŠ‚ç‚¹å¢åˆ çš„æ—¶é—´å¤æ‚åº¦ä¸ºO(1)&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;é¢è¯•é¢˜-ArrayListå’ŒLinkedListçš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ&#34;&gt;&lt;a href=&#34;#é¢è¯•é¢˜-ArrayListå’ŒLinkedListçš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ&#34; class=&#34;headerlink&#34; title=&#34;é¢è¯•é¢˜-ArrayListå’ŒLinkedListçš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ&#34;&gt;&lt;/a&gt;é¢è¯•é¢˜-ArrayListå’ŒLinkedListçš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;&lt;p&gt;åº•å±‚æ•°æ®ç»“æ„&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;ArrayList æ˜¯åŠ¨æ€æ•°ç»„çš„æ•°æ®ç»“æ„å®ç°&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;LinkedList æ˜¯åŒå‘é“¾è¡¨çš„æ•°æ®ç»“æ„å®ç°&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;æ“ä½œæ•°æ®æ•ˆç‡&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ArrayListæŒ‰ç…§ä¸‹æ ‡æŸ¥è¯¢çš„æ—¶é—´å¤æ‚åº¦O(1)ã€å†…å­˜æ˜¯è¿ç»­çš„ï¼Œæ ¹æ®å¯»å€å…¬å¼ã€‘ï¼Œ LinkedListä¸æ”¯æŒä¸‹æ ‡æŸ¥è¯¢&lt;/li&gt;
&lt;li&gt;æŸ¥æ‰¾ï¼ˆæœªçŸ¥ç´¢å¼•ï¼‰ï¼š ArrayListéœ€è¦éå†ï¼Œé“¾è¡¨ä¹Ÿéœ€è¦é“¾è¡¨ï¼Œæ—¶é—´å¤æ‚åº¦éƒ½æ˜¯O(n)&lt;/li&gt;
&lt;li&gt;æ–°å¢å’Œåˆ é™¤&lt;ul&gt;
&lt;li&gt;ArrayListå°¾éƒ¨æ’å…¥å’Œåˆ é™¤ï¼Œæ—¶é—´å¤æ‚åº¦æ˜¯O(1)ï¼›å…¶ä»–éƒ¨åˆ†å¢åˆ éœ€è¦æŒªåŠ¨æ•°ç»„ï¼Œæ—¶é—´å¤æ‚åº¦æ˜¯O(n)&lt;/li&gt;
&lt;li&gt;LinkedListå¤´å°¾èŠ‚ç‚¹å¢åˆ æ—¶é—´å¤æ‚åº¦æ˜¯O(1)ï¼Œå…¶ä»–éƒ½éœ€è¦éå†é“¾è¡¨ï¼Œæ—¶é—´å¤æ‚åº¦æ˜¯O(n)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;å†…å­˜ç©ºé—´å ç”¨&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;ArrayListåº•å±‚æ˜¯æ•°ç»„ï¼Œå†…å­˜è¿ç»­ï¼ŒèŠ‚çœå†…å­˜&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;LinkedList æ˜¯åŒå‘é“¾è¡¨éœ€è¦å­˜å‚¨æ•°æ®ï¼Œå’Œä¸¤ä¸ªæŒ‡é’ˆï¼Œæ›´å ç”¨å†…å­˜&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;çº¿ç¨‹å®‰å…¨&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ArrayListå’ŒLinkedListéƒ½ä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„&lt;/li&gt;
&lt;li&gt;å¦‚æœéœ€è¦ä¿è¯çº¿ç¨‹å®‰å…¨ï¼Œæœ‰ä¸¤ç§æ–¹æ¡ˆï¼š&lt;ul&gt;
&lt;li&gt;åœ¨æ–¹æ³•å†…ä½¿ç”¨ï¼Œå±€éƒ¨å˜é‡åˆ™æ˜¯çº¿ç¨‹å®‰å…¨çš„&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨çº¿ç¨‹å®‰å…¨çš„ArrayListå’ŒLinkedList&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;HashMapç›¸å…³é¢è¯•é¢˜&#34;&gt;&lt;a href=&#34;#HashMapç›¸å…³é¢è¯•é¢˜&#34; class=&#34;headerlink&#34; title=&#34;HashMapç›¸å…³é¢è¯•é¢˜&#34;&gt;&lt;/a&gt;HashMapç›¸å…³é¢è¯•é¢˜&lt;/h2&gt;&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230428194715016.png&#34; alt=&#34;image-20230428194715016&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;äºŒå‰æ ‘&#34;&gt;&lt;a href=&#34;#äºŒå‰æ ‘&#34; class=&#34;headerlink&#34; title=&#34;äºŒå‰æ ‘&#34;&gt;&lt;/a&gt;äºŒå‰æ ‘&lt;/h3&gt;&lt;h4 id=&#34;äºŒå‰æ ‘æ¦‚è¿°&#34;&gt;&lt;a href=&#34;#äºŒå‰æ ‘æ¦‚è¿°&#34; class=&#34;headerlink&#34; title=&#34;äºŒå‰æ ‘æ¦‚è¿°&#34;&gt;&lt;/a&gt;äºŒå‰æ ‘æ¦‚è¿°&lt;/h4&gt;&lt;p&gt;äºŒå‰æ ‘ï¼Œé¡¾åæ€ä¹‰ï¼Œæ¯ä¸ªèŠ‚ç‚¹æœ€å¤šæœ‰ä¸¤ä¸ªâ€œå‰â€ï¼Œä¹Ÿå°±æ˜¯ä¸¤ä¸ªå­èŠ‚ç‚¹ï¼Œåˆ†åˆ«æ˜¯å·¦å­èŠ‚ç‚¹å’Œå³å­èŠ‚ç‚¹ã€‚ä¸è¿‡ï¼ŒäºŒå‰æ ‘å¹¶ä¸è¦æ±‚æ¯ä¸ªèŠ‚ç‚¹éƒ½æœ‰ä¸¤ä¸ªå­èŠ‚ç‚¹ï¼Œæœ‰çš„èŠ‚ç‚¹åªæœ‰å·¦å­èŠ‚ç‚¹ï¼Œæœ‰çš„èŠ‚ç‚¹åªæœ‰å³å­èŠ‚ç‚¹ã€‚&lt;/p&gt;
&lt;p&gt;äºŒå‰æ ‘æ¯ä¸ªèŠ‚ç‚¹çš„å·¦å­æ ‘å’Œå³å­æ ‘ä¹Ÿåˆ†åˆ«æ»¡è¶³äºŒå‰æ ‘çš„å®šä¹‰ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230428194831426.png&#34; alt=&#34;image-20230428194831426&#34;&gt;&lt;/p&gt;
&lt;p&gt;Javaä¸­æœ‰ä¸¤ä¸ªæ–¹å¼å®ç°äºŒå‰æ ‘ï¼šæ•°ç»„å­˜å‚¨ï¼Œé“¾å¼å­˜å‚¨ã€‚&lt;/p&gt;
&lt;p&gt;åŸºäºé“¾å¼å­˜å‚¨çš„æ ‘çš„èŠ‚ç‚¹å¯å®šä¹‰å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230428194904383.png&#34; alt=&#34;image-20230428194904383&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230428194931132.png&#34; alt=&#34;image-20230428194931132&#34;&gt;&lt;/p&gt;
&lt;h4 id=&#34;äºŒå‰æœç´¢æ ‘&#34;&gt;&lt;a href=&#34;#äºŒå‰æœç´¢æ ‘&#34; class=&#34;headerlink&#34; title=&#34;äºŒå‰æœç´¢æ ‘&#34;&gt;&lt;/a&gt;äºŒå‰æœç´¢æ ‘&lt;/h4&gt;&lt;p&gt;åœ¨äºŒå‰æ ‘ä¸­ï¼Œæ¯”è¾ƒå¸¸è§çš„äºŒå‰æ ‘æœ‰ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;æ»¡äºŒå‰æ ‘&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;å®Œå…¨äºŒå‰æ ‘&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;äºŒå‰æœç´¢æ ‘&lt;/strong&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;çº¢é»‘æ ‘&lt;/strong&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æˆ‘ä»¬é‡ç‚¹è®²è§£äºŒå‰æœç´¢æ ‘å’Œçº¢é»‘æ ‘&lt;/p&gt;
&lt;p&gt;ï¼ˆ1ï¼‰äºŒå‰æœç´¢æ ‘æ¦‚è¿°&lt;/p&gt;
&lt;p&gt;äºŒå‰æœç´¢æ ‘(Binary Search Tree,BST)åˆåäºŒå‰æŸ¥æ‰¾æ ‘ï¼Œæœ‰åºäºŒå‰æ ‘æˆ–è€…æ’åºäºŒå‰æ ‘ï¼Œæ˜¯äºŒå‰æ ‘ä¸­æ¯”è¾ƒå¸¸ç”¨çš„ä¸€ç§ç±»å‹&lt;/p&gt;
&lt;p&gt;äºŒå‰æŸ¥æ‰¾æ ‘è¦æ±‚ï¼Œåœ¨æ ‘ä¸­çš„ä»»æ„ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå…¶å·¦å­æ ‘ä¸­çš„æ¯ä¸ªèŠ‚ç‚¹çš„å€¼ï¼Œéƒ½è¦å°äºè¿™ä¸ªèŠ‚ç‚¹çš„å€¼ï¼Œè€Œå³å­æ ‘èŠ‚ç‚¹çš„å€¼éƒ½å¤§äºè¿™ä¸ªèŠ‚ç‚¹çš„å€¼&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230428195206422.png&#34; alt=&#34;image-20230428195206422&#34;&gt;&lt;/p&gt;
&lt;p&gt;ï¼ˆ2ï¼‰äºŒå‰æœç´¢æ ‘-æ—¶é—´å¤æ‚åº¦åˆ†æ&lt;/p&gt;
&lt;p&gt;å®é™…ä¸Šç”±äºäºŒå‰æŸ¥æ‰¾æ ‘çš„å½¢æ€å„å¼‚ï¼Œæ—¶é—´å¤æ‚åº¦ä¹Ÿä¸å°½ç›¸åŒï¼Œæˆ‘ç”»äº†å‡ æ£µæ ‘æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹æ’å…¥ï¼ŒæŸ¥æ‰¾ï¼Œåˆ é™¤çš„æ—¶é—´å¤æ‚åº¦&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230428195341917.png&#34; alt=&#34;image-20230428195341917&#34;&gt;&lt;/p&gt;
&lt;p&gt;æ’å…¥ï¼ŒæŸ¥æ‰¾ï¼Œåˆ é™¤çš„æ—¶é—´å¤æ‚åº¦&lt;strong&gt;O(logn)&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æç«¯æƒ…å†µä¸‹äºŒå‰æœç´¢çš„æ—¶é—´å¤æ‚åº¦&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230428195449799.png&#34; alt=&#34;image-20230428195449799&#34;&gt;&lt;/p&gt;
&lt;p&gt;å¯¹äºå›¾ä¸­è¿™ç§æƒ…å†µå±äºæœ€åçš„æƒ…å†µï¼ŒäºŒå‰æŸ¥æ‰¾æ ‘å·²ç»é€€åŒ–æˆäº†é“¾è¡¨ï¼Œå·¦å³å­æ ‘æåº¦ä¸å¹³è¡¡ï¼Œæ­¤æ—¶æŸ¥æ‰¾çš„æ—¶é—´å¤æ‚åº¦è‚¯å®šæ˜¯O(n)ã€‚&lt;/p&gt;
&lt;h4 id=&#34;çº¢é»‘æ ‘&#34;&gt;&lt;a href=&#34;#çº¢é»‘æ ‘&#34; class=&#34;headerlink&#34; title=&#34;çº¢é»‘æ ‘&#34;&gt;&lt;/a&gt;çº¢é»‘æ ‘&lt;/h4&gt;&lt;p&gt;ï¼ˆ1ï¼‰æ¦‚è¿°&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;çº¢é»‘æ ‘ï¼ˆRed Black Treeï¼‰&lt;/strong&gt;ï¼šä¹Ÿæ˜¯ä¸€ç§è‡ªå¹³è¡¡çš„äºŒå‰æœç´¢æ ‘(BST)ï¼Œä¹‹å‰å«åšå¹³è¡¡äºŒå‰Bæ ‘ï¼ˆSymmetric Binary B-Treeï¼‰&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230428195832724.png&#34; alt=&#34;image-20230428195832724&#34;&gt;&lt;/p&gt;
&lt;p&gt;ï¼ˆ2ï¼‰çº¢é»‘æ ‘çš„ç‰¹è´¨&lt;/p&gt;
&lt;p&gt;æ€§è´¨1ï¼šèŠ‚ç‚¹è¦ä¹ˆæ˜¯&lt;strong&gt;çº¢è‰²&lt;/strong&gt;,è¦ä¹ˆæ˜¯&lt;strong&gt;é»‘è‰²&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æ€§è´¨2ï¼šæ ¹èŠ‚ç‚¹æ˜¯&lt;strong&gt;é»‘è‰²&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æ€§è´¨3ï¼šå¶å­èŠ‚ç‚¹éƒ½æ˜¯é»‘è‰²çš„ç©ºèŠ‚ç‚¹&lt;/p&gt;
&lt;p&gt;æ€§è´¨4ï¼šçº¢é»‘æ ‘ä¸­çº¢è‰²èŠ‚ç‚¹çš„å­èŠ‚ç‚¹éƒ½æ˜¯é»‘è‰²&lt;/p&gt;
&lt;p&gt;æ€§è´¨5ï¼šä»ä»»ä¸€èŠ‚ç‚¹åˆ°å¶å­èŠ‚ç‚¹çš„æ‰€æœ‰è·¯å¾„éƒ½åŒ…å«ç›¸åŒæ•°ç›®çš„é»‘è‰²èŠ‚ç‚¹&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;åœ¨æ·»åŠ æˆ–åˆ é™¤èŠ‚ç‚¹çš„æ—¶å€™ï¼Œå¦‚æœä¸ç¬¦åˆè¿™äº›æ€§è´¨ä¼šå‘ç”Ÿæ—‹è½¬ï¼Œä»¥è¾¾åˆ°æ‰€æœ‰çš„æ€§è´¨ï¼Œä¿è¯çº¢é»‘æ ‘çš„å¹³è¡¡&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ï¼ˆ3ï¼‰çº¢é»‘æ ‘çš„å¤æ‚åº¦&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;æŸ¥æ‰¾ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;çº¢é»‘æ ‘ä¹Ÿæ˜¯ä¸€æ£µBSTï¼ˆäºŒå‰æœç´¢æ ‘ï¼‰æ ‘ï¼ŒæŸ¥æ‰¾æ“ä½œçš„æ—¶é—´å¤æ‚åº¦ä¸ºï¼šO(log n)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;æ·»åŠ ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ·»åŠ å…ˆè¦ä»æ ¹èŠ‚ç‚¹å¼€å§‹æ‰¾åˆ°å…ƒç´ æ·»åŠ çš„ä½ç½®ï¼Œæ—¶é—´å¤æ‚åº¦O(log n)&lt;/li&gt;
&lt;li&gt;æ·»åŠ å®Œæˆåæ¶‰åŠåˆ°å¤æ‚åº¦ä¸ºO(1)çš„æ—‹è½¬è°ƒæ•´æ“ä½œ&lt;/li&gt;
&lt;li&gt;æ•…æ•´ä½“å¤æ‚åº¦ä¸ºï¼šO(log n)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;åˆ é™¤ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;é¦–å…ˆä»æ ¹èŠ‚ç‚¹å¼€å§‹æ‰¾åˆ°è¢«åˆ é™¤å…ƒç´ çš„ä½ç½®ï¼Œæ—¶é—´å¤æ‚åº¦O(log n)&lt;/li&gt;
&lt;li&gt;åˆ é™¤å®Œæˆåæ¶‰åŠåˆ°å¤æ‚åº¦ä¸ºO(1)çš„æ—‹è½¬è°ƒæ•´æ“ä½œ&lt;/li&gt;
&lt;li&gt;æ•…æ•´ä½“å¤æ‚åº¦ä¸ºï¼šO(log n)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;æ•£åˆ—è¡¨&#34;&gt;&lt;a href=&#34;#æ•£åˆ—è¡¨&#34; class=&#34;headerlink&#34; title=&#34;æ•£åˆ—è¡¨&#34;&gt;&lt;/a&gt;æ•£åˆ—è¡¨&lt;/h3&gt;&lt;p&gt;åœ¨HashMapä¸­çš„æœ€é‡è¦çš„ä¸€ä¸ªæ•°æ®ç»“æ„å°±æ˜¯æ•£åˆ—è¡¨ï¼Œåœ¨æ•£åˆ—è¡¨ä¸­åˆä½¿ç”¨åˆ°äº†çº¢é»‘æ ‘å’Œé“¾è¡¨&lt;/p&gt;
&lt;h4 id=&#34;æ•£åˆ—è¡¨ï¼ˆHash-Tableï¼‰æ¦‚è¿°&#34;&gt;&lt;a href=&#34;#æ•£åˆ—è¡¨ï¼ˆHash-Tableï¼‰æ¦‚è¿°&#34; class=&#34;headerlink&#34; title=&#34;æ•£åˆ—è¡¨ï¼ˆHash Tableï¼‰æ¦‚è¿°&#34;&gt;&lt;/a&gt;æ•£åˆ—è¡¨ï¼ˆHash Tableï¼‰æ¦‚è¿°&lt;/h4&gt;&lt;p&gt;æ•£åˆ—è¡¨(Hash Table)åˆåå“ˆå¸Œè¡¨&amp;#x2F;Hashè¡¨ï¼Œæ˜¯æ ¹æ®é”®ï¼ˆKeyï¼‰ç›´æ¥è®¿é—®åœ¨å†…å­˜å­˜å‚¨ä½ç½®å€¼ï¼ˆValueï¼‰çš„æ•°æ®ç»“æ„ï¼Œå®ƒæ˜¯ç”±æ•°ç»„æ¼”åŒ–è€Œæ¥çš„ï¼Œåˆ©ç”¨äº†æ•°ç»„æ”¯æŒæŒ‰ç…§ä¸‹æ ‡è¿›è¡Œéšæœºè®¿é—®æ•°æ®çš„ç‰¹æ€§&lt;/p&gt;
&lt;p&gt;ä¸¾ä¸ªä¾‹å­ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230428200919454.png&#34; alt=&#34;image-20230428200919454&#34;&gt;&lt;/p&gt;
&lt;p&gt;å‡è®¾æœ‰100ä¸ªäººå‚åŠ é©¬æ‹‰æ¾ï¼Œç¼–å·æ˜¯1-100ï¼Œå¦‚æœè¦ç¼–ç¨‹å®ç°æ ¹æ®é€‰æ‰‹çš„ç¼–å·è¿…é€Ÿæ‰¾åˆ°é€‰æ‰‹ä¿¡æ¯ï¼Ÿ&lt;/p&gt;
&lt;p&gt;å¯ä»¥æŠŠé€‰æ‰‹ä¿¡æ¯å­˜å…¥æ•°ç»„ä¸­ï¼Œé€‰æ‰‹ç¼–å·å°±æ˜¯æ•°ç»„çš„ä¸‹æ ‡ï¼Œæ•°ç»„çš„å…ƒç´ å°±æ˜¯é€‰æ‰‹çš„ä¿¡æ¯ã€‚&lt;/p&gt;
&lt;p&gt;å½“æˆ‘ä»¬æŸ¥è¯¢é€‰æ‰‹ä¿¡æ¯çš„æ—¶å€™ï¼Œåªéœ€è¦æ ¹æ®é€‰æ‰‹çš„ç¼–å·åˆ°æ•°ç»„ä¸­æŸ¥è¯¢å¯¹åº”çš„å…ƒç´ å°±å¯ä»¥å¿«é€Ÿæ‰¾åˆ°é€‰æ‰‹çš„ä¿¡æ¯ï¼Œå¦‚ä¸‹å›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230428201000814.png&#34; alt=&#34;image-20230428201000814&#34;&gt;&lt;/p&gt;
&lt;p&gt;ç°åœ¨éœ€æ±‚å‡çº§äº†ï¼š&lt;/p&gt;
&lt;p&gt;å‡è®¾æœ‰100ä¸ªäººå‚åŠ é©¬æ‹‰æ¾ï¼Œä¸é‡‡ç”¨1-100çš„è‡ªç„¶æ•°å¯¹é€‰æ‰‹è¿›è¡Œç¼–å·ï¼Œç¼–å·æœ‰ä¸€å®šçš„è§„åˆ™æ¯”å¦‚ï¼š2023ZHBJ001ï¼Œå…¶ä¸­2023ä»£è¡¨å¹´ä»½ï¼ŒZHä»£è¡¨ä¸­å›½ï¼ŒBJä»£è¡¨åŒ—äº¬ï¼Œ001ä»£è¡¨åŸæ¥çš„ç¼–å·ï¼Œé‚£æ­¤æ—¶çš„ç¼–å·2023ZHBJ001ä¸èƒ½ç›´æ¥ä½œä¸ºæ•°ç»„çš„ä¸‹æ ‡ï¼Œæ­¤æ—¶åº”è¯¥å¦‚ä½•å®ç°å‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230428201321607.png&#34; alt=&#34;image-20230428201321607&#34;&gt;&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬ç›®å‰æ˜¯æŠŠé€‰æ‰‹çš„ä¿¡æ¯å­˜å…¥åˆ°æ•°ç»„ä¸­ï¼Œä¸è¿‡é€‰æ‰‹çš„ç¼–å·ä¸èƒ½ç›´æ¥ä½œä¸ºæ•°ç»„çš„ä¸‹æ ‡ï¼Œä¸è¿‡ï¼Œå¯ä»¥æŠŠé€‰æ‰‹çš„é€‰å·è¿›è¡Œè½¬æ¢ï¼Œè½¬æ¢ä¸ºæ•°å€¼å°±å¯ä»¥ç»§ç»­ä½œä¸ºæ•°ç»„çš„ä¸‹æ ‡äº†ï¼Ÿ&lt;/p&gt;
&lt;p&gt;è½¬æ¢å¯ä»¥ä½¿ç”¨æ•£åˆ—å‡½æ•°è¿›è¡Œè½¬æ¢&lt;/p&gt;
&lt;h4 id=&#34;æ•£åˆ—å‡½æ•°å’Œæ•£åˆ—å†²çª&#34;&gt;&lt;a href=&#34;#æ•£åˆ—å‡½æ•°å’Œæ•£åˆ—å†²çª&#34; class=&#34;headerlink&#34; title=&#34;æ•£åˆ—å‡½æ•°å’Œæ•£åˆ—å†²çª&#34;&gt;&lt;/a&gt;æ•£åˆ—å‡½æ•°å’Œæ•£åˆ—å†²çª&lt;/h4&gt;&lt;p&gt;å°†é”®(key)æ˜ å°„ä¸ºæ•°ç»„ä¸‹æ ‡çš„å‡½æ•°å«åšæ•£åˆ—å‡½æ•°ã€‚å¯ä»¥è¡¨ç¤ºä¸ºï¼šhashValue &amp;#x3D; hash(key)&lt;/p&gt;
&lt;p&gt;æ•£åˆ—å‡½æ•°çš„åŸºæœ¬è¦æ±‚ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;æ•£åˆ—å‡½æ•°è®¡ç®—å¾—åˆ°çš„æ•£åˆ—å€¼å¿…é¡»æ˜¯å¤§äºç­‰äº0çš„æ­£æ•´æ•°ï¼Œå› ä¸ºhashValueéœ€è¦ä½œä¸ºæ•°ç»„çš„ä¸‹æ ‡ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;å¦‚æœkey1&amp;#x3D;&amp;#x3D;key2ï¼Œé‚£ä¹ˆç»è¿‡hashåå¾—åˆ°çš„å“ˆå¸Œå€¼ä¹Ÿå¿…ç›¸åŒå³ï¼šhash(key1) &amp;#x3D;&amp;#x3D; hash(key2ï¼‰&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;å¦‚æœkey1 !&amp;#x3D; key2ï¼Œé‚£ä¹ˆç»è¿‡hashåå¾—åˆ°çš„å“ˆå¸Œå€¼ä¹Ÿå¿…ä¸ç›¸åŒå³ï¼šhash(key1) !&amp;#x3D; hash(key2)&lt;/strong&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å®é™…çš„æƒ…å†µä¸‹æƒ³æ‰¾ä¸€ä¸ªæ•£åˆ—å‡½æ•°èƒ½å¤Ÿåšåˆ°å¯¹äºä¸åŒçš„keyè®¡ç®—å¾—åˆ°çš„æ•£åˆ—å€¼éƒ½ä¸åŒå‡ ä¹æ˜¯ä¸å¯èƒ½çš„ï¼Œå³ä¾¿åƒè‘—åçš„MD5,SHAç­‰å“ˆå¸Œç®—æ³•ä¹Ÿæ— æ³•é¿å…è¿™ä¸€æƒ…å†µï¼Œè¿™å°±æ˜¯æ•£åˆ—å†²çª(æˆ–è€…å“ˆå¸Œå†²çªï¼Œå“ˆå¸Œç¢°æ’ï¼Œ&lt;strong&gt;å°±æ˜¯æŒ‡å¤šä¸ªkeyæ˜ å°„åˆ°åŒä¸€ä¸ªæ•°ç»„ä¸‹æ ‡ä½ç½®&lt;/strong&gt;)&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230428203219225.png&#34; alt=&#34;image-20230428203219225&#34;&gt;&lt;/p&gt;
&lt;h4 id=&#34;æ•£åˆ—å†²çª-é“¾è¡¨æ³•ï¼ˆæ‹‰é“¾ï¼‰&#34;&gt;&lt;a href=&#34;#æ•£åˆ—å†²çª-é“¾è¡¨æ³•ï¼ˆæ‹‰é“¾ï¼‰&#34; class=&#34;headerlink&#34; title=&#34;æ•£åˆ—å†²çª-é“¾è¡¨æ³•ï¼ˆæ‹‰é“¾ï¼‰&#34;&gt;&lt;/a&gt;æ•£åˆ—å†²çª-é“¾è¡¨æ³•ï¼ˆæ‹‰é“¾ï¼‰&lt;/h4&gt;&lt;p&gt;åœ¨æ•£åˆ—è¡¨ä¸­ï¼Œæ•°ç»„çš„æ¯ä¸ªä¸‹æ ‡ä½ç½®æˆ‘ä»¬å¯ä»¥ç§°ä¹‹ä¸ºæ¡¶ï¼ˆbucketï¼‰æˆ–è€…æ§½ï¼ˆslotï¼‰ï¼Œæ¯ä¸ªæ¡¶(æ§½)ä¼šå¯¹åº”ä¸€æ¡é“¾è¡¨ï¼Œæ‰€æœ‰æ•£åˆ—å€¼ç›¸åŒçš„å…ƒç´ æˆ‘ä»¬éƒ½æ”¾åˆ°ç›¸åŒæ§½ä½å¯¹åº”çš„é“¾è¡¨ä¸­ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230428203437910.png&#34; alt=&#34;image-20230428203437910&#34;&gt;&lt;/p&gt;
&lt;p&gt;ç®€å•å°±æ˜¯ï¼Œå¦‚æœæœ‰å¤šä¸ªkeyæœ€ç»ˆçš„hashå€¼æ˜¯ä¸€æ ·çš„ï¼Œå°±ä¼šå­˜å…¥æ•°ç»„çš„åŒä¸€ä¸ªä¸‹æ ‡ä¸­ï¼Œä¸‹æ ‡ä¸­æŒ‚ä¸€ä¸ªé“¾è¡¨å­˜å…¥å¤šä¸ªæ•°æ®&lt;/p&gt;
&lt;h4 id=&#34;æ—¶é—´å¤æ‚åº¦-æ•£åˆ—è¡¨&#34;&gt;&lt;a href=&#34;#æ—¶é—´å¤æ‚åº¦-æ•£åˆ—è¡¨&#34; class=&#34;headerlink&#34; title=&#34;æ—¶é—´å¤æ‚åº¦-æ•£åˆ—è¡¨&#34;&gt;&lt;/a&gt;æ—¶é—´å¤æ‚åº¦-æ•£åˆ—è¡¨&lt;/h4&gt;&lt;p&gt;1ï¼Œæ’å…¥æ“ä½œï¼Œé€šè¿‡æ•£åˆ—å‡½æ•°è®¡ç®—å‡ºå¯¹åº”çš„æ•£åˆ—æ§½ä½ï¼Œå°†å…¶æ’å…¥åˆ°å¯¹åº”é“¾è¡¨ä¸­å³å¯ï¼Œæ’å…¥çš„æ—¶é—´å¤æ‚åº¦æ˜¯ O(1)&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230428203711269.png&#34; alt=&#34;image-20230428203711269&#34;&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;é€šè¿‡è®¡ç®—å°±å¯ä»¥æ‰¾åˆ°å…ƒç´ &lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;2ï¼Œå½“æŸ¥æ‰¾ã€åˆ é™¤ä¸€ä¸ªå…ƒç´ æ—¶ï¼Œæˆ‘ä»¬åŒæ ·é€šè¿‡æ•£åˆ—å‡½æ•°è®¡ç®—å‡ºå¯¹åº”çš„æ§½ï¼Œç„¶åéå†é“¾è¡¨æŸ¥æ‰¾æˆ–è€…åˆ é™¤&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;å¹³å‡æƒ…å†µä¸‹åŸºäºé“¾è¡¨æ³•è§£å†³å†²çªæ—¶æŸ¥è¯¢çš„æ—¶é—´å¤æ‚åº¦æ˜¯O(1)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;æ•£åˆ—è¡¨å¯èƒ½ä¼šé€€åŒ–ä¸ºé“¾è¡¨,æŸ¥è¯¢çš„æ—¶é—´å¤æ‚åº¦å°±ä» O(1) é€€åŒ–ä¸º O(n)&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230428203858903.png&#34; alt=&#34;image-20230428203858903&#34;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å°†é“¾è¡¨æ³•ä¸­çš„é“¾è¡¨æ”¹é€ ä¸ºå…¶ä»–é«˜æ•ˆçš„åŠ¨æ€æ•°æ®ç»“æ„ï¼Œæ¯”å¦‚çº¢é»‘æ ‘ï¼ŒæŸ¥è¯¢çš„æ—¶é—´å¤æ‚åº¦æ˜¯ O(logn)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230428203924816.png&#34; alt=&#34;image-20230428203924816&#34;&gt;&lt;/p&gt;
&lt;p&gt;å°†é“¾è¡¨æ³•ä¸­çš„é“¾è¡¨æ”¹é€ çº¢é»‘æ ‘è¿˜æœ‰ä¸€ä¸ªéå¸¸é‡è¦çš„åŸå› ï¼Œå¯ä»¥é˜²æ­¢DDosæ”»å‡»&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;DDos æ”»å‡»:&lt;/p&gt;
&lt;p&gt;åˆ†å¸ƒå¼æ‹’ç»æœåŠ¡æ”»å‡»(è‹±æ–‡æ„æ€æ˜¯Distributed Denial of Serviceï¼Œç®€ç§°DDoSï¼‰&lt;/p&gt;
&lt;p&gt;æŒ‡å¤„äºä¸åŒä½ç½®çš„å¤šä¸ªæ”»å‡»è€…åŒæ—¶å‘ä¸€ä¸ªæˆ–æ•°ä¸ªç›®æ ‡å‘åŠ¨æ”»å‡»ï¼Œæˆ–è€…ä¸€ä¸ªæ”»å‡»è€…æ§åˆ¶äº†ä½äºä¸åŒä½ç½®çš„å¤šå°æœºå™¨å¹¶åˆ©ç”¨è¿™äº›æœºå™¨å¯¹å—å®³è€…åŒæ—¶å®æ–½æ”»å‡»ã€‚ç”±äºæ”»å‡»çš„å‘å‡ºç‚¹æ˜¯åˆ†å¸ƒåœ¨ä¸åŒåœ°æ–¹çš„ï¼Œè¿™ç±»æ”»å‡»ç§°ä¸ºåˆ†å¸ƒå¼æ‹’ç»æœåŠ¡æ”»å‡»ï¼Œå…¶ä¸­çš„æ”»å‡»è€…å¯ä»¥æœ‰å¤šä¸ª&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•é¢˜-è¯´ä¸€ä¸‹HashMapçš„å®ç°åŸç†ï¼Ÿ&#34;&gt;&lt;a href=&#34;#é¢è¯•é¢˜-è¯´ä¸€ä¸‹HashMapçš„å®ç°åŸç†ï¼Ÿ&#34; class=&#34;headerlink&#34; title=&#34;é¢è¯•é¢˜-è¯´ä¸€ä¸‹HashMapçš„å®ç°åŸç†ï¼Ÿ&#34;&gt;&lt;/a&gt;é¢è¯•é¢˜-è¯´ä¸€ä¸‹HashMapçš„å®ç°åŸç†ï¼Ÿ&lt;/h3&gt;&lt;p&gt;HashMapçš„æ•°æ®ç»“æ„ï¼š åº•å±‚ä½¿ç”¨hashè¡¨æ•°æ®ç»“æ„ï¼Œå³æ•°ç»„å’Œé“¾è¡¨æˆ–çº¢é»‘æ ‘&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;p&gt;å½“æˆ‘ä»¬å¾€HashMapä¸­putå…ƒç´ æ—¶ï¼Œåˆ©ç”¨keyçš„hashCodeé‡æ–°hashè®¡ç®—å‡ºå½“å‰å¯¹è±¡çš„å…ƒç´ åœ¨æ•°ç»„ä¸­çš„ä¸‹æ ‡ &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;å­˜å‚¨æ—¶ï¼Œå¦‚æœå‡ºç°hashå€¼ç›¸åŒçš„keyï¼Œæ­¤æ—¶æœ‰ä¸¤ç§æƒ…å†µã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;  a. å¦‚æœkeyç›¸åŒï¼Œåˆ™è¦†ç›–åŸå§‹å€¼ï¼›&lt;/p&gt;
&lt;p&gt;  b. å¦‚æœkeyä¸åŒï¼ˆå‡ºç°å†²çªï¼‰ï¼Œåˆ™å°†å½“å‰çš„key-valueæ”¾å…¥é“¾è¡¨æˆ–çº¢é»‘æ ‘ä¸­ &lt;/p&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;è·å–æ—¶ï¼Œç›´æ¥æ‰¾åˆ°hashå€¼å¯¹åº”çš„ä¸‹æ ‡ï¼Œåœ¨è¿›ä¸€æ­¥åˆ¤æ–­keyæ˜¯å¦ç›¸åŒï¼Œä»è€Œæ‰¾åˆ°å¯¹åº”å€¼ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230428204902016.png&#34; alt=&#34;image-20230428204902016&#34;&gt;&lt;/p&gt;
&lt;p&gt;é¢è¯•å®˜è¿½é—®ï¼šHashMapçš„jdk1.7å’Œjdk1.8æœ‰ä»€ä¹ˆåŒºåˆ«&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;JDK1.8ä¹‹å‰é‡‡ç”¨çš„æ˜¯æ‹‰é“¾æ³•ã€‚æ‹‰é“¾æ³•ï¼šå°†é“¾è¡¨å’Œæ•°ç»„ç›¸ç»“åˆã€‚ä¹Ÿå°±æ˜¯è¯´åˆ›å»ºä¸€ä¸ªé“¾è¡¨æ•°ç»„ï¼Œæ•°ç»„ä¸­æ¯ä¸€æ ¼å°±æ˜¯ä¸€ä¸ªé“¾è¡¨ã€‚è‹¥é‡åˆ°å“ˆå¸Œå†²çªï¼Œåˆ™å°†å†²çªçš„å€¼åŠ åˆ°é“¾è¡¨ä¸­å³å¯ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;jdk1.8åœ¨è§£å†³å“ˆå¸Œå†²çªæ—¶æœ‰äº†è¾ƒå¤§çš„å˜åŒ–ï¼Œå½“é“¾è¡¨é•¿åº¦å¤§äºé˜ˆå€¼ï¼ˆé»˜è®¤ä¸º8ï¼‰ æ—¶å¹¶ä¸”æ•°ç»„é•¿åº¦è¾¾åˆ°64æ—¶ï¼Œå°†é“¾è¡¨è½¬åŒ–ä¸ºçº¢é»‘æ ‘ï¼Œä»¥å‡å°‘æœç´¢æ—¶é—´ã€‚æ‰©å®¹ resize( ) æ—¶ï¼Œçº¢é»‘æ ‘æ‹†åˆ†æˆçš„æ ‘çš„ç»“ç‚¹æ•°å°äºç­‰äºä¸´ç•Œå€¼6ä¸ªï¼Œåˆ™é€€åŒ–æˆé“¾è¡¨&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;é¢è¯•é¢˜-HashMapçš„putæ–¹æ³•çš„å…·ä½“æµç¨‹&#34;&gt;&lt;a href=&#34;#é¢è¯•é¢˜-HashMapçš„putæ–¹æ³•çš„å…·ä½“æµç¨‹&#34; class=&#34;headerlink&#34; title=&#34;é¢è¯•é¢˜-HashMapçš„putæ–¹æ³•çš„å…·ä½“æµç¨‹&#34;&gt;&lt;/a&gt;é¢è¯•é¢˜-HashMapçš„putæ–¹æ³•çš„å…·ä½“æµç¨‹&lt;/h3&gt;&lt;h4 id=&#34;hashMapå¸¸è§å±æ€§&#34;&gt;&lt;a href=&#34;#hashMapå¸¸è§å±æ€§&#34; class=&#34;headerlink&#34; title=&#34;hashMapå¸¸è§å±æ€§&#34;&gt;&lt;/a&gt;hashMapå¸¸è§å±æ€§&lt;/h4&gt;&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230428210404117.png&#34; alt=&#34;image-20230428210404117&#34;&gt;&lt;/p&gt;
&lt;h4 id=&#34;æºç åˆ†æ&#34;&gt;&lt;a href=&#34;#æºç åˆ†æ&#34; class=&#34;headerlink&#34; title=&#34;æºç åˆ†æ&#34;&gt;&lt;/a&gt;æºç åˆ†æ&lt;/h4&gt;&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230428210450744.png&#34; alt=&#34;image-20230428210450744&#34;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;HashMapæ˜¯æ‡’æƒ°åŠ è½½ï¼Œåœ¨åˆ›å»ºå¯¹è±¡æ—¶å¹¶æ²¡æœ‰åˆå§‹åŒ–æ•°ç»„&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;åœ¨æ— å‚çš„æ„é€ å‡½æ•°ä¸­ï¼Œè®¾ç½®äº†é»˜è®¤çš„åŠ è½½å› å­æ˜¯0.75&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æ·»åŠ æ•°æ®æµç¨‹å›¾&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230428210624847.png&#34; alt=&#34;image-20230428210624847&#34;&gt;&lt;/p&gt;
&lt;p&gt;å…·ä½“çš„æºç ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;java&#34;&gt;public V put(K key, V value) &amp;#123;
    return putVal(hash(key), key, value, false, true);
&amp;#125;

final V putVal(int hash, K key, V value, boolean onlyIfAbsent,
                   boolean evict) &amp;#123;
    Node&amp;lt;K,V&amp;gt;[] tab; Node&amp;lt;K,V&amp;gt; p; int n, i;
    //åˆ¤æ–­æ•°ç»„æ˜¯å¦æœªåˆå§‹åŒ–
    if ((tab = table) == null || (n = tab.length) == 0)
        //å¦‚æœæœªåˆå§‹åŒ–ï¼Œè°ƒç”¨resizeæ–¹æ³• è¿›è¡Œåˆå§‹åŒ–
        n = (tab = resize()).length;
    //é€šè¿‡ &amp;amp; è¿ç®—æ±‚å‡ºè¯¥æ•°æ®ï¼ˆkeyï¼‰çš„æ•°ç»„ä¸‹æ ‡å¹¶åˆ¤æ–­è¯¥ä¸‹æ ‡ä½ç½®æ˜¯å¦æœ‰æ•°æ®
    if ((p = tab[i = (n - 1) &amp;amp; hash]) == null)
        //å¦‚æœæ²¡æœ‰ï¼Œç›´æ¥å°†æ•°æ®æ”¾åœ¨è¯¥ä¸‹æ ‡ä½ç½®
        tab[i] = newNode(hash, key, value, null);
    //è¯¥æ•°ç»„ä¸‹æ ‡æœ‰æ•°æ®çš„æƒ…å†µ
    else &amp;#123;
        Node&amp;lt;K,V&amp;gt; e; K k;
        //åˆ¤æ–­è¯¥ä½ç½®æ•°æ®çš„keyå’Œæ–°æ¥çš„æ•°æ®æ˜¯å¦ä¸€æ ·
        if (p.hash == hash &amp;amp;&amp;amp;
            ((k = p.key) == key || (key != null &amp;amp;&amp;amp; key.equals(k))))
            //å¦‚æœä¸€æ ·ï¼Œè¯æ˜ä¸ºä¿®æ”¹æ“ä½œï¼Œè¯¥èŠ‚ç‚¹çš„æ•°æ®èµ‹å€¼ç»™e,åè¾¹ä¼šç”¨åˆ°
            e = p;
        //åˆ¤æ–­æ˜¯ä¸æ˜¯çº¢é»‘æ ‘
        else if (p instanceof TreeNode)
            //å¦‚æœæ˜¯çº¢é»‘æ ‘çš„è¯ï¼Œè¿›è¡Œçº¢é»‘æ ‘çš„æ“ä½œ
            e = ((TreeNode&amp;lt;K,V&amp;gt;)p).putTreeVal(this, tab, hash, key, value);
        //æ–°æ•°æ®å’Œå½“å‰æ•°ç»„æ—¢ä¸ç›¸åŒï¼Œä¹Ÿä¸æ˜¯çº¢é»‘æ ‘èŠ‚ç‚¹ï¼Œè¯æ˜æ˜¯é“¾è¡¨
        else &amp;#123;
            //éå†é“¾è¡¨
            for (int binCount = 0; ; ++binCount) &amp;#123;
                //åˆ¤æ–­nextèŠ‚ç‚¹ï¼Œå¦‚æœä¸ºç©ºçš„è¯ï¼Œè¯æ˜éå†åˆ°é“¾è¡¨å°¾éƒ¨äº†
                if ((e = p.next) == null) &amp;#123;
                    //æŠŠæ–°å€¼æ”¾å…¥é“¾è¡¨å°¾éƒ¨
                    p.next = newNode(hash, key, value, null);
                    //å› ä¸ºæ–°æ’å…¥äº†ä¸€æ¡æ•°æ®ï¼Œæ‰€ä»¥åˆ¤æ–­é“¾è¡¨é•¿åº¦æ˜¯ä¸æ˜¯å¤§äºç­‰äº8
                    if (binCount &amp;gt;= TREEIFY_THRESHOLD - 1) // -1 for 1st
                        //å¦‚æœæ˜¯ï¼Œè¿›è¡Œè½¬æ¢çº¢é»‘æ ‘æ“ä½œ
                        treeifyBin(tab, hash);
                    break;
                &amp;#125;
                //åˆ¤æ–­é“¾è¡¨å½“ä¸­æœ‰æ•°æ®ç›¸åŒçš„å€¼ï¼Œå¦‚æœä¸€æ ·ï¼Œè¯æ˜ä¸ºä¿®æ”¹æ“ä½œ
                if (e.hash == hash &amp;amp;&amp;amp;
                    ((k = e.key) == key || (key != null &amp;amp;&amp;amp; key.equals(k))))
                    break;
                //æŠŠä¸‹ä¸€ä¸ªèŠ‚ç‚¹èµ‹å€¼ä¸ºå½“å‰èŠ‚ç‚¹
                p = e;
            &amp;#125;
        &amp;#125;
        //åˆ¤æ–­eæ˜¯å¦ä¸ºç©ºï¼ˆeå€¼ä¸ºä¿®æ”¹æ“ä½œå­˜æ”¾åŸæ•°æ®çš„å˜é‡ï¼‰
        if (e != null) &amp;#123; // existing mapping for key
            //ä¸ä¸ºç©ºçš„è¯è¯æ˜æ˜¯ä¿®æ”¹æ“ä½œï¼Œå–å‡ºè€å€¼
            V oldValue = e.value;
            //ä¸€å®šä¼šæ‰§è¡Œ  onlyIfAbsentä¼ è¿›æ¥çš„æ˜¯false
            if (!onlyIfAbsent || oldValue == null)
                //å°†æ–°å€¼èµ‹å€¼å½“å‰èŠ‚ç‚¹
                e.value = value;
            afterNodeAccess(e);
            //è¿”å›è€å€¼
            return oldValue;
        &amp;#125;
    &amp;#125;
    //è®¡æ•°å™¨ï¼Œè®¡ç®—å½“å‰èŠ‚ç‚¹çš„ä¿®æ”¹æ¬¡æ•°
    ++modCount;
    //å½“å‰æ•°ç»„ä¸­çš„æ•°æ®æ•°é‡å¦‚æœå¤§äºæ‰©å®¹é˜ˆå€¼
    if (++size &amp;gt; threshold)
        //è¿›è¡Œæ‰©å®¹æ“ä½œ
        resize();
    //ç©ºæ–¹æ³•
    afterNodeInsertion(evict);
    //æ·»åŠ æ“ä½œæ—¶ è¿”å›ç©ºå€¼
    return null;
&amp;#125;
&lt;/code&gt;&lt;/pre&gt;
&lt;ol&gt;
&lt;li&gt;&lt;p&gt;åˆ¤æ–­é”®å€¼å¯¹æ•°ç»„tableæ˜¯å¦ä¸ºç©ºæˆ–ä¸ºnullï¼Œå¦åˆ™æ‰§è¡Œresize()è¿›è¡Œæ‰©å®¹ï¼ˆåˆå§‹åŒ–ï¼‰&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;æ ¹æ®é”®å€¼keyè®¡ç®—hashå€¼å¾—åˆ°æ•°ç»„ç´¢å¼•&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;åˆ¤æ–­table[i]&amp;#x3D;&amp;#x3D;nullï¼Œæ¡ä»¶æˆç«‹ï¼Œç›´æ¥æ–°å»ºèŠ‚ç‚¹æ·»åŠ &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;å¦‚æœtable[i]&amp;#x3D;&amp;#x3D;null ,ä¸æˆç«‹&lt;/p&gt;
&lt;p&gt;4.1 åˆ¤æ–­table[i]çš„é¦–ä¸ªå…ƒç´ æ˜¯å¦å’Œkeyä¸€æ ·ï¼Œå¦‚æœç›¸åŒç›´æ¥è¦†ç›–value&lt;/p&gt;
&lt;p&gt;4.2 åˆ¤æ–­table[i] æ˜¯å¦ä¸ºtreeNodeï¼Œå³table[i] æ˜¯å¦æ˜¯çº¢é»‘æ ‘ï¼Œå¦‚æœæ˜¯çº¢é»‘æ ‘ï¼Œåˆ™ç›´æ¥åœ¨æ ‘ä¸­æ’å…¥é”®å€¼å¯¹&lt;/p&gt;
&lt;p&gt;4.3 éå†table[i]ï¼Œé“¾è¡¨çš„å°¾éƒ¨æ’å…¥æ•°æ®ï¼Œç„¶ååˆ¤æ–­é“¾è¡¨é•¿åº¦æ˜¯å¦å¤§äº8ï¼Œå¤§äº8çš„è¯æŠŠé“¾è¡¨è½¬æ¢ä¸ºçº¢é»‘æ ‘ï¼Œåœ¨çº¢é»‘æ ‘ä¸­æ‰§è¡Œæ’å…¥æ“ ä½œï¼Œéå†è¿‡ç¨‹ä¸­è‹¥å‘ç°keyå·²ç»å­˜åœ¨ç›´æ¥è¦†ç›–value&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;æ’å…¥æˆåŠŸåï¼Œåˆ¤æ–­å®é™…å­˜åœ¨çš„é”®å€¼å¯¹æ•°é‡sizeæ˜¯å¦è¶…å¤šäº†æœ€å¤§å®¹é‡thresholdï¼ˆæ•°ç»„é•¿åº¦*0.75ï¼‰ï¼Œå¦‚æœè¶…è¿‡ï¼Œè¿›è¡Œæ‰©å®¹ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;é¢è¯•é¢˜-è®²ä¸€è®²HashMapçš„æ‰©å®¹æœºåˆ¶&#34;&gt;&lt;a href=&#34;#é¢è¯•é¢˜-è®²ä¸€è®²HashMapçš„æ‰©å®¹æœºåˆ¶&#34; class=&#34;headerlink&#34; title=&#34;é¢è¯•é¢˜-è®²ä¸€è®²HashMapçš„æ‰©å®¹æœºåˆ¶&#34;&gt;&lt;/a&gt;é¢è¯•é¢˜-è®²ä¸€è®²HashMapçš„æ‰©å®¹æœºåˆ¶&lt;/h3&gt;&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230428210844694.png&#34; alt=&#34;image-20230428210844694&#34;&gt;&lt;/p&gt;
&lt;p&gt;æ‰©å®¹çš„æµç¨‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230428211031968.png&#34; alt=&#34;image-20230428211031968&#34;&gt;&lt;/p&gt;
&lt;p&gt;æºç ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;java&#34;&gt;//æ‰©å®¹ã€åˆå§‹åŒ–æ•°ç»„
final Node&amp;lt;K,V&amp;gt;[] resize() &amp;#123;
        Node&amp;lt;K,V&amp;gt;[] oldTab = table;
        //å¦‚æœå½“å‰æ•°ç»„ä¸ºnullçš„æ—¶å€™ï¼ŒæŠŠoldCapè€æ•°ç»„å®¹é‡è®¾ç½®ä¸º0
        int oldCap = (oldTab == null) ? 0 : oldTab.length;
        //è€çš„æ‰©å®¹é˜ˆå€¼
        int oldThr = threshold;
        int newCap, newThr = 0;
        //åˆ¤æ–­æ•°ç»„å®¹é‡æ˜¯å¦å¤§äº0ï¼Œå¤§äº0è¯´æ˜æ•°ç»„å·²ç»åˆå§‹åŒ–
        if (oldCap &amp;gt; 0) &amp;#123;
            //åˆ¤æ–­å½“å‰æ•°ç»„é•¿åº¦æ˜¯å¦å¤§äºæœ€å¤§æ•°ç»„é•¿åº¦
            if (oldCap &amp;gt;= MAXIMUM_CAPACITY) &amp;#123;
                //å¦‚æœæ˜¯ï¼Œå°†æ‰©å®¹é˜ˆå€¼ç›´æ¥è®¾ç½®ä¸ºintç±»å‹çš„æœ€å¤§æ•°å€¼å¹¶ç›´æ¥è¿”å›
                threshold = Integer.MAX_VALUE;
                return oldTab;
            &amp;#125;
            //å¦‚æœåœ¨æœ€å¤§é•¿åº¦èŒƒå›´å†…ï¼Œåˆ™éœ€è¦æ‰©å®¹  OldCap &amp;lt;&amp;lt; 1ç­‰ä»·äºoldCap*2
            //è¿ç®—è¿‡ååˆ¤æ–­æ˜¯ä¸æ˜¯æœ€å¤§å€¼å¹¶ä¸”oldCapéœ€è¦å¤§äº16
            else if ((newCap = oldCap &amp;lt;&amp;lt; 1) &amp;lt; MAXIMUM_CAPACITY &amp;amp;&amp;amp;
                     oldCap &amp;gt;= DEFAULT_INITIAL_CAPACITY)
                newThr = oldThr &amp;lt;&amp;lt; 1; // double threshold  ç­‰ä»·äºoldThr*2
        &amp;#125;
        //å¦‚æœoldCap&amp;lt;0ï¼Œä½†æ˜¯å·²ç»åˆå§‹åŒ–äº†ï¼ŒåƒæŠŠå…ƒç´ åˆ é™¤å®Œä¹‹åçš„æƒ…å†µï¼Œé‚£ä¹ˆå®ƒçš„ä¸´ç•Œå€¼è‚¯å®šè¿˜å­˜åœ¨ï¼Œ       			å¦‚æœæ˜¯é¦–æ¬¡åˆå§‹åŒ–ï¼Œå®ƒçš„ä¸´ç•Œå€¼åˆ™ä¸º0
        else if (oldThr &amp;gt; 0) // initial capacity was placed in threshold
            newCap = oldThr;
        //æ•°ç»„æœªåˆå§‹åŒ–çš„æƒ…å†µï¼Œå°†é˜ˆå€¼å’Œæ‰©å®¹å› å­éƒ½è®¾ç½®ä¸ºé»˜è®¤å€¼
        else &amp;#123;               // zero initial threshold signifies using defaults
            newCap = DEFAULT_INITIAL_CAPACITY;
            newThr = (int)(DEFAULT_LOAD_FACTOR * DEFAULT_INITIAL_CAPACITY);
        &amp;#125;
        //åˆå§‹åŒ–å®¹é‡å°äº16çš„æ—¶å€™ï¼Œæ‰©å®¹é˜ˆå€¼æ˜¯æ²¡æœ‰èµ‹å€¼çš„
        if (newThr == 0) &amp;#123;
            //åˆ›å»ºé˜ˆå€¼
            float ft = (float)newCap * loadFactor;
            //åˆ¤æ–­æ–°å®¹é‡å’Œæ–°é˜ˆå€¼æ˜¯å¦å¤§äºæœ€å¤§å®¹é‡
            newThr = (newCap &amp;lt; MAXIMUM_CAPACITY &amp;amp;&amp;amp; ft &amp;lt; (float)MAXIMUM_CAPACITY ?
                      (int)ft : Integer.MAX_VALUE);
        &amp;#125;
        //è®¡ç®—å‡ºæ¥çš„é˜ˆå€¼èµ‹å€¼
        threshold = newThr;
        @SuppressWarnings(&amp;#123;&amp;quot;rawtypes&amp;quot;,&amp;quot;unchecked&amp;quot;&amp;#125;)
        //æ ¹æ®ä¸Šè¾¹è®¡ç®—å¾—å‡ºçš„å®¹é‡ åˆ›å»ºæ–°çš„æ•°ç»„       
        Node&amp;lt;K,V&amp;gt;[] newTab = (Node&amp;lt;K,V&amp;gt;[])new Node[newCap];
        //èµ‹å€¼
        table = newTab;
        //æ‰©å®¹æ“ä½œï¼Œåˆ¤æ–­ä¸ä¸ºç©ºè¯æ˜ä¸æ˜¯åˆå§‹åŒ–æ•°ç»„
        if (oldTab != null) &amp;#123;
            //éå†æ•°ç»„
            for (int j = 0; j &amp;lt; oldCap; ++j) &amp;#123;
                Node&amp;lt;K,V&amp;gt; e;
                //åˆ¤æ–­å½“å‰ä¸‹æ ‡ä¸ºjçš„æ•°ç»„å¦‚æœä¸ä¸ºç©ºçš„è¯èµ‹å€¼ä¸ªeï¼Œè¿›è¡Œä¸‹ä¸€æ­¥æ“ä½œ
                if ((e = oldTab[j]) != null) &amp;#123;
                    //å°†æ•°ç»„ä½ç½®ç½®ç©º
                    oldTab[j] = null;
                    //åˆ¤æ–­æ˜¯å¦æœ‰ä¸‹ä¸ªèŠ‚ç‚¹
                    if (e.next == null)
                        //å¦‚æœæ²¡æœ‰ï¼Œå°±é‡æ–°è®¡ç®—åœ¨æ–°æ•°ç»„ä¸­çš„ä¸‹æ ‡å¹¶æ”¾è¿›å»
                        newTab[e.hash &amp;amp; (newCap - 1)] = e;
                       //æœ‰ä¸‹ä¸ªèŠ‚ç‚¹çš„æƒ…å†µï¼Œå¹¶ä¸”åˆ¤æ–­æ˜¯å¦å·²ç»æ ‘åŒ–
                    else if (e instanceof TreeNode)
                        //è¿›è¡Œçº¢é»‘æ ‘çš„æ“ä½œ
                        ((TreeNode&amp;lt;K,V&amp;gt;)e).split(this, newTab, j, oldCap);
                    //æœ‰ä¸‹ä¸ªèŠ‚ç‚¹çš„æƒ…å†µï¼Œå¹¶ä¸”æ²¡æœ‰æ ‘åŒ–ï¼ˆé“¾è¡¨å½¢å¼ï¼‰
                    else &amp;#123;
                        //æ¯”å¦‚è€æ•°ç»„å®¹é‡æ˜¯16ï¼Œé‚£ä¸‹æ ‡å°±ä¸º0-15
                        //æ‰©å®¹æ“ä½œ*2ï¼Œå®¹é‡å°±å˜ä¸º32ï¼Œä¸‹æ ‡ä¸º0-31
                        //ä½ä½ï¼š0-15ï¼Œé«˜ä½16-31
                        //å®šä¹‰äº†å››ä¸ªå˜é‡
                        //        ä½ä½å¤´          ä½ä½å°¾
                        Node&amp;lt;K,V&amp;gt; loHead = null, loTail = null;
                        //        é«˜ä½å¤´		   é«˜ä½å°¾
                        Node&amp;lt;K,V&amp;gt; hiHead = null, hiTail = null;
                        //ä¸‹ä¸ªèŠ‚ç‚¹
                        Node&amp;lt;K,V&amp;gt; next;
                        //å¾ªç¯éå†
                        do &amp;#123;
                            //å–å‡ºnextèŠ‚ç‚¹
                            next = e.next;
                            //é€šè¿‡ ä¸æ“ä½œ è®¡ç®—å¾—å‡ºç»“æœä¸º0
                            if ((e.hash &amp;amp; oldCap) == 0) &amp;#123;
                                //å¦‚æœä½ä½å°¾ä¸ºnullï¼Œè¯æ˜å½“å‰æ•°ç»„ä½ç½®ä¸ºç©ºï¼Œæ²¡æœ‰ä»»ä½•æ•°æ®
                                if (loTail == null)
                                    //å°†eå€¼æ”¾å…¥ä½ä½å¤´
                                    loHead = e;
                                //ä½ä½å°¾ä¸ä¸ºnullï¼Œè¯æ˜å·²ç»æœ‰æ•°æ®äº†
                                else
                                    //å°†æ•°æ®æ”¾å…¥nextèŠ‚ç‚¹
                                    loTail.next = e;
                                //è®°å½•ä½ä½å°¾æ•°æ®
                                loTail = e;
                            &amp;#125;
                            //é€šè¿‡ ä¸æ“ä½œ è®¡ç®—å¾—å‡ºç»“æœä¸ä¸º0
                            else &amp;#123;
                                 //å¦‚æœé«˜ä½å°¾ä¸ºnullï¼Œè¯æ˜å½“å‰æ•°ç»„ä½ç½®ä¸ºç©ºï¼Œæ²¡æœ‰ä»»ä½•æ•°æ®
                                if (hiTail == null)
                                    //å°†eå€¼æ”¾å…¥é«˜ä½å¤´
                                    hiHead = e;
                                //é«˜ä½å°¾ä¸ä¸ºnullï¼Œè¯æ˜å·²ç»æœ‰æ•°æ®äº†
                                else
                                    //å°†æ•°æ®æ”¾å…¥nextèŠ‚ç‚¹
                                    hiTail.next = e;
                               //è®°å½•é«˜ä½å°¾æ•°æ®
                                   hiTail = e;
                            &amp;#125;
                            
                        &amp;#125; 
                        //å¦‚æœeä¸ä¸ºç©ºï¼Œè¯æ˜æ²¡æœ‰åˆ°é“¾è¡¨å°¾éƒ¨ï¼Œç»§ç»­æ‰§è¡Œå¾ªç¯
                        while ((e = next) != null);
                        //ä½ä½å°¾å¦‚æœè®°å½•çš„æœ‰æ•°æ®ï¼Œæ˜¯é“¾è¡¨
                        if (loTail != null) &amp;#123;
                            //å°†ä¸‹ä¸€ä¸ªå…ƒç´ ç½®ç©º
                            loTail.next = null;
                            //å°†ä½ä½å¤´æ”¾å…¥æ–°æ•°ç»„çš„åŸä¸‹æ ‡ä½ç½®
                            newTab[j] = loHead;
                        &amp;#125;
                        //é«˜ä½å°¾å¦‚æœè®°å½•çš„æœ‰æ•°æ®ï¼Œæ˜¯é“¾è¡¨
                        if (hiTail != null) &amp;#123;
                            //å°†ä¸‹ä¸€ä¸ªå…ƒç´ ç½®ç©º
                            hiTail.next = null;
                            //å°†é«˜ä½å¤´æ”¾å…¥æ–°æ•°ç»„çš„(åŸä¸‹æ ‡+åŸæ•°ç»„å®¹é‡)ä½ç½®
                            newTab[j + oldCap] = hiHead;
                        &amp;#125;
                    &amp;#125;
                &amp;#125;
            &amp;#125;
        &amp;#125;
        //è¿”å›æ–°çš„æ•°ç»„å¯¹è±¡
        return newTab;
    &amp;#125;
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;åœ¨æ·»åŠ å…ƒç´ æˆ–åˆå§‹åŒ–çš„æ—¶å€™éœ€è¦è°ƒç”¨resizeæ–¹æ³•è¿›è¡Œæ‰©å®¹ï¼Œç¬¬ä¸€æ¬¡æ·»åŠ æ•°æ®åˆå§‹åŒ–æ•°ç»„é•¿åº¦ä¸º16ï¼Œä»¥åæ¯æ¬¡æ¯æ¬¡æ‰©å®¹éƒ½æ˜¯è¾¾åˆ°äº†æ‰©å®¹é˜ˆå€¼ï¼ˆæ•°ç»„é•¿åº¦ * 0.75ï¼‰&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;æ¯æ¬¡æ‰©å®¹çš„æ—¶å€™ï¼Œéƒ½æ˜¯æ‰©å®¹ä¹‹å‰å®¹é‡çš„2å€ï¼› &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;æ‰©å®¹ä¹‹åï¼Œä¼šæ–°åˆ›å»ºä¸€ä¸ªæ•°ç»„ï¼Œéœ€è¦æŠŠè€æ•°ç»„ä¸­çš„æ•°æ®æŒªåŠ¨åˆ°æ–°çš„æ•°ç»„ä¸­&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ²¡æœ‰hashå†²çªçš„èŠ‚ç‚¹ï¼Œåˆ™ç›´æ¥ä½¿ç”¨ e.hash &amp;amp; (newCap - 1) è®¡ç®—æ–°æ•°ç»„çš„ç´¢å¼•ä½ç½®&lt;/li&gt;
&lt;li&gt;å¦‚æœæ˜¯çº¢é»‘æ ‘ï¼Œèµ°çº¢é»‘æ ‘çš„æ·»åŠ &lt;/li&gt;
&lt;li&gt;å¦‚æœæ˜¯é“¾è¡¨ï¼Œåˆ™éœ€è¦éå†é“¾è¡¨ï¼Œå¯èƒ½éœ€è¦æ‹†åˆ†é“¾è¡¨ï¼Œåˆ¤æ–­(e.hash &amp;amp; oldCap)æ˜¯å¦ä¸º0ï¼Œè¯¥å…ƒç´ çš„ä½ç½®è¦ä¹ˆåœç•™åœ¨åŸå§‹ä½ç½®ï¼Œè¦ä¹ˆç§»åŠ¨åˆ°åŸå§‹ä½ç½®+å¢åŠ çš„æ•°ç»„å¤§å°è¿™ä¸ªä½ç½®ä¸Š&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;é¢è¯•é¢˜-hashMapçš„å¯»å€ç®—æ³•&#34;&gt;&lt;a href=&#34;#é¢è¯•é¢˜-hashMapçš„å¯»å€ç®—æ³•&#34; class=&#34;headerlink&#34; title=&#34;é¢è¯•é¢˜-hashMapçš„å¯»å€ç®—æ³•&#34;&gt;&lt;/a&gt;é¢è¯•é¢˜-hashMapçš„å¯»å€ç®—æ³•&lt;/h3&gt;&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230428212501408.png&#34; alt=&#34;image-20230428212501408&#34;&gt;&lt;/p&gt;
&lt;p&gt;åœ¨putValæ–¹æ³•ä¸­ï¼Œæœ‰ä¸€ä¸ªhash(key)æ–¹æ³•ï¼Œè¿™ä¸ªæ–¹æ³•å°±æ˜¯æ¥å»è®¡ç®—keyçš„hashå€¼çš„ï¼Œçœ‹ä¸‹é¢çš„ä»£ç &lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230428212601977.png&#34; alt=&#34;image-20230428212601977&#34;&gt;&lt;/p&gt;
&lt;p&gt;é¦–å…ˆè·å–keyçš„hashCodeå€¼ï¼Œç„¶åå³ç§»16ä½ å¼‚æˆ–è¿ç®— åŸæ¥çš„hashCodeå€¼ï¼Œä¸»è¦ä½œç”¨å°±æ˜¯ä½¿åŸæ¥çš„hashå€¼æ›´åŠ å‡åŒ€ï¼Œå‡å°‘hashå†²çª&lt;/p&gt;
&lt;p&gt;æœ‰äº†hashå€¼ä¹‹åï¼Œå°±å¾ˆæ–¹ä¾¿çš„å»è®¡ç®—å½“å‰keyçš„åœ¨æ•°ç»„ä¸­å­˜å‚¨çš„ä¸‹æ ‡ï¼Œçœ‹ä¸‹é¢çš„ä»£ç ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230428212729580.png&#34; alt=&#34;image-20230428212729580&#34;&gt;&lt;/p&gt;
&lt;p&gt;(n-1)&amp;amp;hash : å¾—åˆ°æ•°ç»„ä¸­çš„ç´¢å¼•ï¼Œä»£æ›¿å–æ¨¡ï¼Œæ€§èƒ½æ›´å¥½ï¼Œæ•°ç»„é•¿åº¦å¿…é¡»æ˜¯2çš„næ¬¡å¹‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å…³äºhashå€¼çš„å…¶ä»–é¢è¯•é¢˜ï¼šä¸ºä½•HashMapçš„æ•°ç»„é•¿åº¦ä¸€å®šæ˜¯2çš„æ¬¡å¹‚ï¼Ÿ&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;p&gt;è®¡ç®—ç´¢å¼•æ—¶æ•ˆç‡æ›´é«˜ï¼šå¦‚æœæ˜¯ 2 çš„ n æ¬¡å¹‚å¯ä»¥ä½¿ç”¨ä½ä¸è¿ç®—ä»£æ›¿å–æ¨¡&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;æ‰©å®¹æ—¶é‡æ–°è®¡ç®—ç´¢å¼•æ•ˆç‡æ›´é«˜ï¼š hash &amp;amp; oldCap &amp;#x3D;&amp;#x3D; 0 çš„å…ƒç´ ç•™åœ¨åŸæ¥ä½ç½® ï¼Œå¦åˆ™æ–°ä½ç½® &amp;#x3D; æ—§ä½ç½® + oldCap&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;é¢è¯•é¢˜-hashmapåœ¨1-7æƒ…å†µä¸‹çš„å¤šçº¿ç¨‹æ­»å¾ªç¯é—®é¢˜&#34;&gt;&lt;a href=&#34;#é¢è¯•é¢˜-hashmapåœ¨1-7æƒ…å†µä¸‹çš„å¤šçº¿ç¨‹æ­»å¾ªç¯é—®é¢˜&#34; class=&#34;headerlink&#34; title=&#34;é¢è¯•é¢˜-hashmapåœ¨1.7æƒ…å†µä¸‹çš„å¤šçº¿ç¨‹æ­»å¾ªç¯é—®é¢˜&#34;&gt;&lt;/a&gt;é¢è¯•é¢˜-hashmapåœ¨1.7æƒ…å†µä¸‹çš„å¤šçº¿ç¨‹æ­»å¾ªç¯é—®é¢˜&lt;/h3&gt;&lt;p&gt;jdk7çš„çš„æ•°æ®ç»“æ„æ˜¯ï¼šæ•°ç»„+é“¾è¡¨&lt;/p&gt;
&lt;p&gt;åœ¨æ•°ç»„è¿›è¡Œæ‰©å®¹çš„æ—¶å€™ï¼Œå› ä¸ºé“¾è¡¨æ˜¯å¤´æ’æ³•ï¼Œåœ¨è¿›è¡Œæ•°æ®è¿ç§»çš„è¿‡ç¨‹ä¸­ï¼Œæœ‰å¯èƒ½å¯¼è‡´æ­»å¾ªç¯&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230428213115071.png&#34; alt=&#34;image-20230428213115071&#34;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;å˜é‡eæŒ‡å‘çš„æ˜¯éœ€è¦è¿ç§»çš„å¯¹è±¡&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;å˜é‡nextæŒ‡å‘çš„æ˜¯ä¸‹ä¸€ä¸ªéœ€è¦è¿ç§»çš„å¯¹è±¡&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Jdk1.7ä¸­çš„é“¾è¡¨é‡‡ç”¨çš„å¤´æ’æ³•&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;åœ¨æ•°æ®è¿ç§»çš„è¿‡ç¨‹ä¸­å¹¶æ²¡æœ‰æ–°çš„å¯¹è±¡äº§ç”Ÿï¼Œåªæ˜¯æ”¹å˜äº†å¯¹è±¡çš„å¼•ç”¨&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;äº§ç”Ÿæ­»å¾ªç¯çš„è¿‡ç¨‹ï¼š&lt;/p&gt;
&lt;p&gt;çº¿ç¨‹1å’Œçº¿ç¨‹2çš„å˜é‡eå’Œnextéƒ½å¼•ç”¨äº†è¿™ä¸ªä¸¤ä¸ªèŠ‚ç‚¹&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230428213533483.png&#34; alt=&#34;image-20230428213533483&#34;&gt;&lt;/p&gt;
&lt;p&gt;çº¿ç¨‹2æ‰©å®¹åï¼Œç”±äºå¤´æ’æ³•ï¼Œé“¾è¡¨é¡ºåºé¢ å€’ï¼Œä½†æ˜¯çº¿ç¨‹1çš„ä¸´æ—¶å˜é‡eå’Œnextè¿˜å¼•ç”¨äº†è¿™ä¸¤ä¸ªèŠ‚ç‚¹&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230428214732877.png&#34; alt=&#34;image-20230428214732877&#34;&gt;&lt;/p&gt;
&lt;p&gt;ç¬¬ä¸€æ¬¡å¾ªç¯&lt;/p&gt;
&lt;p&gt;ç”±äºçº¿ç¨‹2è¿ç§»çš„æ—¶å€™ï¼Œå·²ç»æŠŠBçš„nextæ‰§è¡Œäº†A&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230428214806072.png&#34; alt=&#34;image-20230428214806072&#34;&gt;&lt;/p&gt;
&lt;p&gt;ç¬¬äºŒæ¬¡å¾ªç¯&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230428214908652.png&#34; alt=&#34;image-20230428214908652&#34;&gt;&lt;/p&gt;
&lt;p&gt;ç¬¬ä¸‰æ¬¡å¾ªç¯&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230428214937231.png&#34; alt=&#34;image-20230428214937231&#34;&gt;&lt;/p&gt;
&lt;p&gt;å‚è€ƒå›ç­”ï¼š&lt;/p&gt;
&lt;p&gt;åœ¨jdk1.7çš„hashmapä¸­åœ¨æ•°ç»„è¿›è¡Œæ‰©å®¹çš„æ—¶å€™ï¼Œå› ä¸ºé“¾è¡¨æ˜¯å¤´æ’æ³•ï¼Œåœ¨è¿›è¡Œæ•°æ®è¿ç§»çš„è¿‡ç¨‹ä¸­ï¼Œæœ‰å¯èƒ½å¯¼è‡´æ­»å¾ªç¯&lt;/p&gt;
&lt;p&gt;æ¯”å¦‚è¯´ï¼Œç°åœ¨æœ‰ä¸¤ä¸ªçº¿ç¨‹&lt;/p&gt;
&lt;p&gt;çº¿ç¨‹ä¸€ï¼šè¯»å–åˆ°å½“å‰çš„hashmapæ•°æ®ï¼Œæ•°æ®ä¸­ä¸€ä¸ªé“¾è¡¨ï¼Œåœ¨å‡†å¤‡æ‰©å®¹æ—¶ï¼Œçº¿ç¨‹äºŒä»‹å…¥&lt;/p&gt;
&lt;p&gt;çº¿ç¨‹äºŒï¼šä¹Ÿè¯»å–hashmapï¼Œç›´æ¥è¿›è¡Œæ‰©å®¹ã€‚å› ä¸ºæ˜¯å¤´æ’æ³•ï¼Œé“¾è¡¨çš„é¡ºåºä¼šè¿›è¡Œé¢ å€’è¿‡æ¥ã€‚æ¯”å¦‚åŸæ¥çš„é¡ºåºæ˜¯ABï¼Œæ‰©å®¹åçš„é¡ºåºæ˜¯BAï¼Œçº¿ç¨‹äºŒæ‰§è¡Œç»“æŸã€‚&lt;/p&gt;
&lt;p&gt;çº¿ç¨‹ä¸€ï¼šç»§ç»­æ‰§è¡Œçš„æ—¶å€™å°±ä¼šå‡ºç°æ­»å¾ªç¯çš„é—®é¢˜ã€‚&lt;/p&gt;
&lt;p&gt;çº¿ç¨‹ä¸€å…ˆå°†Aç§»å…¥æ–°çš„é“¾è¡¨ï¼Œå†å°†Bæ’å…¥åˆ°é“¾å¤´ï¼Œç”±äºå¦å¤–ä¸€ä¸ªçº¿ç¨‹çš„åŸå› ï¼ŒBçš„nextæŒ‡å‘äº†Aï¼Œ&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥B-&amp;gt;A-&amp;gt;B,å½¢æˆå¾ªç¯ã€‚&lt;/p&gt;
&lt;p&gt;å½“ç„¶ï¼ŒJDK 8 å°†æ‰©å®¹ç®—æ³•åšäº†è°ƒæ•´ï¼Œä¸å†å°†å…ƒç´ åŠ å…¥é“¾è¡¨å¤´ï¼ˆè€Œæ˜¯ä¿æŒä¸æ‰©å®¹å‰ä¸€æ ·çš„é¡ºåºï¼‰ï¼Œ&lt;strong&gt;å°¾æ’æ³•&lt;/strong&gt;ï¼Œå°±é¿å…äº†jdk7ä¸­æ­»å¾ªç¯çš„é—®é¢˜ã€‚&lt;/p&gt;
&lt;h3 id=&#34;é¢è¯•é¢˜-HashSetä¸HashMapçš„åŒºåˆ«&#34;&gt;&lt;a href=&#34;#é¢è¯•é¢˜-HashSetä¸HashMapçš„åŒºåˆ«&#34; class=&#34;headerlink&#34; title=&#34;é¢è¯•é¢˜-HashSetä¸HashMapçš„åŒºåˆ«&#34;&gt;&lt;/a&gt;é¢è¯•é¢˜-HashSetä¸HashMapçš„åŒºåˆ«&lt;/h3&gt;&lt;p&gt;(1)HashSetå®ç°äº†Setæ¥å£, ä»…å­˜å‚¨å¯¹è±¡; HashMapå®ç°äº† Mapæ¥å£, å­˜å‚¨çš„æ˜¯é”®å€¼å¯¹.&lt;/p&gt;
&lt;p&gt;(2)HashSetåº•å±‚å…¶å®æ˜¯ç”¨HashMapå®ç°å­˜å‚¨çš„, HashSetå°è£…äº†ä¸€ç³»åˆ—HashMapçš„æ–¹æ³•. ä¾é HashMapæ¥å­˜å‚¨å…ƒç´ å€¼,(åˆ©ç”¨hashMapçš„keyé”®è¿›è¡Œå­˜å‚¨), è€Œvalueå€¼é»˜è®¤ä¸ºObjectå¯¹è±¡. æ‰€ä»¥HashSetä¹Ÿä¸å…è®¸å‡ºç°é‡å¤å€¼, åˆ¤æ–­æ ‡å‡†å’ŒHashMapåˆ¤æ–­æ ‡å‡†ç›¸åŒ, ä¸¤ä¸ªå…ƒç´ çš„hashCodeç›¸ç­‰å¹¶ä¸”é€šè¿‡equals()æ–¹æ³•è¿”å›true.&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20221007110404375.png&#34; alt=&#34;image-20221007110404375&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;é¢è¯•é¢˜-HashTableä¸HashMapçš„åŒºåˆ«&#34;&gt;&lt;a href=&#34;#é¢è¯•é¢˜-HashTableä¸HashMapçš„åŒºåˆ«&#34; class=&#34;headerlink&#34; title=&#34;é¢è¯•é¢˜-HashTableä¸HashMapçš„åŒºåˆ«&#34;&gt;&lt;/a&gt;é¢è¯•é¢˜-HashTableä¸HashMapçš„åŒºåˆ«&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;éš¾æ˜“ç¨‹åº¦ï¼šâ˜†â˜†&lt;/p&gt;
&lt;p&gt;å‡ºç°é¢‘ç‡ï¼šâ˜†â˜†&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ä¸»è¦åŒºåˆ«ï¼š&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;strong&gt;åŒºåˆ«&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;HashTable&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;HashMap&lt;/strong&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;&lt;tr&gt;
&lt;td&gt;æ•°æ®ç»“æ„&lt;/td&gt;
&lt;td&gt;æ•°ç»„+é“¾è¡¨&lt;/td&gt;
&lt;td&gt;æ•°ç»„+é“¾è¡¨+çº¢é»‘æ ‘&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;æ˜¯å¦å¯ä»¥ä¸ºnull&lt;/td&gt;
&lt;td&gt;Keyå’Œvalueéƒ½ä¸èƒ½ä¸ºnull&lt;/td&gt;
&lt;td&gt;å¯ä»¥ä¸ºnull&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;hashç®—æ³•&lt;/td&gt;
&lt;td&gt;keyçš„hashCode()&lt;/td&gt;
&lt;td&gt;äºŒæ¬¡hash&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;æ‰©å®¹æ–¹å¼&lt;/td&gt;
&lt;td&gt;å½“å‰å®¹é‡ç¿»å€ +1&lt;/td&gt;
&lt;td&gt;å½“å‰å®¹é‡ç¿»å€&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;çº¿ç¨‹å®‰å…¨&lt;/td&gt;
&lt;td&gt;åŒæ­¥(synchronized)çš„ï¼Œçº¿ç¨‹å®‰å…¨&lt;/td&gt;
&lt;td&gt;éçº¿ç¨‹å®‰å…¨&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;p&gt;åœ¨å®é™…å¼€ä¸­ä¸å»ºè®®ä½¿ç”¨HashTableï¼Œåœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸‹å¯ä»¥ä½¿ç”¨ConcurrentHashMapç±»&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;çœ‹å®Œæ­¤æ–‡ç« å¯ä»¥çœ‹&lt;a href=&#34;interview/Java%E9%9B%86%E5%90%88%E7%9B%B8%E5%85%B3%E9%9D%A2%E8%AF%95%E9%A2%98&#34;&gt;Javaé›†åˆç›¸å…³é¢è¯•é¢˜&lt;/a&gt;æµ‹è¯•ä¸€ä¸‹è‡ªå·±æŒæ¡æƒ…å†µ&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;æœ¬æ–‡å¼•è‡ª&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly93d3cuYmlsaWJpbGkuY29tL3ZpZGVvL0JWMXlUNDExSDdZSy8=&#34;&gt;é»‘é©¬ç¨‹åºå‘˜Javaé¢è¯•å®å…¸&lt;/span&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
        <category term="java" scheme="https://anoxiahub.github.io/categories/java/" />
        <category term="JavaåŸºç¡€" scheme="https://anoxiahub.github.io/tags/Java%E5%9F%BA%E7%A1%80/" />
        <updated>2023-08-14T16:00:00.000Z</updated>
    </entry>
    <entry>
        <id>https://anoxiahub.github.io/interview/Java%E9%9B%86%E5%90%88%E7%9B%B8%E5%85%B3%E9%9D%A2%E8%AF%95%E9%A2%98/</id>
        <title>Javaé›†åˆç›¸å…³é¢è¯•é¢˜</title>
        <link rel="alternate" href="https://anoxiahub.github.io/interview/Java%E9%9B%86%E5%90%88%E7%9B%B8%E5%85%B3%E9%9D%A2%E8%AF%95%E9%A2%98/"/>
        <content type="html">&lt;blockquote&gt;
&lt;p&gt;æœ‰å…³å¤šçº¿ç¨‹å†…å®¹å¯ä»¥çœ‹&lt;a href=&#34;/java/Java%E9%9B%86%E5%90%88%E8%AF%A6%E8%A7%A3&#34;&gt;JUCè¯¦è§£&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜ï¼šè¯´ä¸€è¯´Javaæä¾›çš„å¸¸è§é›†åˆï¼Ÿï¼ˆç”»ä¸€ä¸‹é›†åˆç»“æ„å›¾ï¼‰&#34;&gt;&lt;a href=&#34;#é¢è¯•å®˜ï¼šè¯´ä¸€è¯´Javaæä¾›çš„å¸¸è§é›†åˆï¼Ÿï¼ˆç”»ä¸€ä¸‹é›†åˆç»“æ„å›¾ï¼‰&#34; class=&#34;headerlink&#34; title=&#34;é¢è¯•å®˜ï¼šè¯´ä¸€è¯´Javaæä¾›çš„å¸¸è§é›†åˆï¼Ÿï¼ˆç”»ä¸€ä¸‹é›†åˆç»“æ„å›¾ï¼‰&#34;&gt;&lt;/a&gt;é¢è¯•å®˜ï¼šè¯´ä¸€è¯´Javaæä¾›çš„å¸¸è§é›†åˆï¼Ÿï¼ˆç”»ä¸€ä¸‹é›†åˆç»“æ„å›¾ï¼‰&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äºº&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;p&gt;å—¯~~ï¼Œå¥½çš„ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨javaä¸­æä¾›äº†é‡å¤§ç±»çš„é›†åˆæ¡†æ¶ï¼Œä¸»è¦åˆ†ä¸ºä¸¤ç±»ï¼š&lt;/p&gt;
&lt;p&gt;ç¬¬ä¸€ä¸ªæ˜¯Collection  å±äºå•åˆ—é›†åˆï¼Œç¬¬äºŒä¸ªæ˜¯Map  å±äºåŒåˆ—é›†åˆ&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;åœ¨Collectionä¸­æœ‰ä¸¤ä¸ªå­æ¥å£Listå’ŒSetã€‚åœ¨æˆ‘ä»¬å¹³å¸¸å¼€å‘çš„è¿‡ç¨‹ä¸­ç”¨çš„æ¯”è¾ƒå¤šåƒlistæ¥å£ä¸­çš„å®ç°ç±»ArrarListå’ŒLinkedListã€‚  åœ¨Setæ¥å£ä¸­æœ‰å®ç°ç±»HashSetå’ŒTreeSetã€‚&lt;/li&gt;
&lt;li&gt;åœ¨mapæ¥å£ä¸­æœ‰å¾ˆå¤šçš„å®ç°ç±»ï¼Œå¹³æ—¶æ¯”è¾ƒå¸¸è§çš„æ˜¯HashMapã€TreeMapï¼Œè¿˜æœ‰ä¸€ä¸ªçº¿ç¨‹å®‰å…¨çš„map:ConcurrentHashMap&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜ï¼šArrayListåº•å±‚æ˜¯å¦‚ä½•å®ç°çš„ï¼Ÿ&#34;&gt;&lt;a href=&#34;#é¢è¯•å®˜ï¼šArrayListåº•å±‚æ˜¯å¦‚ä½•å®ç°çš„ï¼Ÿ&#34; class=&#34;headerlink&#34; title=&#34;é¢è¯•å®˜ï¼šArrayListåº•å±‚æ˜¯å¦‚ä½•å®ç°çš„ï¼Ÿ&#34;&gt;&lt;/a&gt;é¢è¯•å®˜ï¼šArrayListåº•å±‚æ˜¯å¦‚ä½•å®ç°çš„ï¼Ÿ&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äºº&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;p&gt;å—¯~ï¼Œæˆ‘é˜…è¯»è¿‡arraylistçš„æºç ï¼Œæˆ‘ä¸»è¦è¯´ä¸€ä¸‹addæ–¹æ³•å§&lt;/p&gt;
&lt;p&gt;ç¬¬ä¸€ï¼šç¡®ä¿æ•°ç»„å·²ä½¿ç”¨é•¿åº¦ï¼ˆsizeï¼‰åŠ 1ä¹‹åè¶³å¤Ÿå­˜ä¸‹ä¸‹ä¸€ä¸ªæ•°æ® &lt;/p&gt;
&lt;p&gt;ç¬¬äºŒï¼šè®¡ç®—æ•°ç»„çš„å®¹é‡ï¼Œå¦‚æœå½“å‰æ•°ç»„å·²ä½¿ç”¨é•¿åº¦+1åçš„å¤§äºå½“å‰çš„æ•°ç»„é•¿åº¦ï¼Œåˆ™è°ƒç”¨growæ–¹æ³•æ‰©å®¹ï¼ˆåŸæ¥çš„1.5å€ï¼‰&lt;/p&gt;
&lt;p&gt;ç¬¬ä¸‰ï¼šç¡®ä¿æ–°å¢çš„æ•°æ®æœ‰åœ°æ–¹å­˜å‚¨ä¹‹åï¼Œåˆ™å°†æ–°å…ƒç´ æ·»åŠ åˆ°ä½äºsizeçš„ä½ç½®ä¸Šã€‚ &lt;/p&gt;
&lt;p&gt;ç¬¬å››ï¼šè¿”å›æ·»åŠ æˆåŠŸå¸ƒå°”å€¼ã€‚ &lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜ï¼šArrayList-list-new-ArrayList-10-ä¸­çš„listæ‰©å®¹å‡ æ¬¡&#34;&gt;&lt;a href=&#34;#é¢è¯•å®˜ï¼šArrayList-list-new-ArrayList-10-ä¸­çš„listæ‰©å®¹å‡ æ¬¡&#34; class=&#34;headerlink&#34; title=&#34;é¢è¯•å®˜ï¼šArrayList list&amp;#x3D;new ArrayList(10)ä¸­çš„listæ‰©å®¹å‡ æ¬¡&#34;&gt;&lt;/a&gt;é¢è¯•å®˜ï¼šArrayList list&amp;#x3D;new ArrayList(10)ä¸­çš„listæ‰©å®¹å‡ æ¬¡&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äºº&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;p&gt;â€‹	æ˜¯newäº†ä¸€ä¸ªArrarListå¹¶ä¸”ç»™äº†ä¸€ä¸ªæ„é€ å‚æ•°10ï¼Œå¯¹å§ï¼Ÿ(é—®é¢˜ä¸€å®šè¦é—®æ¸…æ¥šå†ç­”)&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜ï¼šæ˜¯çš„&#34;&gt;&lt;a href=&#34;#é¢è¯•å®˜ï¼šæ˜¯çš„&#34; class=&#34;headerlink&#34; title=&#34;é¢è¯•å®˜ï¼šæ˜¯çš„&#34;&gt;&lt;/a&gt;é¢è¯•å®˜ï¼šæ˜¯çš„&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äºº&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;p&gt;â€‹    å¥½çš„ï¼Œåœ¨ArrayListçš„æºç ä¸­æä¾›äº†ä¸€ä¸ªå¸¦å‚æ•°çš„æ„é€ æ–¹æ³•ï¼Œè¿™ä¸ªå‚æ•°å°±æ˜¯æŒ‡å®šçš„é›†åˆåˆå§‹é•¿åº¦ï¼Œæ‰€ä»¥ç»™äº†ä¸€ä¸ª10çš„å‚æ•°ï¼Œå°±æ˜¯æŒ‡å®šäº†é›†åˆçš„åˆå§‹é•¿åº¦æ˜¯10ï¼Œè¿™é‡Œé¢å¹¶æ²¡æœ‰æ‰©å®¹ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜ï¼šå¦‚ä½•å®ç°æ•°ç»„å’ŒListä¹‹é—´çš„è½¬æ¢&#34;&gt;&lt;a href=&#34;#é¢è¯•å®˜ï¼šå¦‚ä½•å®ç°æ•°ç»„å’ŒListä¹‹é—´çš„è½¬æ¢&#34; class=&#34;headerlink&#34; title=&#34;é¢è¯•å®˜ï¼šå¦‚ä½•å®ç°æ•°ç»„å’ŒListä¹‹é—´çš„è½¬æ¢&#34;&gt;&lt;/a&gt;é¢è¯•å®˜ï¼šå¦‚ä½•å®ç°æ•°ç»„å’ŒListä¹‹é—´çš„è½¬æ¢&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äºº&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;p&gt;â€‹	å—¯ï¼Œè¿™ä¸ªåœ¨æˆ‘ä»¬å¹³æ—¶å¼€å‘å¾ˆå¸¸è§&lt;/p&gt;
&lt;p&gt;â€‹    æ•°ç»„è½¬listï¼Œå¯ä»¥ä½¿ç”¨jdkè‡ªåŠ¨çš„ä¸€ä¸ªå·¥å…·ç±»Arrarsï¼Œé‡Œé¢æœ‰ä¸€ä¸ªasListæ–¹æ³•å¯ä»¥è½¬æ¢ä¸ºæ•°ç»„&lt;/p&gt;
&lt;p&gt;â€‹    List è½¬æ•°ç»„ï¼Œå¯ä»¥ç›´æ¥è°ƒç”¨listä¸­çš„toArrayæ–¹æ³•ï¼Œéœ€è¦ç»™ä¸€ä¸ªå‚æ•°ï¼ŒæŒ‡å®šæ•°ç»„çš„ç±»å‹ï¼Œéœ€è¦æŒ‡å®šæ•°ç»„çš„é•¿åº¦ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜ï¼šç”¨Arrays-asListè½¬Liståï¼Œå¦‚æœä¿®æ”¹äº†æ•°ç»„å†…å®¹ï¼Œlistå—å½±å“å—ï¼ŸListç”¨toArrayè½¬æ•°ç»„åï¼Œå¦‚æœä¿®æ”¹äº†Listå†…å®¹ï¼Œæ•°ç»„å—å½±å“å—&#34;&gt;&lt;a href=&#34;#é¢è¯•å®˜ï¼šç”¨Arrays-asListè½¬Liståï¼Œå¦‚æœä¿®æ”¹äº†æ•°ç»„å†…å®¹ï¼Œlistå—å½±å“å—ï¼ŸListç”¨toArrayè½¬æ•°ç»„åï¼Œå¦‚æœä¿®æ”¹äº†Listå†…å®¹ï¼Œæ•°ç»„å—å½±å“å—&#34; class=&#34;headerlink&#34; title=&#34;é¢è¯•å®˜ï¼šç”¨Arrays.asListè½¬Liståï¼Œå¦‚æœä¿®æ”¹äº†æ•°ç»„å†…å®¹ï¼Œlistå—å½±å“å—ï¼ŸListç”¨toArrayè½¬æ•°ç»„åï¼Œå¦‚æœä¿®æ”¹äº†Listå†…å®¹ï¼Œæ•°ç»„å—å½±å“å—&#34;&gt;&lt;/a&gt;é¢è¯•å®˜ï¼šç”¨Arrays.asListè½¬Liståï¼Œå¦‚æœä¿®æ”¹äº†æ•°ç»„å†…å®¹ï¼Œlistå—å½±å“å—ï¼ŸListç”¨toArrayè½¬æ•°ç»„åï¼Œå¦‚æœä¿®æ”¹äº†Listå†…å®¹ï¼Œæ•°ç»„å—å½±å“å—&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äºº&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;p&gt;Arrays.asListè½¬æ¢listä¹‹åï¼Œå¦‚æœä¿®æ”¹äº†æ•°ç»„çš„å†…å®¹ï¼Œlistä¼šå—å½±å“ï¼Œå› ä¸ºå®ƒçš„åº•å±‚ä½¿ç”¨çš„Arraysç±»ä¸­çš„ä¸€ä¸ªå†…éƒ¨ç±»ArrayListæ¥æ„é€ çš„é›†åˆï¼Œåœ¨è¿™ä¸ªé›†åˆçš„æ„é€ å™¨ä¸­ï¼ŒæŠŠæˆ‘ä»¬ä¼ å…¥çš„è¿™ä¸ªé›†åˆè¿›è¡Œäº†åŒ…è£…è€Œå·²ï¼Œæœ€ç»ˆæŒ‡å‘çš„éƒ½æ˜¯åŒä¸€ä¸ªå†…å­˜åœ°å€&lt;/p&gt;
&lt;p&gt;listç”¨äº†toArrayè½¬æ•°ç»„åï¼Œå¦‚æœä¿®æ”¹äº†listå†…å®¹ï¼Œæ•°ç»„ä¸ä¼šå½±å“ï¼Œå½“è°ƒç”¨äº†toArrayä»¥åï¼Œåœ¨åº•å±‚æ˜¯å®ƒæ˜¯è¿›è¡Œäº†æ•°ç»„çš„æ‹·è´ï¼Œè·ŸåŸæ¥çš„å…ƒç´ å°±æ²¡å•¥å…³ç³»äº†ï¼Œæ‰€ä»¥å³ä½¿listä¿®æ”¹äº†ä»¥åï¼Œæ•°ç»„ä¹Ÿä¸å—å½±å“&lt;/p&gt;
&lt;p&gt;â€“&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜ï¼šArrayList-å’Œ-LinkedList-çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ&#34;&gt;&lt;a href=&#34;#é¢è¯•å®˜ï¼šArrayList-å’Œ-LinkedList-çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ&#34; class=&#34;headerlink&#34; title=&#34;é¢è¯•å®˜ï¼šArrayList å’Œ LinkedList çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ&#34;&gt;&lt;/a&gt;é¢è¯•å®˜ï¼šArrayList å’Œ LinkedList çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äºº&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;p&gt;å—¯ï¼Œå®ƒä»¬ä¸¤ä¸ªä¸»è¦æ˜¯åº•å±‚ä½¿ç”¨çš„æ•°æ®ç»“æ„ä¸ä¸€æ ·ï¼ŒArrayList æ˜¯åŠ¨æ€æ•°ç»„ï¼ŒLinkedList æ˜¯åŒå‘é“¾è¡¨ï¼Œè¿™ä¹Ÿå¯¼è‡´äº†å®ƒä»¬å¾ˆå¤šä¸åŒçš„ç‰¹ç‚¹ã€‚&lt;/p&gt;
&lt;p&gt;1ï¼Œä»æ“ä½œæ•°æ®æ•ˆç‡æ¥è¯´&lt;/p&gt;
&lt;p&gt;ArrayListæŒ‰ç…§ä¸‹æ ‡æŸ¥è¯¢çš„æ—¶é—´å¤æ‚åº¦O(1)ã€å†…å­˜æ˜¯è¿ç»­çš„ï¼Œæ ¹æ®å¯»å€å…¬å¼ã€‘ï¼Œ LinkedListä¸æ”¯æŒä¸‹æ ‡æŸ¥è¯¢&lt;/p&gt;
&lt;p&gt;æŸ¥æ‰¾ï¼ˆæœªçŸ¥ç´¢å¼•ï¼‰ï¼š ArrayListéœ€è¦éå†ï¼Œé“¾è¡¨ä¹Ÿéœ€è¦é“¾è¡¨ï¼Œæ—¶é—´å¤æ‚åº¦éƒ½æ˜¯O(n)&lt;/p&gt;
&lt;p&gt;æ–°å¢å’Œåˆ é™¤&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ArrayListå°¾éƒ¨æ’å…¥å’Œåˆ é™¤ï¼Œæ—¶é—´å¤æ‚åº¦æ˜¯O(1)ï¼›å…¶ä»–éƒ¨åˆ†å¢åˆ éœ€è¦æŒªåŠ¨æ•°ç»„ï¼Œæ—¶é—´å¤æ‚åº¦æ˜¯O(n)&lt;/li&gt;
&lt;li&gt;LinkedListå¤´å°¾èŠ‚ç‚¹å¢åˆ æ—¶é—´å¤æ‚åº¦æ˜¯O(1)ï¼Œå…¶ä»–éƒ½éœ€è¦éå†é“¾è¡¨ï¼Œæ—¶é—´å¤æ‚åº¦æ˜¯O(n)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;2ï¼Œä»å†…å­˜ç©ºé—´å ç”¨æ¥è¯´&lt;/p&gt;
&lt;p&gt;ArrayListåº•å±‚æ˜¯æ•°ç»„ï¼Œå†…å­˜è¿ç»­ï¼ŒèŠ‚çœå†…å­˜&lt;/p&gt;
&lt;p&gt;LinkedList æ˜¯åŒå‘é“¾è¡¨éœ€è¦å­˜å‚¨æ•°æ®ï¼Œå’Œä¸¤ä¸ªæŒ‡é’ˆï¼Œæ›´å ç”¨å†…å­˜&lt;/p&gt;
&lt;p&gt;3ï¼Œä»çº¿ç¨‹å®‰å…¨æ¥è¯´ï¼ŒArrayListå’ŒLinkedListéƒ½ä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜ï¼šå—¯ï¼Œå¥½çš„ï¼Œåˆšæ‰ä½ è¯´äº†ArrayList-å’Œ-LinkedList-ä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œä½ ä»¬åœ¨é¡¹ç›®ä¸­æ˜¯å¦‚ä½•è§£å†³è¿™ä¸ªçš„çº¿ç¨‹å®‰å…¨é—®é¢˜çš„ï¼Ÿ&#34;&gt;&lt;a href=&#34;#é¢è¯•å®˜ï¼šå—¯ï¼Œå¥½çš„ï¼Œåˆšæ‰ä½ è¯´äº†ArrayList-å’Œ-LinkedList-ä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œä½ ä»¬åœ¨é¡¹ç›®ä¸­æ˜¯å¦‚ä½•è§£å†³è¿™ä¸ªçš„çº¿ç¨‹å®‰å…¨é—®é¢˜çš„ï¼Ÿ&#34; class=&#34;headerlink&#34; title=&#34;é¢è¯•å®˜ï¼šå—¯ï¼Œå¥½çš„ï¼Œåˆšæ‰ä½ è¯´äº†ArrayList å’Œ LinkedList ä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œä½ ä»¬åœ¨é¡¹ç›®ä¸­æ˜¯å¦‚ä½•è§£å†³è¿™ä¸ªçš„çº¿ç¨‹å®‰å…¨é—®é¢˜çš„ï¼Ÿ&#34;&gt;&lt;/a&gt;é¢è¯•å®˜ï¼šå—¯ï¼Œå¥½çš„ï¼Œåˆšæ‰ä½ è¯´äº†ArrayList å’Œ LinkedList ä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œä½ ä»¬åœ¨é¡¹ç›®ä¸­æ˜¯å¦‚ä½•è§£å†³è¿™ä¸ªçš„çº¿ç¨‹å®‰å…¨é—®é¢˜çš„ï¼Ÿ&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äºº&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;p&gt;å—¯ï¼Œæ˜¯è¿™æ ·çš„ï¼Œä¸»è¦æœ‰ä¸¤ç§è§£å†³æ–¹æ¡ˆï¼š&lt;/p&gt;
&lt;p&gt;ç¬¬ä¸€ï¼šæˆ‘ä»¬ä½¿ç”¨è¿™ä¸ªé›†åˆï¼Œä¼˜å…ˆåœ¨æ–¹æ³•å†…ä½¿ç”¨ï¼Œå®šä¹‰ä¸ºå±€éƒ¨å˜é‡ï¼Œè¿™æ ·çš„è¯ï¼Œå°±ä¸ä¼šå‡ºç°çº¿ç¨‹å®‰å…¨é—®é¢˜ã€‚&lt;/p&gt;
&lt;p&gt;ç¬¬äºŒï¼šå¦‚æœéè¦åœ¨æˆå‘˜å˜é‡ä¸­ä½¿ç”¨çš„è¯ï¼Œå¯ä»¥ä½¿ç”¨çº¿ç¨‹å®‰å…¨çš„é›†åˆæ¥æ›¿ä»£&lt;/p&gt;
&lt;p&gt;ArrayListå¯ä»¥é€šè¿‡Collections çš„ synchronizedList æ–¹æ³•å°† ArrayList è½¬æ¢æˆçº¿ç¨‹å®‰å…¨çš„å®¹å™¨åå†ä½¿ç”¨ã€‚&lt;/p&gt;
&lt;p&gt;LinkedList æ¢æˆConcurrentLinkedQueueæ¥ä½¿ç”¨&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜ï¼šè¯´ä¸€ä¸‹HashMapçš„å®ç°åŸç†ï¼Ÿ&#34;&gt;&lt;a href=&#34;#é¢è¯•å®˜ï¼šè¯´ä¸€ä¸‹HashMapçš„å®ç°åŸç†ï¼Ÿ&#34; class=&#34;headerlink&#34; title=&#34;é¢è¯•å®˜ï¼šè¯´ä¸€ä¸‹HashMapçš„å®ç°åŸç†ï¼Ÿ&#34;&gt;&lt;/a&gt;é¢è¯•å®˜ï¼šè¯´ä¸€ä¸‹HashMapçš„å®ç°åŸç†ï¼Ÿ&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äºº&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;p&gt;â€‹	å—¯ã€‚å®ƒä¸»è¦åˆ†ä¸ºäº†ä¸€ä¸‹å‡ ä¸ªéƒ¨åˆ†ï¼š&lt;/p&gt;
&lt;p&gt;1ï¼Œåº•å±‚ä½¿ç”¨hashè¡¨æ•°æ®ç»“æ„ï¼Œå³æ•°ç»„+ï¼ˆé“¾è¡¨ | çº¢é»‘æ ‘ï¼‰&lt;/p&gt;
&lt;p&gt;2ï¼Œæ·»åŠ æ•°æ®æ—¶ï¼Œè®¡ç®—keyçš„å€¼ç¡®å®šå…ƒç´ åœ¨æ•°ç»„ä¸­çš„ä¸‹æ ‡&lt;/p&gt;
&lt;p&gt;â€‹	keyç›¸åŒåˆ™æ›¿æ¢&lt;/p&gt;
&lt;p&gt;â€‹	ä¸åŒåˆ™å­˜å…¥é“¾è¡¨æˆ–çº¢é»‘æ ‘ä¸­&lt;/p&gt;
&lt;p&gt;3ï¼Œè·å–æ•°æ®é€šè¿‡keyçš„hashè®¡ç®—æ•°ç»„ä¸‹æ ‡è·å–å…ƒç´ &lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜ï¼šHashMapçš„jdk1-7å’Œjdk1-8æœ‰ä»€ä¹ˆåŒºåˆ«&#34;&gt;&lt;a href=&#34;#é¢è¯•å®˜ï¼šHashMapçš„jdk1-7å’Œjdk1-8æœ‰ä»€ä¹ˆåŒºåˆ«&#34; class=&#34;headerlink&#34; title=&#34;é¢è¯•å®˜ï¼šHashMapçš„jdk1.7å’Œjdk1.8æœ‰ä»€ä¹ˆåŒºåˆ«&#34;&gt;&lt;/a&gt;é¢è¯•å®˜ï¼šHashMapçš„jdk1.7å’Œjdk1.8æœ‰ä»€ä¹ˆåŒºåˆ«&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äºº&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;JDK1.8ä¹‹å‰é‡‡ç”¨çš„æ‹‰é“¾æ³•ï¼Œæ•°ç»„+é“¾è¡¨&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;JDK1.8ä¹‹åé‡‡ç”¨æ•°ç»„+é“¾è¡¨+çº¢é»‘æ ‘ï¼Œé“¾è¡¨é•¿åº¦å¤§äº8ä¸”æ•°ç»„é•¿åº¦å¤§äº64åˆ™ä¼šä»é“¾è¡¨è½¬åŒ–ä¸ºçº¢é»‘æ ‘&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜ï¼šå¥½çš„ï¼Œä½ èƒ½è¯´ä¸‹HashMapçš„putæ–¹æ³•çš„å…·ä½“æµç¨‹å—ï¼Ÿ&#34;&gt;&lt;a href=&#34;#é¢è¯•å®˜ï¼šå¥½çš„ï¼Œä½ èƒ½è¯´ä¸‹HashMapçš„putæ–¹æ³•çš„å…·ä½“æµç¨‹å—ï¼Ÿ&#34; class=&#34;headerlink&#34; title=&#34;é¢è¯•å®˜ï¼šå¥½çš„ï¼Œä½ èƒ½è¯´ä¸‹HashMapçš„putæ–¹æ³•çš„å…·ä½“æµç¨‹å—ï¼Ÿ&#34;&gt;&lt;/a&gt;é¢è¯•å®˜ï¼šå¥½çš„ï¼Œä½ èƒ½è¯´ä¸‹HashMapçš„putæ–¹æ³•çš„å…·ä½“æµç¨‹å—ï¼Ÿ&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äºº&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;p&gt;å—¯å¥½çš„ã€‚&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;p&gt;åˆ¤æ–­é”®å€¼å¯¹æ•°ç»„tableæ˜¯å¦ä¸ºç©ºæˆ–ä¸ºnullï¼Œå¦åˆ™æ‰§è¡Œresize()è¿›è¡Œæ‰©å®¹ï¼ˆåˆå§‹åŒ–ï¼‰&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;æ ¹æ®é”®å€¼keyè®¡ç®—hashå€¼å¾—åˆ°æ•°ç»„ç´¢å¼•&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;åˆ¤æ–­table[i]&amp;#x3D;&amp;#x3D;nullï¼Œæ¡ä»¶æˆç«‹ï¼Œç›´æ¥æ–°å»ºèŠ‚ç‚¹æ·»åŠ &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;å¦‚æœtable[i]&amp;#x3D;&amp;#x3D;null ,ä¸æˆç«‹&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;  4.1 åˆ¤æ–­table[i]çš„é¦–ä¸ªå…ƒç´ æ˜¯å¦å’Œkeyä¸€æ ·ï¼Œå¦‚æœç›¸åŒç›´æ¥è¦†ç›–value&lt;/p&gt;
&lt;p&gt;  4.2 åˆ¤æ–­table[i] æ˜¯å¦ä¸ºtreeNodeï¼Œå³table[i] æ˜¯å¦æ˜¯çº¢é»‘æ ‘ï¼Œå¦‚æœæ˜¯çº¢é»‘æ ‘ï¼Œåˆ™ç›´æ¥åœ¨æ ‘ä¸­æ’å…¥é”®å€¼å¯¹&lt;/p&gt;
&lt;p&gt;  4.3 éå†table[i]ï¼Œé“¾è¡¨çš„å°¾éƒ¨æ’å…¥æ•°æ®ï¼Œç„¶ååˆ¤æ–­é“¾è¡¨é•¿åº¦æ˜¯å¦å¤§äº8ï¼Œå¤§äº8çš„è¯æŠŠé“¾è¡¨è½¬æ¢ä¸ºçº¢é»‘æ ‘ï¼Œåœ¨çº¢é»‘æ ‘ä¸­æ‰§è¡Œæ’å…¥æ“ ä½œï¼Œéå†è¿‡ç¨‹ä¸­è‹¥å‘ç°keyå·²ç»å­˜åœ¨ç›´æ¥è¦†ç›–value&lt;/p&gt;
&lt;ol start=&#34;5&#34;&gt;
&lt;li&gt;æ’å…¥æˆåŠŸåï¼Œåˆ¤æ–­å®é™…å­˜åœ¨çš„é”®å€¼å¯¹æ•°é‡sizeæ˜¯å¦è¶…å¤šäº†æœ€å¤§å®¹é‡thresholdï¼ˆæ•°ç»„é•¿åº¦*0.75ï¼‰ï¼Œå¦‚æœè¶…è¿‡ï¼Œè¿›è¡Œæ‰©å®¹ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜ï¼šå¥½çš„ï¼Œåˆšæ‰ä½ å¤šæ¬¡ä»‹ç»äº†hsahmapçš„æ‰©å®¹ï¼Œèƒ½è®²ä¸€è®²HashMapçš„æ‰©å®¹æœºåˆ¶å—ï¼Ÿ&#34;&gt;&lt;a href=&#34;#é¢è¯•å®˜ï¼šå¥½çš„ï¼Œåˆšæ‰ä½ å¤šæ¬¡ä»‹ç»äº†hsahmapçš„æ‰©å®¹ï¼Œèƒ½è®²ä¸€è®²HashMapçš„æ‰©å®¹æœºåˆ¶å—ï¼Ÿ&#34; class=&#34;headerlink&#34; title=&#34;é¢è¯•å®˜ï¼šå¥½çš„ï¼Œåˆšæ‰ä½ å¤šæ¬¡ä»‹ç»äº†hsahmapçš„æ‰©å®¹ï¼Œèƒ½è®²ä¸€è®²HashMapçš„æ‰©å®¹æœºåˆ¶å—ï¼Ÿ&#34;&gt;&lt;/a&gt;é¢è¯•å®˜ï¼šå¥½çš„ï¼Œåˆšæ‰ä½ å¤šæ¬¡ä»‹ç»äº†hsahmapçš„æ‰©å®¹ï¼Œèƒ½è®²ä¸€è®²HashMapçš„æ‰©å®¹æœºåˆ¶å—ï¼Ÿ&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äºº&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;p&gt;å¥½çš„&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;åœ¨æ·»åŠ å…ƒç´ æˆ–åˆå§‹åŒ–çš„æ—¶å€™éœ€è¦è°ƒç”¨resizeæ–¹æ³•è¿›è¡Œæ‰©å®¹ï¼Œç¬¬ä¸€æ¬¡æ·»åŠ æ•°æ®åˆå§‹åŒ–æ•°ç»„é•¿åº¦ä¸º16ï¼Œä»¥åæ¯æ¬¡æ¯æ¬¡æ‰©å®¹éƒ½æ˜¯è¾¾åˆ°äº†æ‰©å®¹é˜ˆå€¼ï¼ˆæ•°ç»„é•¿åº¦ * 0.75ï¼‰&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;æ¯æ¬¡æ‰©å®¹çš„æ—¶å€™ï¼Œéƒ½æ˜¯æ‰©å®¹ä¹‹å‰å®¹é‡çš„2å€ï¼› &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;æ‰©å®¹ä¹‹åï¼Œä¼šæ–°åˆ›å»ºä¸€ä¸ªæ•°ç»„ï¼Œéœ€è¦æŠŠè€æ•°ç»„ä¸­çš„æ•°æ®æŒªåŠ¨åˆ°æ–°çš„æ•°ç»„ä¸­&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;æ²¡æœ‰hashå†²çªçš„èŠ‚ç‚¹ï¼Œåˆ™ç›´æ¥ä½¿ç”¨ e.hash &amp;amp; (newCap - 1) è®¡ç®—æ–°æ•°ç»„çš„ç´¢å¼•ä½ç½®&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;å¦‚æœæ˜¯çº¢é»‘æ ‘ï¼Œèµ°çº¢é»‘æ ‘çš„æ·»åŠ &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;å¦‚æœæ˜¯é“¾è¡¨ï¼Œåˆ™éœ€è¦éå†é“¾è¡¨ï¼Œå¯èƒ½éœ€è¦æ‹†åˆ†é“¾è¡¨ï¼Œåˆ¤æ–­(e.hash &amp;amp; oldCap)æ˜¯å¦ä¸º0ï¼Œè¯¥å…ƒç´ çš„ä½ç½®è¦ä¹ˆåœç•™åœ¨åŸå§‹ä½ç½®ï¼Œè¦ä¹ˆç§»åŠ¨åˆ°åŸå§‹ä½ç½®+å¢åŠ çš„æ•°ç»„å¤§å°è¿™ä¸ªä½ç½®ä¸Š&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜ï¼šå¥½çš„ï¼Œåˆšæ‰ä½ è¯´çš„é€šè¿‡hashè®¡ç®—åæ‰¾åˆ°æ•°ç»„çš„ä¸‹æ ‡ï¼Œæ˜¯å¦‚ä½•æ‰¾åˆ°çš„å‘¢ï¼Œä½ äº†è§£hashMapçš„å¯»å€ç®—æ³•å—ï¼Ÿ&#34;&gt;&lt;a href=&#34;#é¢è¯•å®˜ï¼šå¥½çš„ï¼Œåˆšæ‰ä½ è¯´çš„é€šè¿‡hashè®¡ç®—åæ‰¾åˆ°æ•°ç»„çš„ä¸‹æ ‡ï¼Œæ˜¯å¦‚ä½•æ‰¾åˆ°çš„å‘¢ï¼Œä½ äº†è§£hashMapçš„å¯»å€ç®—æ³•å—ï¼Ÿ&#34; class=&#34;headerlink&#34; title=&#34;é¢è¯•å®˜ï¼šå¥½çš„ï¼Œåˆšæ‰ä½ è¯´çš„é€šè¿‡hashè®¡ç®—åæ‰¾åˆ°æ•°ç»„çš„ä¸‹æ ‡ï¼Œæ˜¯å¦‚ä½•æ‰¾åˆ°çš„å‘¢ï¼Œä½ äº†è§£hashMapçš„å¯»å€ç®—æ³•å—ï¼Ÿ&#34;&gt;&lt;/a&gt;é¢è¯•å®˜ï¼šå¥½çš„ï¼Œåˆšæ‰ä½ è¯´çš„é€šè¿‡hashè®¡ç®—åæ‰¾åˆ°æ•°ç»„çš„ä¸‹æ ‡ï¼Œæ˜¯å¦‚ä½•æ‰¾åˆ°çš„å‘¢ï¼Œä½ äº†è§£hashMapçš„å¯»å€ç®—æ³•å—ï¼Ÿ&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äºº&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;p&gt;è¿™ä¸ªå“ˆå¸Œæ–¹æ³•é¦–å…ˆè®¡ç®—å‡ºkeyçš„hashCodeå€¼ï¼Œç„¶åé€šè¿‡è¿™ä¸ªhashå€¼å³ç§»16ä½åçš„äºŒè¿›åˆ¶è¿›è¡ŒæŒ‰ä½&lt;strong&gt;å¼‚æˆ–è¿ç®—&lt;/strong&gt;å¾—åˆ°æœ€åçš„hashå€¼ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨putValueçš„æ–¹æ³•ä¸­ï¼Œè®¡ç®—æ•°ç»„ä¸‹æ ‡çš„æ—¶å€™ä½¿ç”¨hashå€¼ä¸æ•°ç»„é•¿åº¦å–æ¨¡å¾—åˆ°å­˜å‚¨æ•°æ®ä¸‹æ ‡çš„ä½ç½®ï¼Œhashmapä¸ºäº†æ€§èƒ½æ›´å¥½ï¼Œå¹¶æ²¡æœ‰ç›´æ¥é‡‡ç”¨å–æ¨¡çš„æ–¹å¼ï¼Œè€Œæ˜¯ä½¿ç”¨äº†æ•°ç»„é•¿åº¦-1 å¾—åˆ°ä¸€ä¸ªå€¼ï¼Œç”¨è¿™ä¸ªå€¼æŒ‰ä½ä¸è¿ç®—hashå€¼ï¼Œæœ€ç»ˆå¾—åˆ°æ•°ç»„çš„ä½ç½®ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜ï¼šä¸ºä½•HashMapçš„æ•°ç»„é•¿åº¦ä¸€å®šæ˜¯2çš„æ¬¡å¹‚ï¼Ÿ&#34;&gt;&lt;a href=&#34;#é¢è¯•å®˜ï¼šä¸ºä½•HashMapçš„æ•°ç»„é•¿åº¦ä¸€å®šæ˜¯2çš„æ¬¡å¹‚ï¼Ÿ&#34; class=&#34;headerlink&#34; title=&#34;é¢è¯•å®˜ï¼šä¸ºä½•HashMapçš„æ•°ç»„é•¿åº¦ä¸€å®šæ˜¯2çš„æ¬¡å¹‚ï¼Ÿ&#34;&gt;&lt;/a&gt;é¢è¯•å®˜ï¼šä¸ºä½•HashMapçš„æ•°ç»„é•¿åº¦ä¸€å®šæ˜¯2çš„æ¬¡å¹‚ï¼Ÿ&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äºº&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;p&gt;å—¯ï¼Œå¥½çš„ã€‚hashmapè¿™ä¹ˆè®¾è®¡ä¸»è¦æœ‰ä¸¤ä¸ªåŸå› ï¼š&lt;/p&gt;
&lt;p&gt;ç¬¬ä¸€ï¼š&lt;/p&gt;
&lt;p&gt;è®¡ç®—ç´¢å¼•æ—¶æ•ˆç‡æ›´é«˜ï¼šå¦‚æœæ˜¯ 2 çš„ n æ¬¡å¹‚å¯ä»¥ä½¿ç”¨ä½ä¸è¿ç®—ä»£æ›¿å–æ¨¡&lt;/p&gt;
&lt;p&gt;ç¬¬äºŒï¼š&lt;/p&gt;
&lt;p&gt;æ‰©å®¹æ—¶é‡æ–°è®¡ç®—ç´¢å¼•æ•ˆç‡æ›´é«˜ï¼šåœ¨è¿›è¡Œæ‰©å®¹æ˜¯ä¼šè¿›è¡Œåˆ¤æ–­ hashå€¼æŒ‰ä½ä¸è¿ç®—æ—§æ•°ç»„é•¿ç§Ÿæ˜¯å¦ &amp;#x3D;&amp;#x3D; 0 &lt;/p&gt;
&lt;p&gt;å¦‚æœç­‰äº0ï¼Œåˆ™æŠŠå…ƒç´ ç•™åœ¨åŸæ¥ä½ç½® ï¼Œå¦åˆ™æ–°ä½ç½®æ˜¯ç­‰äºæ—§ä½ç½®çš„ä¸‹æ ‡+æ—§æ•°ç»„é•¿åº¦&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜ï¼šå¥½çš„ï¼Œæˆ‘çœ‹ä½ å¯¹hashmapäº†è§£çš„æŒºæ·±å…¥çš„ï¼Œä½ çŸ¥é“hashmapåœ¨1-7æƒ…å†µä¸‹çš„å¤šçº¿ç¨‹æ­»å¾ªç¯é—®é¢˜å—ï¼Ÿ&#34;&gt;&lt;a href=&#34;#é¢è¯•å®˜ï¼šå¥½çš„ï¼Œæˆ‘çœ‹ä½ å¯¹hashmapäº†è§£çš„æŒºæ·±å…¥çš„ï¼Œä½ çŸ¥é“hashmapåœ¨1-7æƒ…å†µä¸‹çš„å¤šçº¿ç¨‹æ­»å¾ªç¯é—®é¢˜å—ï¼Ÿ&#34; class=&#34;headerlink&#34; title=&#34;é¢è¯•å®˜ï¼šå¥½çš„ï¼Œæˆ‘çœ‹ä½ å¯¹hashmapäº†è§£çš„æŒºæ·±å…¥çš„ï¼Œä½ çŸ¥é“hashmapåœ¨1.7æƒ…å†µä¸‹çš„å¤šçº¿ç¨‹æ­»å¾ªç¯é—®é¢˜å—ï¼Ÿ&#34;&gt;&lt;/a&gt;é¢è¯•å®˜ï¼šå¥½çš„ï¼Œæˆ‘çœ‹ä½ å¯¹hashmapäº†è§£çš„æŒºæ·±å…¥çš„ï¼Œä½ çŸ¥é“hashmapåœ¨1.7æƒ…å†µä¸‹çš„å¤šçº¿ç¨‹æ­»å¾ªç¯é—®é¢˜å—ï¼Ÿ&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äºº&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;p&gt;å—¯ï¼ŒçŸ¥é“çš„ã€‚æ˜¯è¿™æ ·&lt;/p&gt;
&lt;p&gt;jdk7çš„çš„æ•°æ®ç»“æ„æ˜¯ï¼šæ•°ç»„+é“¾è¡¨&lt;/p&gt;
&lt;p&gt;åœ¨æ•°ç»„è¿›è¡Œæ‰©å®¹çš„æ—¶å€™ï¼Œå› ä¸ºé“¾è¡¨æ˜¯&lt;strong&gt;å¤´æ’æ³•&lt;/strong&gt;ï¼Œåœ¨è¿›è¡Œæ•°æ®è¿ç§»çš„è¿‡ç¨‹ä¸­ï¼Œæœ‰å¯èƒ½å¯¼è‡´æ­»å¾ªç¯&lt;/p&gt;
&lt;p&gt;æ¯”å¦‚è¯´ï¼Œç°åœ¨æœ‰ä¸¤ä¸ªçº¿ç¨‹&lt;/p&gt;
&lt;p&gt;çº¿ç¨‹ä¸€ï¼š&lt;strong&gt;è¯»å–&lt;/strong&gt;åˆ°å½“å‰çš„hashmapæ•°æ®ï¼Œæ•°æ®ä¸­ä¸€ä¸ªé“¾è¡¨ï¼Œåœ¨å‡†å¤‡æ‰©å®¹æ—¶ï¼Œçº¿ç¨‹äºŒä»‹å…¥&lt;/p&gt;
&lt;p&gt;çº¿ç¨‹äºŒä¹Ÿè¯»å–hashmapï¼Œç›´æ¥è¿›è¡Œæ‰©å®¹ã€‚å› ä¸ºæ˜¯å¤´æ’æ³•ï¼Œé“¾è¡¨çš„é¡ºåºä¼šè¿›è¡Œé¢ å€’è¿‡æ¥ã€‚æ¯”å¦‚åŸæ¥çš„é¡ºåºæ˜¯ABï¼Œæ‰©å®¹åçš„é¡ºåºæ˜¯BAï¼Œçº¿ç¨‹äºŒæ‰§è¡Œç»“æŸã€‚&lt;/p&gt;
&lt;p&gt;å½“çº¿ç¨‹ä¸€å†ç»§ç»­æ‰§è¡Œçš„æ—¶å€™å°±ä¼šå‡ºç°æ­»å¾ªç¯çš„é—®é¢˜ã€‚&lt;/p&gt;
&lt;p&gt;çº¿ç¨‹ä¸€å…ˆå°†Aç§»å…¥æ–°çš„é“¾è¡¨ï¼Œå†å°†Bæ’å…¥åˆ°é“¾å¤´ï¼Œç”±äºå¦å¤–ä¸€ä¸ªçº¿ç¨‹çš„åŸå› ï¼ŒBçš„nextæŒ‡å‘äº†Aï¼Œæ‰€ä»¥B-&amp;gt;A-&amp;gt;B,å½¢æˆå¾ªç¯ã€‚&lt;/p&gt;
&lt;p&gt;å½“ç„¶ï¼ŒJDK 8 å°†æ‰©å®¹ç®—æ³•åšäº†è°ƒæ•´ï¼Œä¸å†å°†å…ƒç´ åŠ å…¥é“¾è¡¨å¤´ï¼ˆè€Œæ˜¯ä¿æŒä¸æ‰©å®¹å‰ä¸€æ ·çš„é¡ºåºï¼‰ï¼Œ&lt;strong&gt;å°¾æ’æ³•&lt;/strong&gt;ï¼Œå°±é¿å…äº†jdk7ä¸­æ­»å¾ªç¯çš„é—®é¢˜ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜ï¼šå¥½çš„ï¼Œhashmapæ˜¯çº¿ç¨‹å®‰å…¨çš„å—ï¼Ÿ&#34;&gt;&lt;a href=&#34;#é¢è¯•å®˜ï¼šå¥½çš„ï¼Œhashmapæ˜¯çº¿ç¨‹å®‰å…¨çš„å—ï¼Ÿ&#34; class=&#34;headerlink&#34; title=&#34;é¢è¯•å®˜ï¼šå¥½çš„ï¼Œhashmapæ˜¯çº¿ç¨‹å®‰å…¨çš„å—ï¼Ÿ&#34;&gt;&lt;/a&gt;é¢è¯•å®˜ï¼šå¥½çš„ï¼Œhashmapæ˜¯çº¿ç¨‹å®‰å…¨çš„å—ï¼Ÿ&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äºº&lt;/strong&gt;ï¼šä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜ï¼šé‚£æˆ‘ä»¬æƒ³è¦ä½¿ç”¨çº¿ç¨‹å®‰å…¨çš„mapè¯¥æ€ä¹ˆåšå‘¢ï¼Ÿ&#34;&gt;&lt;a href=&#34;#é¢è¯•å®˜ï¼šé‚£æˆ‘ä»¬æƒ³è¦ä½¿ç”¨çº¿ç¨‹å®‰å…¨çš„mapè¯¥æ€ä¹ˆåšå‘¢ï¼Ÿ&#34; class=&#34;headerlink&#34; title=&#34;é¢è¯•å®˜ï¼šé‚£æˆ‘ä»¬æƒ³è¦ä½¿ç”¨çº¿ç¨‹å®‰å…¨çš„mapè¯¥æ€ä¹ˆåšå‘¢ï¼Ÿ&#34;&gt;&lt;/a&gt;é¢è¯•å®˜ï¼šé‚£æˆ‘ä»¬æƒ³è¦ä½¿ç”¨çº¿ç¨‹å®‰å…¨çš„mapè¯¥æ€ä¹ˆåšå‘¢ï¼Ÿ&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äºº&lt;/strong&gt;ï¼šæˆ‘ä»¬å¯ä»¥é‡‡ç”¨ConcurrentHashMapè¿›è¡Œä½¿ç”¨ï¼Œå®ƒæ˜¯ä¸€ä¸ªçº¿ç¨‹å®‰å…¨çš„HashMap&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜ï¼šé‚£ä½ èƒ½èŠä¸€ä¸‹ConcurrentHashMapçš„åŸç†å—ï¼Ÿ&#34;&gt;&lt;a href=&#34;#é¢è¯•å®˜ï¼šé‚£ä½ èƒ½èŠä¸€ä¸‹ConcurrentHashMapçš„åŸç†å—ï¼Ÿ&#34; class=&#34;headerlink&#34; title=&#34;é¢è¯•å®˜ï¼šé‚£ä½ èƒ½èŠä¸€ä¸‹ConcurrentHashMapçš„åŸç†å—ï¼Ÿ&#34;&gt;&lt;/a&gt;é¢è¯•å®˜ï¼šé‚£ä½ èƒ½èŠä¸€ä¸‹ConcurrentHashMapçš„åŸç†å—ï¼Ÿ&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äºº&lt;/strong&gt;ï¼šå¥½çš„ï¼Œè¯·å‚è€ƒã€Šå¤šçº¿ç¨‹ç›¸å…³é¢è¯•é¢˜ã€‹ä¸­çš„ConcurrentHashMapéƒ¨åˆ†çš„è®²è§£&lt;/p&gt;
&lt;p&gt;â€“&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜ï¼šHashSetä¸HashMapçš„åŒºåˆ«ï¼Ÿ&#34;&gt;&lt;a href=&#34;#é¢è¯•å®˜ï¼šHashSetä¸HashMapçš„åŒºåˆ«ï¼Ÿ&#34; class=&#34;headerlink&#34; title=&#34;é¢è¯•å®˜ï¼šHashSetä¸HashMapçš„åŒºåˆ«ï¼Ÿ&#34;&gt;&lt;/a&gt;é¢è¯•å®˜ï¼šHashSetä¸HashMapçš„åŒºåˆ«ï¼Ÿ&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äºº&lt;/strong&gt;ï¼šå—¯ï¼Œæ˜¯è¿™æ ·ã€‚&lt;/p&gt;
&lt;p&gt;HashSetåº•å±‚å…¶å®æ˜¯ç”¨HashMapå®ç°å­˜å‚¨çš„, HashSetå°è£…äº†ä¸€ç³»åˆ—HashMapçš„æ–¹æ³•. ä¾é HashMapæ¥å­˜å‚¨å…ƒç´ å€¼,(åˆ©ç”¨hashMapçš„keyé”®è¿›è¡Œå­˜å‚¨), è€Œvalueå€¼é»˜è®¤ä¸ºObjectå¯¹è±¡. æ‰€ä»¥HashSetä¹Ÿä¸å…è®¸å‡ºç°é‡å¤å€¼, åˆ¤æ–­æ ‡å‡†å’ŒHashMapåˆ¤æ–­æ ‡å‡†ç›¸åŒ, ä¸¤ä¸ªå…ƒç´ çš„hashCodeç›¸ç­‰å¹¶ä¸”é€šè¿‡equals()æ–¹æ³•è¿”å›true.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜ï¼šHashTableä¸HashMapçš„åŒºåˆ«&#34;&gt;&lt;a href=&#34;#é¢è¯•å®˜ï¼šHashTableä¸HashMapçš„åŒºåˆ«&#34; class=&#34;headerlink&#34; title=&#34;é¢è¯•å®˜ï¼šHashTableä¸HashMapçš„åŒºåˆ«&#34;&gt;&lt;/a&gt;é¢è¯•å®˜ï¼šHashTableä¸HashMapçš„åŒºåˆ«&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äºº&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;p&gt;å—¯ï¼Œä»–ä»¬çš„ä¸»è¦åŒºåˆ«æ˜¯æœ‰å‡ ä¸ªå§&lt;/p&gt;
&lt;p&gt;ç¬¬ä¸€ï¼Œæ•°æ®ç»“æ„ä¸ä¸€æ ·ï¼Œhashtableæ˜¯æ•°ç»„+é“¾è¡¨ï¼Œhashmapåœ¨1.8ä¹‹åæ”¹ä¸ºäº†æ•°ç»„+é“¾è¡¨+çº¢é»‘æ ‘&lt;/p&gt;
&lt;p&gt;ç¬¬äºŒï¼Œhashtableå­˜å‚¨æ•°æ®çš„æ—¶å€™éƒ½ä¸èƒ½ä¸ºnullï¼Œè€Œhashmapæ˜¯å¯ä»¥çš„&lt;/p&gt;
&lt;p&gt;ç¬¬ä¸‰ï¼Œhashç®—æ³•ä¸åŒï¼Œhashtableæ˜¯ç”¨æœ¬åœ°ä¿®é¥°çš„hashcodeå€¼ï¼Œè€Œhashmapç»å¸¸äº†äºŒæ¬¡hash&lt;/p&gt;
&lt;p&gt;ç¬¬å››ï¼Œæ‰©å®¹æ–¹å¼ä¸åŒï¼Œhashtableæ˜¯å½“å‰å®¹é‡ç¿»å€+1ï¼Œhashmapæ˜¯å½“å‰å®¹é‡ç¿»å€&lt;/p&gt;
&lt;p&gt;ç¬¬äº”ï¼Œhashtableæ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œæ“ä½œæ•°æ®çš„æ—¶å€™åŠ äº†é”synchronizedï¼Œhashmapä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œæ•ˆç‡æ›´é«˜ä¸€äº›&lt;/p&gt;
&lt;p&gt;åœ¨å®é™…å¼€ä¸­ä¸å»ºè®®ä½¿ç”¨HashTableï¼Œåœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸‹å¯ä»¥ä½¿ç”¨ConcurrentHashMapç±»&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;æœ¬æ–‡å¼•è‡ª&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly93d3cuYmlsaWJpbGkuY29tL3ZpZGVvL0JWMXlUNDExSDdZSy8=&#34;&gt;é»‘é©¬ç¨‹åºå‘˜Javaé¢è¯•å®å…¸&lt;/span&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
        <category term="é¢ç»" scheme="https://anoxiahub.github.io/categories/interview/" />
        <category term="JavaåŸºç¡€" scheme="https://anoxiahub.github.io/tags/Java%E5%9F%BA%E7%A1%80/" />
        <updated>2023-08-12T16:00:00.000Z</updated>
    </entry>
    <entry>
        <id>https://anoxiahub.github.io/interview/%E6%B6%88%E6%81%AF%E4%B8%AD%E9%97%B4%E4%BB%B6%E9%9D%A2%E8%AF%95%E9%A2%98-%E5%8F%82%E8%80%83%E5%9B%9E%E7%AD%94/</id>
        <title>æ¶ˆæ¯ä¸­é—´ä»¶ç›¸å…³é¢è¯•é¢˜</title>
        <link rel="alternate" href="https://anoxiahub.github.io/interview/%E6%B6%88%E6%81%AF%E4%B8%AD%E9%97%B4%E4%BB%B6%E9%9D%A2%E8%AF%95%E9%A2%98-%E5%8F%82%E8%80%83%E5%9B%9E%E7%AD%94/"/>
        <content type="html">&lt;h3 id=&#34;é¢è¯•å®˜ï¼šRabbitMQ-å¦‚ä½•ä¿è¯æ¶ˆæ¯ä¸ä¸¢å¤±&#34;&gt;&lt;a href=&#34;#é¢è¯•å®˜ï¼šRabbitMQ-å¦‚ä½•ä¿è¯æ¶ˆæ¯ä¸ä¸¢å¤±&#34; class=&#34;headerlink&#34; title=&#34;é¢è¯•å®˜ï¼šRabbitMQ-å¦‚ä½•ä¿è¯æ¶ˆæ¯ä¸ä¸¢å¤±&#34;&gt;&lt;/a&gt;é¢è¯•å®˜ï¼šRabbitMQ-å¦‚ä½•ä¿è¯æ¶ˆæ¯ä¸ä¸¢å¤±&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äºº&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;p&gt;å—¯ï¼æˆ‘ä»¬å½“æ—¶MYSQLå’ŒRedisçš„æ•°æ®åŒå†™ä¸€è‡´æ€§å°±æ˜¯é‡‡ç”¨RabbitMQå®ç°åŒæ­¥çš„ï¼Œè¿™é‡Œé¢å°±è¦æ±‚äº†æ¶ˆæ¯çš„é«˜å¯ç”¨æ€§ï¼Œæˆ‘ä»¬è¦ä¿è¯æ¶ˆæ¯çš„ä¸ä¸¢å¤±ã€‚ä¸»è¦ä»ä¸‰ä¸ªå±‚é¢è€ƒè™‘&lt;/p&gt;
&lt;p&gt;ç¬¬ä¸€ä¸ªæ˜¯å¼€å¯ç”Ÿäº§è€…ç¡®è®¤æœºåˆ¶ï¼Œç¡®ä¿ç”Ÿäº§è€…çš„æ¶ˆæ¯èƒ½åˆ°è¾¾é˜Ÿåˆ—ï¼Œå¦‚æœæŠ¥é”™å¯ä»¥å…ˆè®°å½•åˆ°æ—¥å¿—ä¸­ï¼Œå†å»ä¿®å¤æ•°æ®&lt;/p&gt;
&lt;p&gt;ç¬¬äºŒä¸ªæ˜¯å¼€å¯æŒä¹…åŒ–åŠŸèƒ½ï¼Œç¡®ä¿æ¶ˆæ¯æœªæ¶ˆè´¹å‰åœ¨é˜Ÿåˆ—ä¸­ä¸ä¼šä¸¢å¤±ï¼Œå…¶ä¸­çš„äº¤æ¢æœºã€é˜Ÿåˆ—ã€å’Œæ¶ˆæ¯éƒ½è¦åšæŒä¹…åŒ–&lt;/p&gt;
&lt;p&gt;ç¬¬ä¸‰ä¸ªæ˜¯å¼€å¯æ¶ˆè´¹è€…ç¡®è®¤æœºåˆ¶ä¸ºautoï¼Œç”±springç¡®è®¤æ¶ˆæ¯å¤„ç†æˆåŠŸåå®Œæˆackï¼Œå½“ç„¶ä¹Ÿéœ€è¦è®¾ç½®ä¸€å®šçš„é‡è¯•æ¬¡æ•°ï¼Œæˆ‘ä»¬å½“æ—¶è®¾ç½®äº†3æ¬¡ï¼Œå¦‚æœé‡è¯•3æ¬¡è¿˜æ²¡æœ‰æ”¶åˆ°æ¶ˆæ¯ï¼Œå°±å°†å¤±è´¥åçš„æ¶ˆæ¯æŠ•é€’åˆ°å¼‚å¸¸äº¤æ¢æœºï¼Œäº¤ç”±äººå·¥å¤„ç†&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜ï¼šRabbitMQæ¶ˆæ¯çš„é‡å¤æ¶ˆè´¹é—®é¢˜å¦‚ä½•è§£å†³çš„&#34;&gt;&lt;a href=&#34;#é¢è¯•å®˜ï¼šRabbitMQæ¶ˆæ¯çš„é‡å¤æ¶ˆè´¹é—®é¢˜å¦‚ä½•è§£å†³çš„&#34; class=&#34;headerlink&#34; title=&#34;é¢è¯•å®˜ï¼šRabbitMQæ¶ˆæ¯çš„é‡å¤æ¶ˆè´¹é—®é¢˜å¦‚ä½•è§£å†³çš„&#34;&gt;&lt;/a&gt;é¢è¯•å®˜ï¼šRabbitMQæ¶ˆæ¯çš„é‡å¤æ¶ˆè´¹é—®é¢˜å¦‚ä½•è§£å†³çš„&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äºº&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;p&gt;å—¯ï¼Œè¿™ä¸ªæˆ‘ä»¬è¿˜çœŸé‡åˆ°è¿‡ï¼Œæ˜¯è¿™æ ·çš„ï¼Œæˆ‘ä»¬å½“æ—¶æ¶ˆè´¹è€…æ˜¯è®¾ç½®äº†è‡ªåŠ¨ç¡®è®¤æœºåˆ¶ï¼Œå½“æœåŠ¡è¿˜æ²¡æ¥å¾—åŠç»™MQç¡®è®¤çš„æ—¶å€™ï¼ŒæœåŠ¡å®•æœºäº†ï¼Œå¯¼è‡´æœåŠ¡é‡å¯ä¹‹åï¼Œåˆæ¶ˆè´¹äº†ä¸€æ¬¡æ¶ˆæ¯ã€‚è¿™æ ·å°±é‡å¤æ¶ˆè´¹äº†&lt;/p&gt;
&lt;p&gt;å› ä¸ºæˆ‘ä»¬å½“æ—¶å¤„ç†çš„æ”¯ä»˜ï¼ˆè®¢å•|ä¸šåŠ¡å”¯ä¸€æ ‡è¯†ï¼‰ï¼Œå®ƒæœ‰ä¸€ä¸ªä¸šåŠ¡çš„å”¯ä¸€æ ‡è¯†ï¼Œæˆ‘ä»¬å†å¤„ç†æ¶ˆæ¯æ—¶ï¼Œå…ˆåˆ°æ•°æ®åº“æŸ¥è¯¢ä¸€ä¸‹ï¼Œè¿™ä¸ªæ•°æ®æ˜¯å¦å­˜åœ¨ï¼Œå¦‚æœä¸å­˜åœ¨ï¼Œè¯´æ˜æ²¡æœ‰å¤„ç†è¿‡ï¼Œè¿™ä¸ªæ—¶å€™å°±å¯ä»¥æ­£å¸¸å¤„ç†è¿™ä¸ªæ¶ˆæ¯äº†ã€‚å¦‚æœå·²ç»å­˜åœ¨è¿™ä¸ªæ•°æ®äº†ï¼Œå°±è¯´æ˜æ¶ˆæ¯é‡å¤æ¶ˆè´¹äº†ï¼Œæˆ‘ä»¬å°±ä¸éœ€è¦å†æ¶ˆè´¹äº†&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜ï¼šé‚£ä½ è¿˜çŸ¥é“å…¶ä»–çš„è§£å†³æ–¹æ¡ˆå—ï¼Ÿ&#34;&gt;&lt;a href=&#34;#é¢è¯•å®˜ï¼šé‚£ä½ è¿˜çŸ¥é“å…¶ä»–çš„è§£å†³æ–¹æ¡ˆå—ï¼Ÿ&#34; class=&#34;headerlink&#34; title=&#34;é¢è¯•å®˜ï¼šé‚£ä½ è¿˜çŸ¥é“å…¶ä»–çš„è§£å†³æ–¹æ¡ˆå—ï¼Ÿ&#34;&gt;&lt;/a&gt;é¢è¯•å®˜ï¼šé‚£ä½ è¿˜çŸ¥é“å…¶ä»–çš„è§£å†³æ–¹æ¡ˆå—ï¼Ÿ&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äºº&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;p&gt;å—¯ï¼Œæˆ‘æƒ³æƒ³~&lt;/p&gt;
&lt;p&gt;å…¶å®è¿™ä¸ªå°±æ˜¯å…¸å‹çš„å¹‚ç­‰çš„é—®é¢˜ï¼Œæ¯”å¦‚ï¼Œredisåˆ†å¸ƒå¼é”ã€æ•°æ®åº“çš„é”éƒ½æ˜¯å¯ä»¥çš„&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜ï¼šRabbitMQä¸­æ­»ä¿¡äº¤æ¢æœº-ï¼ˆRabbitMQå»¶è¿Ÿé˜Ÿåˆ—æœ‰äº†è§£è¿‡å˜›ï¼‰&#34;&gt;&lt;a href=&#34;#é¢è¯•å®˜ï¼šRabbitMQä¸­æ­»ä¿¡äº¤æ¢æœº-ï¼ˆRabbitMQå»¶è¿Ÿé˜Ÿåˆ—æœ‰äº†è§£è¿‡å˜›ï¼‰&#34; class=&#34;headerlink&#34; title=&#34;é¢è¯•å®˜ï¼šRabbitMQä¸­æ­»ä¿¡äº¤æ¢æœº ? ï¼ˆRabbitMQå»¶è¿Ÿé˜Ÿåˆ—æœ‰äº†è§£è¿‡å˜›ï¼‰&#34;&gt;&lt;/a&gt;é¢è¯•å®˜ï¼šRabbitMQä¸­æ­»ä¿¡äº¤æ¢æœº ? ï¼ˆRabbitMQå»¶è¿Ÿé˜Ÿåˆ—æœ‰äº†è§£è¿‡å˜›ï¼‰&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äºº&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;p&gt;å—¯ï¼äº†è§£è¿‡ï¼&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬å½“æ—¶çš„xxé¡¹ç›®æœ‰ä¸€ä¸ªxxä¸šåŠ¡ï¼Œéœ€è¦ç”¨åˆ°å»¶è¿Ÿé˜Ÿåˆ—ï¼Œå…¶ä¸­å°±æ˜¯ä½¿ç”¨RabbitMQæ¥å®ç°çš„ã€‚&lt;/p&gt;
&lt;p&gt;å»¶è¿Ÿé˜Ÿåˆ—å°±æ˜¯ç”¨åˆ°äº†æ­»ä¿¡äº¤æ¢æœºå’ŒTTLï¼ˆæ¶ˆæ¯å­˜æ´»æ—¶é—´ï¼‰å®ç°çš„ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœæ¶ˆæ¯è¶…æ—¶æœªæ¶ˆè´¹å°±ä¼šå˜æˆæ­»ä¿¡ï¼Œåœ¨RabbitMQä¸­å¦‚æœæ¶ˆæ¯æˆä¸ºæ­»ä¿¡ï¼Œé˜Ÿåˆ—å¯ä»¥ç»‘å®šä¸€ä¸ªæ­»ä¿¡äº¤æ¢æœºï¼Œåœ¨æ­»ä¿¡äº¤æ¢æœºä¸Šå¯ä»¥ç»‘å®šå…¶ä»–é˜Ÿåˆ—ï¼Œåœ¨æˆ‘ä»¬å‘æ¶ˆæ¯çš„æ—¶å€™å¯ä»¥æŒ‰ç…§éœ€æ±‚æŒ‡å®šTTLçš„æ—¶é—´ï¼Œè¿™æ ·å°±å®ç°äº†å»¶è¿Ÿé˜Ÿåˆ—çš„åŠŸèƒ½äº†ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘è®°å¾—RabbitMQè¿˜æœ‰ä¸€ç§æ–¹å¼å¯ä»¥å®ç°å»¶è¿Ÿé˜Ÿåˆ—ï¼Œåœ¨RabbitMQä¸­å®‰è£…ä¸€ä¸ªæ­»ä¿¡æ’ä»¶ï¼Œè¿™æ ·æ›´æ–¹ä¾¿ä¸€äº›ï¼Œæˆ‘ä»¬åªéœ€è¦åœ¨å£°æ˜äº¤äº’æœºçš„æ—¶å€™ï¼ŒæŒ‡å®šè¿™ä¸ªå°±æ˜¯æ­»ä¿¡äº¤æ¢æœºï¼Œç„¶ååœ¨å‘é€æ¶ˆæ¯çš„æ—¶å€™ç›´æ¥æŒ‡å®šè¶…æ—¶æ—¶é—´å°±è¡Œäº†ï¼Œç›¸å¯¹äºæ­»ä¿¡äº¤æ¢æœº+TTLè¦çœç•¥äº†ä¸€äº›æ­¥éª¤&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜ï¼šå¦‚æœæœ‰100ä¸‡æ¶ˆæ¯å †ç§¯åœ¨MQ-å¦‚ä½•è§£å†³&#34;&gt;&lt;a href=&#34;#é¢è¯•å®˜ï¼šå¦‚æœæœ‰100ä¸‡æ¶ˆæ¯å †ç§¯åœ¨MQ-å¦‚ä½•è§£å†³&#34; class=&#34;headerlink&#34; title=&#34;é¢è¯•å®˜ï¼šå¦‚æœæœ‰100ä¸‡æ¶ˆæ¯å †ç§¯åœ¨MQ , å¦‚ä½•è§£å†³ ?&#34;&gt;&lt;/a&gt;é¢è¯•å®˜ï¼šå¦‚æœæœ‰100ä¸‡æ¶ˆæ¯å †ç§¯åœ¨MQ , å¦‚ä½•è§£å†³ ?&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äºº&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;p&gt;æˆ‘åœ¨å®é™…çš„å¼€å‘ä¸­ï¼Œæ²¡é‡åˆ°è¿‡è¿™ç§æƒ…å†µï¼Œä¸è¿‡ï¼Œå¦‚æœå‘ç”Ÿäº†å †ç§¯çš„é—®é¢˜ï¼Œè§£å†³æ–¹æ¡ˆä¹Ÿæ‰€æœ‰å¾ˆå¤šçš„&lt;/p&gt;
&lt;p&gt;ç¬¬ä¸€:æé«˜æ¶ˆè´¹è€…çš„æ¶ˆè´¹èƒ½åŠ› ,å¯ä»¥ä½¿ç”¨å¤šçº¿ç¨‹æ¶ˆè´¹ä»»åŠ¡&lt;/p&gt;
&lt;p&gt;ç¬¬äºŒï¼šå¢åŠ æ›´å¤šæ¶ˆè´¹è€…ï¼Œæé«˜æ¶ˆè´¹é€Ÿåº¦ &lt;/p&gt;
&lt;p&gt;â€‹			 ä½¿ç”¨å·¥ä½œé˜Ÿåˆ—æ¨¡å¼, è®¾ç½®å¤šä¸ªæ¶ˆè´¹è€…æ¶ˆè´¹æ¶ˆè´¹åŒä¸€ä¸ªé˜Ÿåˆ—ä¸­çš„æ¶ˆæ¯&lt;/p&gt;
&lt;p&gt;ç¬¬ä¸‰ï¼šæ‰©å¤§é˜Ÿåˆ—å®¹ç§¯ï¼Œæé«˜å †ç§¯ä¸Šé™ &lt;/p&gt;
&lt;p&gt;å¯ä»¥ä½¿ç”¨RabbitMQæƒ°æ€§é˜Ÿåˆ—ï¼Œæƒ°æ€§é˜Ÿåˆ—çš„å¥½å¤„ä¸»è¦æ˜¯&lt;/p&gt;
&lt;p&gt;â‘ æ¥æ”¶åˆ°æ¶ˆæ¯åç›´æ¥å­˜å…¥ç£ç›˜è€Œéå†…å­˜&lt;/p&gt;
&lt;p&gt;â‘¡æ¶ˆè´¹è€…è¦æ¶ˆè´¹æ¶ˆæ¯æ—¶æ‰ä¼šä»ç£ç›˜ä¸­è¯»å–å¹¶åŠ è½½åˆ°å†…å­˜&lt;/p&gt;
&lt;p&gt;â‘¢æ”¯æŒæ•°ç™¾ä¸‡æ¡çš„æ¶ˆæ¯å­˜å‚¨&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜ï¼šRabbitMQçš„é«˜å¯ç”¨æœºåˆ¶æœ‰äº†è§£è¿‡å˜›&#34;&gt;&lt;a href=&#34;#é¢è¯•å®˜ï¼šRabbitMQçš„é«˜å¯ç”¨æœºåˆ¶æœ‰äº†è§£è¿‡å˜›&#34; class=&#34;headerlink&#34; title=&#34;é¢è¯•å®˜ï¼šRabbitMQçš„é«˜å¯ç”¨æœºåˆ¶æœ‰äº†è§£è¿‡å˜›&#34;&gt;&lt;/a&gt;é¢è¯•å®˜ï¼šRabbitMQçš„é«˜å¯ç”¨æœºåˆ¶æœ‰äº†è§£è¿‡å˜›&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äºº&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;p&gt;å—¯ï¼Œç†Ÿæ‚‰çš„~&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬å½“æ—¶é¡¹ç›®åœ¨ç”Ÿäº§ç¯å¢ƒä¸‹ï¼Œä½¿ç”¨çš„é›†ç¾¤ï¼Œå½“æ—¶æ­å»ºæ˜¯é•œåƒæ¨¡å¼é›†ç¾¤ï¼Œä½¿ç”¨äº†3å°æœºå™¨ã€‚&lt;/p&gt;
&lt;p&gt;é•œåƒé˜Ÿåˆ—ç»“æ„æ˜¯ä¸€ä¸»å¤šä»ï¼Œæ‰€æœ‰æ“ä½œéƒ½æ˜¯ä¸»èŠ‚ç‚¹å®Œæˆï¼Œç„¶ååŒæ­¥ç»™é•œåƒèŠ‚ç‚¹ï¼Œå¦‚æœä¸»èŠ‚ç‚¹å®•æœºåï¼Œé•œåƒèŠ‚ç‚¹ä¼šæ›¿ä»£æˆæ–°çš„ä¸»èŠ‚ç‚¹ï¼Œä¸è¿‡åœ¨ä¸»ä»åŒæ­¥å®Œæˆå‰ï¼Œä¸»èŠ‚ç‚¹å°±å·²ç»å®•æœºï¼Œå¯èƒ½å‡ºç°æ•°æ®ä¸¢å¤±&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜ï¼šé‚£å‡ºç°ä¸¢æ•°æ®æ€ä¹ˆè§£å†³å‘¢ï¼Ÿ&#34;&gt;&lt;a href=&#34;#é¢è¯•å®˜ï¼šé‚£å‡ºç°ä¸¢æ•°æ®æ€ä¹ˆè§£å†³å‘¢ï¼Ÿ&#34; class=&#34;headerlink&#34; title=&#34;é¢è¯•å®˜ï¼šé‚£å‡ºç°ä¸¢æ•°æ®æ€ä¹ˆè§£å†³å‘¢ï¼Ÿ&#34;&gt;&lt;/a&gt;é¢è¯•å®˜ï¼šé‚£å‡ºç°ä¸¢æ•°æ®æ€ä¹ˆè§£å†³å‘¢ï¼Ÿ&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äºº&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬å¯ä»¥é‡‡ç”¨ä»²è£é˜Ÿåˆ—ï¼Œä¸é•œåƒé˜Ÿåˆ—ä¸€æ ·ï¼Œéƒ½æ˜¯ä¸»ä»æ¨¡å¼ï¼Œæ”¯æŒä¸»ä»æ•°æ®åŒæ­¥ï¼Œä¸»ä»åŒæ­¥åŸºäºRaftåè®®ï¼Œå¼ºä¸€è‡´ã€‚&lt;/p&gt;
&lt;p&gt;å¹¶ä¸”ä½¿ç”¨èµ·æ¥ä¹Ÿéå¸¸ç®€å•ï¼Œä¸éœ€è¦é¢å¤–çš„é…ç½®ï¼Œåœ¨å£°æ˜é˜Ÿåˆ—çš„æ—¶å€™åªè¦æŒ‡å®šè¿™ä¸ªæ˜¯ä»²è£é˜Ÿåˆ—å³å¯&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜ï¼šKafkaæ˜¯å¦‚ä½•ä¿è¯æ¶ˆæ¯ä¸ä¸¢å¤±&#34;&gt;&lt;a href=&#34;#é¢è¯•å®˜ï¼šKafkaæ˜¯å¦‚ä½•ä¿è¯æ¶ˆæ¯ä¸ä¸¢å¤±&#34; class=&#34;headerlink&#34; title=&#34;é¢è¯•å®˜ï¼šKafkaæ˜¯å¦‚ä½•ä¿è¯æ¶ˆæ¯ä¸ä¸¢å¤±&#34;&gt;&lt;/a&gt;é¢è¯•å®˜ï¼šKafkaæ˜¯å¦‚ä½•ä¿è¯æ¶ˆæ¯ä¸ä¸¢å¤±&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äºº&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;p&gt;å—¯ï¼Œè¿™ä¸ªä¿è¯æœºåˆ¶å¾ˆå¤šï¼Œåœ¨å‘é€æ¶ˆæ¯åˆ°æ¶ˆè´¹è€…æ¥æ”¶æ¶ˆæ¯ï¼Œåœ¨æ¯ä¸ªé˜¶æ®µéƒ½æœ‰å¯èƒ½ä¼šä¸¢å¤±æ¶ˆæ¯ï¼Œæ‰€ä»¥æˆ‘ä»¬è§£å†³çš„è¯ä¹Ÿæ˜¯ä»å¤šä¸ªæ–¹é¢è€ƒè™‘&lt;/p&gt;
&lt;p&gt;ç¬¬ä¸€ä¸ªæ˜¯ç”Ÿäº§è€…å‘é€æ¶ˆæ¯çš„æ—¶å€™ï¼Œå¯ä»¥ä½¿ç”¨å¼‚æ­¥å›è°ƒå‘é€ï¼Œå¦‚æœæ¶ˆæ¯å‘é€å¤±è´¥ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å›è°ƒè·å–å¤±è´¥åçš„æ¶ˆæ¯ä¿¡æ¯ï¼Œå¯ä»¥è€ƒè™‘é‡è¯•æˆ–è®°å½•æ—¥å¿—ï¼Œåè¾¹å†åšè¡¥å¿éƒ½æ˜¯å¯ä»¥çš„ã€‚åŒæ—¶åœ¨ç”Ÿäº§è€…è¿™è¾¹è¿˜å¯ä»¥è®¾ç½®æ¶ˆæ¯é‡è¯•ï¼Œæœ‰çš„æ—¶å€™æ˜¯ç”±äºç½‘ç»œæŠ–åŠ¨çš„åŸå› å¯¼è‡´å‘é€ä¸æˆåŠŸï¼Œå°±å¯ä»¥ä½¿ç”¨é‡è¯•æœºåˆ¶æ¥è§£å†³&lt;/p&gt;
&lt;p&gt;ç¬¬äºŒä¸ªåœ¨brokerä¸­æ¶ˆæ¯æœ‰å¯èƒ½ä¼šä¸¢å¤±ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡kafkaçš„å¤åˆ¶æœºåˆ¶æ¥ç¡®ä¿æ¶ˆæ¯ä¸ä¸¢å¤±ï¼Œåœ¨ç”Ÿäº§è€…å‘é€æ¶ˆæ¯çš„æ—¶å€™ï¼Œå¯ä»¥è®¾ç½®ä¸€ä¸ªacksï¼Œå°±æ˜¯ç¡®è®¤æœºåˆ¶ã€‚æˆ‘ä»¬å¯ä»¥è®¾ç½®å‚æ•°ä¸ºallï¼Œè¿™æ ·çš„è¯ï¼Œå½“ç”Ÿäº§è€…å‘é€æ¶ˆæ¯åˆ°äº†åˆ†åŒºä¹‹åï¼Œä¸ä»…ä»…åªåœ¨leaderåˆ†åŒºä¿å­˜ç¡®è®¤ï¼Œåœ¨follweråˆ†åŒºä¹Ÿä¼šä¿å­˜ç¡®è®¤ï¼Œåªæœ‰å½“æ‰€æœ‰çš„å‰¯æœ¬éƒ½ä¿å­˜ç¡®è®¤ä»¥åæ‰ç®—æ˜¯æˆåŠŸå‘é€äº†æ¶ˆæ¯ï¼Œæ‰€ä»¥ï¼Œè¿™æ ·è®¾ç½®å°±å¾ˆå¤§ç¨‹åº¦äº†ä¿è¯äº†æ¶ˆæ¯ä¸ä¼šåœ¨brokerä¸¢å¤±&lt;/p&gt;
&lt;p&gt;ç¬¬ä¸‰ä¸ªæœ‰å¯èƒ½æ˜¯åœ¨æ¶ˆè´¹è€…ç«¯ä¸¢å¤±æ¶ˆæ¯ï¼Œkafkaæ¶ˆè´¹æ¶ˆæ¯éƒ½æ˜¯æŒ‰ç…§offsetè¿›è¡Œæ ‡è®°æ¶ˆè´¹çš„ï¼Œæ¶ˆè´¹è€…é»˜è®¤æ˜¯è‡ªåŠ¨æŒ‰æœŸæäº¤å·²ç»æ¶ˆè´¹çš„åç§»é‡ï¼Œé»˜è®¤æ˜¯æ¯éš”5sæäº¤ä¸€æ¬¡ï¼Œå¦‚æœå‡ºç°é‡å¹³è¡¡çš„æƒ…å†µï¼Œå¯èƒ½ä¼šé‡å¤æ¶ˆè´¹æˆ–ä¸¢å¤±æ•°æ®ã€‚æˆ‘ä»¬ä¸€èˆ¬éƒ½ä¼šç¦ç”¨æ‰è‡ªåŠ¨æä»·åç§»é‡ï¼Œæ”¹ä¸ºæ‰‹åŠ¨æäº¤ï¼Œå½“æ¶ˆè´¹æˆåŠŸä»¥åå†æŠ¥å‘Šç»™brokeræ¶ˆè´¹çš„ä½ç½®ï¼Œè¿™æ ·å°±å¯ä»¥é¿å…æ¶ˆæ¯ä¸¢å¤±å’Œé‡å¤æ¶ˆè´¹äº†&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜ï¼šKafkaä¸­æ¶ˆæ¯çš„é‡å¤æ¶ˆè´¹é—®é¢˜å¦‚ä½•è§£å†³çš„&#34;&gt;&lt;a href=&#34;#é¢è¯•å®˜ï¼šKafkaä¸­æ¶ˆæ¯çš„é‡å¤æ¶ˆè´¹é—®é¢˜å¦‚ä½•è§£å†³çš„&#34; class=&#34;headerlink&#34; title=&#34;é¢è¯•å®˜ï¼šKafkaä¸­æ¶ˆæ¯çš„é‡å¤æ¶ˆè´¹é—®é¢˜å¦‚ä½•è§£å†³çš„&#34;&gt;&lt;/a&gt;é¢è¯•å®˜ï¼šKafkaä¸­æ¶ˆæ¯çš„é‡å¤æ¶ˆè´¹é—®é¢˜å¦‚ä½•è§£å†³çš„&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äºº&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;p&gt;kafkaæ¶ˆè´¹æ¶ˆæ¯éƒ½æ˜¯æŒ‰ç…§offsetè¿›è¡Œæ ‡è®°æ¶ˆè´¹çš„ï¼Œæ¶ˆè´¹è€…é»˜è®¤æ˜¯è‡ªåŠ¨æŒ‰æœŸæäº¤å·²ç»æ¶ˆè´¹çš„åç§»é‡ï¼Œé»˜è®¤æ˜¯æ¯éš”5sæäº¤ä¸€æ¬¡ï¼Œå¦‚æœå‡ºç°é‡å¹³è¡¡çš„æƒ…å†µï¼Œå¯èƒ½ä¼šé‡å¤æ¶ˆè´¹æˆ–ä¸¢å¤±æ•°æ®ã€‚æˆ‘ä»¬ä¸€èˆ¬éƒ½ä¼šç¦ç”¨æ‰è‡ªåŠ¨æä»·åç§»é‡ï¼Œæ”¹ä¸ºæ‰‹åŠ¨æäº¤ï¼Œå½“æ¶ˆè´¹æˆåŠŸä»¥åå†æŠ¥å‘Šç»™brokeræ¶ˆè´¹çš„ä½ç½®ï¼Œè¿™æ ·å°±å¯ä»¥é¿å…æ¶ˆæ¯ä¸¢å¤±å’Œé‡å¤æ¶ˆè´¹äº†&lt;/p&gt;
&lt;p&gt;ä¸ºäº†æ¶ˆæ¯çš„å¹‚ç­‰ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥è®¾ç½®å”¯ä¸€ä¸»é”®æ¥è¿›è¡ŒåŒºåˆ†ï¼Œæˆ–è€…æ˜¯åŠ é”ï¼Œæ•°æ®åº“çš„é”ï¼Œæˆ–è€…æ˜¯redisåˆ†å¸ƒå¼é”ï¼Œéƒ½èƒ½è§£å†³å¹‚ç­‰çš„é—®é¢˜&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜ï¼šKafkaæ˜¯å¦‚ä½•ä¿è¯æ¶ˆè´¹çš„é¡ºåºæ€§&#34;&gt;&lt;a href=&#34;#é¢è¯•å®˜ï¼šKafkaæ˜¯å¦‚ä½•ä¿è¯æ¶ˆè´¹çš„é¡ºåºæ€§&#34; class=&#34;headerlink&#34; title=&#34;é¢è¯•å®˜ï¼šKafkaæ˜¯å¦‚ä½•ä¿è¯æ¶ˆè´¹çš„é¡ºåºæ€§&#34;&gt;&lt;/a&gt;é¢è¯•å®˜ï¼šKafkaæ˜¯å¦‚ä½•ä¿è¯æ¶ˆè´¹çš„é¡ºåºæ€§&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äºº&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;p&gt;kafkaé»˜è®¤å­˜å‚¨å’Œæ¶ˆè´¹æ¶ˆæ¯ï¼Œæ˜¯ä¸èƒ½ä¿è¯é¡ºåºæ€§çš„ï¼Œå› ä¸ºä¸€ä¸ªtopicæ•°æ®å¯èƒ½å­˜å‚¨åœ¨ä¸åŒçš„åˆ†åŒºä¸­ï¼Œæ¯ä¸ªåˆ†åŒºéƒ½æœ‰ä¸€ä¸ªæŒ‰ç…§é¡ºåºçš„å­˜å‚¨çš„åç§»é‡ï¼Œå¦‚æœæ¶ˆè´¹è€…å…³è”äº†å¤šä¸ªåˆ†åŒºä¸èƒ½ä¿è¯é¡ºåºæ€§&lt;/p&gt;
&lt;p&gt;å¦‚æœæœ‰è¿™æ ·çš„éœ€æ±‚çš„è¯ï¼Œæˆ‘ä»¬æ˜¯å¯ä»¥è§£å†³çš„ï¼ŒæŠŠæ¶ˆæ¯éƒ½å­˜å‚¨åŒä¸€ä¸ªåˆ†åŒºä¸‹å°±è¡Œäº†ï¼Œæœ‰ä¸¤ç§æ–¹å¼éƒ½å¯ä»¥è¿›è¡Œè®¾ç½®ï¼Œç¬¬ä¸€ä¸ªæ˜¯å‘é€æ¶ˆæ¯æ—¶æŒ‡å®šåˆ†åŒºå·ï¼Œç¬¬äºŒä¸ªæ˜¯å‘é€æ¶ˆæ¯æ—¶æŒ‰ç…§ç›¸åŒçš„ä¸šåŠ¡è®¾ç½®ç›¸åŒçš„keyï¼Œå› ä¸ºé»˜è®¤æƒ…å†µä¸‹åˆ†åŒºä¹Ÿæ˜¯é€šè¿‡keyçš„hashcodeå€¼æ¥é€‰æ‹©åˆ†åŒºçš„ï¼Œhashå€¼å¦‚æœä¸€æ ·çš„è¯ï¼Œåˆ†åŒºè‚¯å®šä¹Ÿæ˜¯ä¸€æ ·çš„&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜ï¼šKafkaçš„é«˜å¯ç”¨æœºåˆ¶æœ‰äº†è§£è¿‡å˜›&#34;&gt;&lt;a href=&#34;#é¢è¯•å®˜ï¼šKafkaçš„é«˜å¯ç”¨æœºåˆ¶æœ‰äº†è§£è¿‡å˜›&#34; class=&#34;headerlink&#34; title=&#34;é¢è¯•å®˜ï¼šKafkaçš„é«˜å¯ç”¨æœºåˆ¶æœ‰äº†è§£è¿‡å˜›&#34;&gt;&lt;/a&gt;é¢è¯•å®˜ï¼šKafkaçš„é«˜å¯ç”¨æœºåˆ¶æœ‰äº†è§£è¿‡å˜›&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äºº&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;p&gt;å—¯ï¼Œä¸»è¦æ˜¯æœ‰ä¸¤ä¸ªå±‚é¢ï¼Œç¬¬ä¸€ä¸ªæ˜¯é›†ç¾¤ï¼Œç¬¬äºŒä¸ªæ˜¯æä¾›äº†å¤åˆ¶æœºåˆ¶&lt;/p&gt;
&lt;p&gt;kafkaé›†ç¾¤æŒ‡çš„æ˜¯ç”±å¤šä¸ªbrokerå®ä¾‹ç»„æˆï¼Œå³ä½¿æŸä¸€å°å®•æœºï¼Œä¹Ÿä¸è€½è¯¯å…¶ä»–brokerç»§ç»­å¯¹å¤–æä¾›æœåŠ¡&lt;/p&gt;
&lt;p&gt;å¤åˆ¶æœºåˆ¶æ˜¯å¯ä»¥ä¿è¯kafkaçš„é«˜å¯ç”¨çš„ï¼Œä¸€ä¸ªtopicæœ‰å¤šä¸ªåˆ†åŒºï¼Œæ¯ä¸ªåˆ†åŒºæœ‰å¤šä¸ªå‰¯æœ¬ï¼Œæœ‰ä¸€ä¸ªleaderï¼Œå…¶ä½™çš„æ˜¯followerï¼Œå‰¯æœ¬å­˜å‚¨åœ¨ä¸åŒçš„brokerä¸­ï¼›æ‰€æœ‰çš„åˆ†åŒºå‰¯æœ¬çš„å†…å®¹æ˜¯éƒ½æ˜¯ç›¸åŒçš„ï¼Œå¦‚æœleaderå‘ç”Ÿæ•…éšœæ—¶ï¼Œä¼šè‡ªåŠ¨å°†å…¶ä¸­ä¸€ä¸ªfolloweræå‡ä¸ºleaderï¼Œä¿è¯äº†ç³»ç»Ÿçš„å®¹é”™æ€§ã€é«˜å¯ç”¨æ€§&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜ï¼šè§£é‡Šä¸€ä¸‹å¤åˆ¶æœºåˆ¶ä¸­çš„ISR&#34;&gt;&lt;a href=&#34;#é¢è¯•å®˜ï¼šè§£é‡Šä¸€ä¸‹å¤åˆ¶æœºåˆ¶ä¸­çš„ISR&#34; class=&#34;headerlink&#34; title=&#34;é¢è¯•å®˜ï¼šè§£é‡Šä¸€ä¸‹å¤åˆ¶æœºåˆ¶ä¸­çš„ISR&#34;&gt;&lt;/a&gt;é¢è¯•å®˜ï¼šè§£é‡Šä¸€ä¸‹å¤åˆ¶æœºåˆ¶ä¸­çš„ISR&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äºº&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;p&gt;ISRçš„æ„æ€æ˜¯in-sync replicaï¼Œå°±æ˜¯éœ€è¦åŒæ­¥å¤åˆ¶ä¿å­˜çš„follower&lt;/p&gt;
&lt;p&gt;å…¶ä¸­åˆ†åŒºå‰¯æœ¬æœ‰å¾ˆå¤šçš„followerï¼Œåˆ†ä¸ºäº†ä¸¤ç±»ï¼Œä¸€ä¸ªæ˜¯ISRï¼Œä¸leaderå‰¯æœ¬åŒæ­¥ä¿å­˜æ•°æ®ï¼Œå¦å¤–ä¸€ä¸ªæ™®é€šçš„å‰¯æœ¬ï¼Œæ˜¯å¼‚æ­¥åŒæ­¥æ•°æ®ï¼Œå½“leaderæŒ‚æ‰ä¹‹åï¼Œä¼šä¼˜å…ˆä»ISRå‰¯æœ¬åˆ—è¡¨ä¸­é€‰å–ä¸€ä¸ªä½œä¸ºleaderï¼Œå› ä¸ºISRæ˜¯åŒæ­¥ä¿å­˜æ•°æ®ï¼Œæ•°æ®æ›´åŠ çš„å®Œæ•´ä¸€äº›ï¼Œæ‰€ä»¥ä¼˜å…ˆé€‰æ‹©ISRå‰¯æœ¬åˆ—è¡¨&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜ï¼šKafkaæ•°æ®æ¸…ç†æœºåˆ¶äº†è§£è¿‡å˜›&#34;&gt;&lt;a href=&#34;#é¢è¯•å®˜ï¼šKafkaæ•°æ®æ¸…ç†æœºåˆ¶äº†è§£è¿‡å˜›&#34; class=&#34;headerlink&#34; title=&#34;é¢è¯•å®˜ï¼šKafkaæ•°æ®æ¸…ç†æœºåˆ¶äº†è§£è¿‡å˜›&#34;&gt;&lt;/a&gt;é¢è¯•å®˜ï¼šKafkaæ•°æ®æ¸…ç†æœºåˆ¶äº†è§£è¿‡å˜›&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äºº&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;p&gt;å—¯ï¼Œäº†è§£è¿‡~~&lt;/p&gt;
&lt;p&gt;Kafkaä¸­topicçš„æ•°æ®å­˜å‚¨åœ¨åˆ†åŒºä¸Šï¼Œåˆ†åŒºå¦‚æœæ–‡ä»¶è¿‡å¤§ä¼šåˆ†æ®µå­˜å‚¨segment&lt;/p&gt;
&lt;p&gt;æ¯ä¸ªåˆ†æ®µéƒ½åœ¨ç£ç›˜ä¸Šä»¥ç´¢å¼•(xxxx.index)å’Œæ—¥å¿—æ–‡ä»¶(xxxx.log)çš„å½¢å¼å­˜å‚¨ï¼Œè¿™æ ·åˆ†æ®µçš„å¥½å¤„æ˜¯ï¼Œç¬¬ä¸€èƒ½å¤Ÿå‡å°‘å•ä¸ªæ–‡ä»¶å†…å®¹çš„å¤§å°ï¼ŒæŸ¥æ‰¾æ•°æ®æ–¹ä¾¿ï¼Œç¬¬äºŒæ–¹ä¾¿kafkaè¿›è¡Œæ—¥å¿—æ¸…ç†ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨kafkaä¸­æä¾›äº†ä¸¤ä¸ªæ—¥å¿—çš„æ¸…ç†ç­–ç•¥ï¼š&lt;/p&gt;
&lt;p&gt;ç¬¬ä¸€ï¼Œæ ¹æ®æ¶ˆæ¯çš„ä¿ç•™æ—¶é—´ï¼Œå½“æ¶ˆæ¯ä¿å­˜çš„æ—¶é—´è¶…è¿‡äº†æŒ‡å®šçš„æ—¶é—´ï¼Œå°±ä¼šè§¦å‘æ¸…ç†ï¼Œé»˜è®¤æ˜¯168å°æ—¶ï¼ˆ 7å¤©ï¼‰&lt;/p&gt;
&lt;p&gt;ç¬¬äºŒæ˜¯æ ¹æ®topicå­˜å‚¨çš„æ•°æ®å¤§å°ï¼Œå½“topicæ‰€å çš„æ—¥å¿—æ–‡ä»¶å¤§å°å¤§äºä¸€å®šçš„é˜ˆå€¼ï¼Œåˆ™å¼€å§‹åˆ é™¤æœ€ä¹…çš„æ¶ˆæ¯ã€‚è¿™ä¸ªé»˜è®¤æ˜¯å…³é—­çš„&lt;/p&gt;
&lt;p&gt;è¿™ä¸¤ä¸ªç­–ç•¥éƒ½å¯ä»¥é€šè¿‡kafkaçš„brokerä¸­çš„é…ç½®æ–‡ä»¶è¿›è¡Œè®¾ç½®&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜ï¼šKafkaä¸­å®ç°é«˜æ€§èƒ½çš„è®¾è®¡æœ‰äº†è§£è¿‡å˜›&#34;&gt;&lt;a href=&#34;#é¢è¯•å®˜ï¼šKafkaä¸­å®ç°é«˜æ€§èƒ½çš„è®¾è®¡æœ‰äº†è§£è¿‡å˜›&#34; class=&#34;headerlink&#34; title=&#34;é¢è¯•å®˜ï¼šKafkaä¸­å®ç°é«˜æ€§èƒ½çš„è®¾è®¡æœ‰äº†è§£è¿‡å˜›&#34;&gt;&lt;/a&gt;é¢è¯•å®˜ï¼šKafkaä¸­å®ç°é«˜æ€§èƒ½çš„è®¾è®¡æœ‰äº†è§£è¿‡å˜›&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äºº&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;p&gt;Kafka é«˜æ€§èƒ½ï¼Œæ˜¯å¤šæ–¹é¢ååŒçš„ç»“æœï¼ŒåŒ…æ‹¬å®è§‚æ¶æ„ã€åˆ†å¸ƒå¼å­˜å‚¨ã€ISR æ•°æ®åŒæ­¥ã€ä»¥åŠé«˜æ•ˆçš„åˆ©ç”¨ç£ç›˜ã€æ“ä½œç³»ç»Ÿç‰¹æ€§ç­‰ã€‚ä¸»è¦ä½“ç°æœ‰è¿™ä¹ˆå‡ ç‚¹ï¼š&lt;/p&gt;
&lt;p&gt;æ¶ˆæ¯åˆ†åŒºï¼šä¸å—å•å°æœåŠ¡å™¨çš„é™åˆ¶ï¼Œå¯ä»¥ä¸å—é™çš„å¤„ç†æ›´å¤šçš„æ•°æ®&lt;/p&gt;
&lt;p&gt;é¡ºåºè¯»å†™ï¼šç£ç›˜é¡ºåºè¯»å†™ï¼Œæå‡è¯»å†™æ•ˆç‡&lt;/p&gt;
&lt;p&gt;é¡µç¼“å­˜ï¼šæŠŠç£ç›˜ä¸­çš„æ•°æ®ç¼“å­˜åˆ°å†…å­˜ä¸­ï¼ŒæŠŠå¯¹ç£ç›˜çš„è®¿é—®å˜ä¸ºå¯¹å†…å­˜çš„è®¿é—®&lt;/p&gt;
&lt;p&gt;é›¶æ‹·è´ï¼šå‡å°‘ä¸Šä¸‹æ–‡åˆ‡æ¢åŠæ•°æ®æ‹·è´&lt;/p&gt;
&lt;p&gt;æ¶ˆæ¯å‹ç¼©ï¼šå‡å°‘ç£ç›˜IOå’Œç½‘ç»œIO&lt;/p&gt;
&lt;p&gt;åˆ†æ‰¹å‘é€ï¼šå°†æ¶ˆæ¯æ‰“åŒ…æ‰¹é‡å‘é€ï¼Œå‡å°‘ç½‘ç»œå¼€é”€&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;æœ¬æ–‡å¼•è‡ª&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly93d3cuYmlsaWJpbGkuY29tL3ZpZGVvL0JWMXlUNDExSDdZSy8=&#34;&gt;é»‘é©¬ç¨‹åºå‘˜Javaé¢è¯•å®å…¸&lt;/span&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
        <category term="é¢ç»" scheme="https://anoxiahub.github.io/categories/interview/" />
        <category term="å¾®æœåŠ¡" scheme="https://anoxiahub.github.io/tags/%E5%BE%AE%E6%9C%8D%E5%8A%A1/" />
        <updated>2023-08-11T16:00:00.000Z</updated>
    </entry>
    <entry>
        <id>https://anoxiahub.github.io/interview/%E5%BE%AE%E6%9C%8D%E5%8A%A1%E9%9D%A2%E8%AF%95%E9%A2%98-%E5%8F%82%E8%80%83%E5%9B%9E%E7%AD%94/</id>
        <title>å¾®æœåŠ¡ç›¸å…³é¢è¯•é¢˜</title>
        <link rel="alternate" href="https://anoxiahub.github.io/interview/%E5%BE%AE%E6%9C%8D%E5%8A%A1%E9%9D%A2%E8%AF%95%E9%A2%98-%E5%8F%82%E8%80%83%E5%9B%9E%E7%AD%94/"/>
        <content type="html">&lt;h3 id=&#34;é¢è¯•å®˜ï¼šSpring-Cloud-5å¤§ç»„ä»¶æœ‰å“ªäº›ï¼Ÿ&#34;&gt;&lt;a href=&#34;#é¢è¯•å®˜ï¼šSpring-Cloud-5å¤§ç»„ä»¶æœ‰å“ªäº›ï¼Ÿ&#34; class=&#34;headerlink&#34; title=&#34;é¢è¯•å®˜ï¼šSpring Cloud 5å¤§ç»„ä»¶æœ‰å“ªäº›ï¼Ÿ&#34;&gt;&lt;/a&gt;é¢è¯•å®˜ï¼šSpring Cloud 5å¤§ç»„ä»¶æœ‰å“ªäº›ï¼Ÿ&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äººï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æ—©æœŸæˆ‘ä»¬ä¸€èˆ¬è®¤ä¸ºçš„Spring Cloudäº”å¤§ç»„ä»¶æ˜¯ &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Eureka   : æ³¨å†Œä¸­å¿ƒ&lt;/li&gt;
&lt;li&gt;Ribbon  : è´Ÿè½½å‡è¡¡&lt;/li&gt;
&lt;li&gt;Feign     : è¿œç¨‹è°ƒç”¨&lt;/li&gt;
&lt;li&gt;Hystrix :  æœåŠ¡ç†”æ–­&lt;/li&gt;
&lt;li&gt;Zuul&amp;#x2F;Gateway  : ç½‘å…³&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;éšç€SpringCloudAlibbaåœ¨å›½å†…å…´èµ· , æˆ‘ä»¬é¡¹ç›®ä¸­ä½¿ç”¨äº†ä¸€äº›é˜¿é‡Œå·´å·´çš„ç»„ä»¶ &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;æ³¨å†Œä¸­å¿ƒ&amp;#x2F;é…ç½®ä¸­å¿ƒ Nacos&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;è´Ÿè½½å‡è¡¡ Ribbon&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;æœåŠ¡è°ƒç”¨ Feign&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;æœåŠ¡ä¿æŠ¤ sentinel&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;æœåŠ¡ç½‘å…³ Gateway&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜ï¼šæœåŠ¡æ³¨å†Œå’Œå‘ç°æ˜¯ä»€ä¹ˆæ„æ€ï¼ŸSpring-Cloud-å¦‚ä½•å®ç°æœåŠ¡æ³¨å†Œå‘ç°ï¼Ÿ&#34;&gt;&lt;a href=&#34;#é¢è¯•å®˜ï¼šæœåŠ¡æ³¨å†Œå’Œå‘ç°æ˜¯ä»€ä¹ˆæ„æ€ï¼ŸSpring-Cloud-å¦‚ä½•å®ç°æœåŠ¡æ³¨å†Œå‘ç°ï¼Ÿ&#34; class=&#34;headerlink&#34; title=&#34;é¢è¯•å®˜ï¼šæœåŠ¡æ³¨å†Œå’Œå‘ç°æ˜¯ä»€ä¹ˆæ„æ€ï¼ŸSpring Cloud å¦‚ä½•å®ç°æœåŠ¡æ³¨å†Œå‘ç°ï¼Ÿ&#34;&gt;&lt;/a&gt;é¢è¯•å®˜ï¼šæœåŠ¡æ³¨å†Œå’Œå‘ç°æ˜¯ä»€ä¹ˆæ„æ€ï¼ŸSpring Cloud å¦‚ä½•å®ç°æœåŠ¡æ³¨å†Œå‘ç°ï¼Ÿ&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äººï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æˆ‘ç†è§£çš„æ˜¯ä¸»è¦ä¸‰å—å¤§åŠŸèƒ½ï¼Œåˆ†åˆ«æ˜¯æœåŠ¡æ³¨å†Œ ã€æœåŠ¡å‘ç°ã€æœåŠ¡çŠ¶æ€ç›‘æ§&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬å½“æ—¶é¡¹ç›®é‡‡ç”¨çš„eurekaä½œä¸ºæ³¨å†Œä¸­å¿ƒï¼Œè¿™ä¸ªä¹Ÿæ˜¯spring cloudä½“ç³»ä¸­çš„ä¸€ä¸ªæ ¸å¿ƒç»„ä»¶&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æœåŠ¡æ³¨å†Œ&lt;/strong&gt;ï¼šæœåŠ¡æä¾›è€…éœ€è¦æŠŠè‡ªå·±çš„ä¿¡æ¯æ³¨å†Œåˆ°eurekaï¼Œç”±eurekaæ¥ä¿å­˜è¿™äº›ä¿¡æ¯ï¼Œæ¯”å¦‚æœåŠ¡åç§°ã€ipã€ç«¯å£ç­‰ç­‰&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æœåŠ¡å‘ç°&lt;/strong&gt;ï¼šæ¶ˆè´¹è€…å‘eurekaæ‹‰å–æœåŠ¡åˆ—è¡¨ä¿¡æ¯ï¼Œå¦‚æœæœåŠ¡æä¾›è€…æœ‰é›†ç¾¤ï¼Œåˆ™æ¶ˆè´¹è€…ä¼šåˆ©ç”¨è´Ÿè½½å‡è¡¡ç®—æ³•ï¼Œé€‰æ‹©ä¸€ä¸ªå‘èµ·è°ƒç”¨&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æœåŠ¡ç›‘æ§&lt;/strong&gt;ï¼šæœåŠ¡æä¾›è€…ä¼šæ¯éš”30ç§’å‘eurekaå‘é€å¿ƒè·³ï¼ŒæŠ¥å‘Šå¥åº·çŠ¶æ€ï¼Œå¦‚æœeurekaæœåŠ¡90ç§’æ²¡æ¥æ”¶åˆ°å¿ƒè·³ï¼Œä»eurekaä¸­å‰”é™¤&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜ï¼šæˆ‘çœ‹ä½ ä¹‹å‰ä¹Ÿç”¨è¿‡nacosã€ä½ èƒ½è¯´ä¸‹nacosä¸eurekaçš„åŒºåˆ«ï¼Ÿ&#34;&gt;&lt;a href=&#34;#é¢è¯•å®˜ï¼šæˆ‘çœ‹ä½ ä¹‹å‰ä¹Ÿç”¨è¿‡nacosã€ä½ èƒ½è¯´ä¸‹nacosä¸eurekaçš„åŒºåˆ«ï¼Ÿ&#34; class=&#34;headerlink&#34; title=&#34;é¢è¯•å®˜ï¼šæˆ‘çœ‹ä½ ä¹‹å‰ä¹Ÿç”¨è¿‡nacosã€ä½ èƒ½è¯´ä¸‹nacosä¸eurekaçš„åŒºåˆ«ï¼Ÿ&#34;&gt;&lt;/a&gt;é¢è¯•å®˜ï¼šæˆ‘çœ‹ä½ ä¹‹å‰ä¹Ÿç”¨è¿‡nacosã€ä½ èƒ½è¯´ä¸‹nacosä¸eurekaçš„åŒºåˆ«ï¼Ÿ&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äººï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬å½“æ—¶xxé¡¹ç›®å°±æ˜¯é‡‡ç”¨çš„nacosä½œä¸ºæ³¨å†Œä¸­å¿ƒï¼Œé€‰æ‹©nacosè¿˜è¦ä¸€ä¸ªé‡è¦åŸå› å°±æ˜¯å®ƒæ”¯æŒé…ç½®ä¸­å¿ƒï¼Œä¸è¿‡nacosä½œä¸ºæ³¨å†Œä¸­å¿ƒï¼Œä¹Ÿæ¯”eurekaè¦æ–¹ä¾¿å¥½ç”¨ä¸€äº›ï¼Œä¸»è¦ç›¸åŒä¸åŒç‚¹åœ¨äºå‡ ç‚¹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å…±åŒç‚¹&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Nacosä¸eurekaéƒ½æ”¯æŒæœåŠ¡æ³¨å†Œå’ŒæœåŠ¡æ‹‰å–ï¼Œéƒ½æ”¯æŒæœåŠ¡æä¾›è€…å¿ƒè·³æ–¹å¼åšå¥åº·æ£€æµ‹&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Nacosä¸Eurekaçš„åŒºåˆ«&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;â‘ Nacosæ”¯æŒæœåŠ¡ç«¯ä¸»åŠ¨æ£€æµ‹æä¾›è€…çŠ¶æ€ï¼šä¸´æ—¶å®ä¾‹é‡‡ç”¨å¿ƒè·³æ¨¡å¼ï¼Œéä¸´æ—¶å®ä¾‹é‡‡ç”¨ä¸»åŠ¨æ£€æµ‹æ¨¡å¼&lt;/p&gt;
&lt;p&gt;â‘¡ä¸´æ—¶å®ä¾‹å¿ƒè·³ä¸æ­£å¸¸ä¼šè¢«å‰”é™¤ï¼Œéä¸´æ—¶å®ä¾‹åˆ™ä¸ä¼šè¢«å‰”é™¤&lt;/p&gt;
&lt;p&gt;â‘¢Nacosæ”¯æŒæœåŠ¡åˆ—è¡¨å˜æ›´çš„æ¶ˆæ¯æ¨é€æ¨¡å¼ï¼ŒæœåŠ¡åˆ—è¡¨æ›´æ–°æ›´åŠæ—¶&lt;/p&gt;
&lt;p&gt;â‘£Nacosé›†ç¾¤é»˜è®¤é‡‡ç”¨APæ–¹å¼ï¼Œå½“é›†ç¾¤ä¸­å­˜åœ¨éä¸´æ—¶å®ä¾‹æ—¶ï¼Œé‡‡ç”¨CPæ¨¡å¼ï¼›Eurekaé‡‡ç”¨APæ–¹å¼&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜ï¼šä½ ä»¬é¡¹ç›®è´Ÿè½½å‡è¡¡å¦‚ä½•å®ç°çš„&#34;&gt;&lt;a href=&#34;#é¢è¯•å®˜ï¼šä½ ä»¬é¡¹ç›®è´Ÿè½½å‡è¡¡å¦‚ä½•å®ç°çš„&#34; class=&#34;headerlink&#34; title=&#34;é¢è¯•å®˜ï¼šä½ ä»¬é¡¹ç›®è´Ÿè½½å‡è¡¡å¦‚ä½•å®ç°çš„ ?&#34;&gt;&lt;/a&gt;é¢è¯•å®˜ï¼šä½ ä»¬é¡¹ç›®è´Ÿè½½å‡è¡¡å¦‚ä½•å®ç°çš„ ?&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äººï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æ˜¯è¿™æ ·~~&lt;/p&gt;
&lt;p&gt;åœ¨æœåŠ¡è°ƒç”¨è¿‡ç¨‹ä¸­çš„è´Ÿè½½å‡è¡¡ä¸€èˆ¬ä½¿ç”¨SpringCloudçš„Ribbon ç»„ä»¶å®ç°  , Feignçš„åº•å±‚å·²ç»è‡ªåŠ¨é›†æˆäº†Ribbon  , ä½¿ç”¨èµ·æ¥éå¸¸ç®€å•&lt;/p&gt;
&lt;p&gt;å½“å‘èµ·è¿œç¨‹è°ƒç”¨æ—¶ï¼Œribbonå…ˆä»æ³¨å†Œä¸­å¿ƒæ‹‰å–æœåŠ¡åœ°å€åˆ—è¡¨ï¼Œç„¶åæŒ‰ç…§ä¸€å®šçš„è·¯ç”±ç­–ç•¥é€‰æ‹©ä¸€ä¸ªå‘èµ·è¿œç¨‹è°ƒç”¨ï¼Œä¸€èˆ¬çš„è°ƒç”¨ç­–ç•¥æ˜¯è½®è¯¢&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜ï¼šRibbonè´Ÿè½½å‡è¡¡ç­–ç•¥æœ‰å“ªäº›&#34;&gt;&lt;a href=&#34;#é¢è¯•å®˜ï¼šRibbonè´Ÿè½½å‡è¡¡ç­–ç•¥æœ‰å“ªäº›&#34; class=&#34;headerlink&#34; title=&#34;é¢è¯•å®˜ï¼šRibbonè´Ÿè½½å‡è¡¡ç­–ç•¥æœ‰å“ªäº› ?&#34;&gt;&lt;/a&gt;é¢è¯•å®˜ï¼šRibbonè´Ÿè½½å‡è¡¡ç­–ç•¥æœ‰å“ªäº› ?&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äººï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æˆ‘æƒ³æƒ³å•Šï¼Œæœ‰å¾ˆå¤šç§ï¼Œæˆ‘è®°å¾—å‡ ä¸ªï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;RoundRobinRuleï¼šç®€å•è½®è¯¢æœåŠ¡åˆ—è¡¨æ¥é€‰æ‹©æœåŠ¡å™¨&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;WeightedResponseTimeRuleï¼šæŒ‰ç…§æƒé‡æ¥é€‰æ‹©æœåŠ¡å™¨ï¼Œå“åº”æ—¶é—´è¶Šé•¿ï¼Œæƒé‡è¶Šå°&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;RandomRuleï¼šéšæœºé€‰æ‹©ä¸€ä¸ªå¯ç”¨çš„æœåŠ¡å™¨&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;ZoneAvoidanceRuleï¼šåŒºåŸŸæ•æ„Ÿç­–ç•¥ï¼Œä»¥åŒºåŸŸå¯ç”¨çš„æœåŠ¡å™¨ä¸ºåŸºç¡€è¿›è¡ŒæœåŠ¡å™¨çš„é€‰æ‹©ã€‚ä½¿ç”¨Zoneå¯¹æœåŠ¡å™¨è¿›è¡Œåˆ†ç±»ï¼Œè¿™ä¸ªZoneå¯ä»¥ç†è§£ä¸ºä¸€ä¸ªæœºæˆ¿ã€ä¸€ä¸ªæœºæ¶ç­‰ã€‚è€Œåå†å¯¹Zoneå†…çš„å¤šä¸ªæœåŠ¡åšè½®è¯¢(é»˜è®¤)&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜ï¼šå¦‚æœæƒ³è‡ªå®šä¹‰è´Ÿè½½å‡è¡¡ç­–ç•¥å¦‚ä½•å®ç°&#34;&gt;&lt;a href=&#34;#é¢è¯•å®˜ï¼šå¦‚æœæƒ³è‡ªå®šä¹‰è´Ÿè½½å‡è¡¡ç­–ç•¥å¦‚ä½•å®ç°&#34; class=&#34;headerlink&#34; title=&#34;é¢è¯•å®˜ï¼šå¦‚æœæƒ³è‡ªå®šä¹‰è´Ÿè½½å‡è¡¡ç­–ç•¥å¦‚ä½•å®ç° ?&#34;&gt;&lt;/a&gt;é¢è¯•å®˜ï¼šå¦‚æœæƒ³è‡ªå®šä¹‰è´Ÿè½½å‡è¡¡ç­–ç•¥å¦‚ä½•å®ç° ?&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äººï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æä¾›äº†ä¸¤ç§æ–¹å¼ï¼š&lt;/p&gt;
&lt;p&gt;1ï¼Œåˆ›å»ºç±»å®ç°IRuleæ¥å£ï¼Œå¯ä»¥æŒ‡å®šè´Ÿè½½å‡è¡¡ç­–ç•¥ï¼Œè¿™ä¸ªæ˜¯å…¨å±€çš„ï¼Œå¯¹æ‰€æœ‰çš„è¿œç¨‹è°ƒç”¨éƒ½èµ·ä½œç”¨&lt;/p&gt;
&lt;p&gt;2ï¼Œåœ¨å®¢æˆ·ç«¯çš„é…ç½®æ–‡ä»¶ä¸­ï¼Œå¯ä»¥é…ç½®æŸä¸€ä¸ªæœåŠ¡è°ƒç”¨çš„è´Ÿè½½å‡è¡¡ç­–ç•¥ï¼Œåªæ˜¯å¯¹é…ç½®çš„è¿™ä¸ªæœåŠ¡ç”Ÿæ•ˆè¿œç¨‹è°ƒç”¨&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜ï¼šä»€ä¹ˆæ˜¯æœåŠ¡é›ªå´©ï¼Œæ€ä¹ˆè§£å†³è¿™ä¸ªé—®é¢˜ï¼Ÿ&#34;&gt;&lt;a href=&#34;#é¢è¯•å®˜ï¼šä»€ä¹ˆæ˜¯æœåŠ¡é›ªå´©ï¼Œæ€ä¹ˆè§£å†³è¿™ä¸ªé—®é¢˜ï¼Ÿ&#34; class=&#34;headerlink&#34; title=&#34;é¢è¯•å®˜ï¼šä»€ä¹ˆæ˜¯æœåŠ¡é›ªå´©ï¼Œæ€ä¹ˆè§£å†³è¿™ä¸ªé—®é¢˜ï¼Ÿ&#34;&gt;&lt;/a&gt;é¢è¯•å®˜ï¼šä»€ä¹ˆæ˜¯æœåŠ¡é›ªå´©ï¼Œæ€ä¹ˆè§£å†³è¿™ä¸ªé—®é¢˜ï¼Ÿ&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äººï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æœåŠ¡é›ªå´©æ˜¯æŒ‡ä¸€ä¸ªæœåŠ¡å¤±è´¥ï¼Œå¯¼è‡´æ•´æ¡é“¾è·¯çš„æœåŠ¡éƒ½å¤±è´¥çš„æƒ…å½¢ï¼Œä¸€èˆ¬æˆ‘ä»¬åœ¨é¡¹ç›®è§£å†³çš„è¯å°±æ˜¯ä¸¤ç§æ–¹æ¡ˆï¼Œç¬¬ä¸€ä¸ªæ˜¯æœåŠ¡é™çº§ï¼Œç¬¬äºŒä¸ªæ˜¯æœåŠ¡ç†”æ–­ï¼Œå¦‚æœæµé‡å¤ªå¤§çš„è¯ï¼Œå¯ä»¥è€ƒè™‘é™æµ&lt;/p&gt;
&lt;p&gt;æœåŠ¡é™çº§ï¼šæœåŠ¡è‡ªæˆ‘ä¿æŠ¤çš„ä¸€ç§æ–¹å¼ï¼Œæˆ–è€…ä¿æŠ¤ä¸‹æ¸¸æœåŠ¡çš„ä¸€ç§æ–¹å¼ï¼Œç”¨äºç¡®ä¿æœåŠ¡ä¸ä¼šå—è¯·æ±‚çªå¢å½±å“å˜å¾—ä¸å¯ç”¨ï¼Œç¡®ä¿æœåŠ¡ä¸ä¼šå´©æºƒï¼Œä¸€èˆ¬åœ¨å®é™…å¼€å‘ä¸­ä¸feignæ¥å£æ•´åˆï¼Œç¼–å†™é™çº§é€»è¾‘&lt;/p&gt;
&lt;p&gt;æœåŠ¡ç†”æ–­ï¼šé»˜è®¤å…³é—­ï¼Œéœ€è¦æ‰‹åŠ¨æ‰“å¼€ï¼Œå¦‚æœæ£€æµ‹åˆ° 10 ç§’å†…è¯·æ±‚çš„å¤±è´¥ç‡è¶…è¿‡ 50%ï¼Œå°±è§¦å‘ç†”æ–­æœºåˆ¶ã€‚ä¹‹åæ¯éš” 5 ç§’é‡æ–°å°è¯•è¯·æ±‚å¾®æœåŠ¡ï¼Œå¦‚æœå¾®æœåŠ¡ä¸èƒ½å“åº”ï¼Œç»§ç»­èµ°ç†”æ–­æœºåˆ¶ã€‚å¦‚æœå¾®æœåŠ¡å¯è¾¾ï¼Œåˆ™å…³é—­ç†”æ–­æœºåˆ¶ï¼Œæ¢å¤æ­£å¸¸è¯·æ±‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜ï¼šä½ ä»¬çš„å¾®æœåŠ¡æ˜¯æ€ä¹ˆç›‘æ§çš„ï¼Ÿ&#34;&gt;&lt;a href=&#34;#é¢è¯•å®˜ï¼šä½ ä»¬çš„å¾®æœåŠ¡æ˜¯æ€ä¹ˆç›‘æ§çš„ï¼Ÿ&#34; class=&#34;headerlink&#34; title=&#34;é¢è¯•å®˜ï¼šä½ ä»¬çš„å¾®æœåŠ¡æ˜¯æ€ä¹ˆç›‘æ§çš„ï¼Ÿ&#34;&gt;&lt;/a&gt;é¢è¯•å®˜ï¼šä½ ä»¬çš„å¾®æœåŠ¡æ˜¯æ€ä¹ˆç›‘æ§çš„ï¼Ÿ&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äººï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬é¡¹ç›®ä¸­é‡‡ç”¨çš„skywalkingè¿›è¡Œç›‘æ§çš„&lt;/p&gt;
&lt;p&gt;1ï¼Œskywalkingä¸»è¦å¯ä»¥ç›‘æ§æ¥å£ã€æœåŠ¡ã€ç‰©ç†å®ä¾‹çš„ä¸€äº›çŠ¶æ€ã€‚ç‰¹åˆ«æ˜¯åœ¨å‹æµ‹çš„æ—¶å€™å¯ä»¥çœ‹åˆ°ä¼—å¤šæœåŠ¡ä¸­å“ªäº›æœåŠ¡å’Œæ¥å£æ¯”è¾ƒæ…¢ï¼Œæˆ‘ä»¬å¯ä»¥é’ˆå¯¹æ€§çš„åˆ†æå’Œä¼˜åŒ–ã€‚&lt;/p&gt;
&lt;p&gt;2ï¼Œæˆ‘ä»¬è¿˜åœ¨skywalkingè®¾ç½®äº†å‘Šè­¦è§„åˆ™ï¼Œç‰¹åˆ«æ˜¯åœ¨é¡¹ç›®ä¸Šçº¿ä»¥åï¼Œå¦‚æœæŠ¥é”™ï¼Œæˆ‘ä»¬åˆ†åˆ«è®¾ç½®äº†å¯ä»¥ç»™ç›¸å…³è´Ÿè´£äººå‘çŸ­ä¿¡å’Œå‘é‚®ä»¶ï¼Œç¬¬ä¸€æ—¶é—´çŸ¥é“é¡¹ç›®çš„bugæƒ…å†µï¼Œç¬¬ä¸€æ—¶é—´ä¿®å¤&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜ï¼šä½ ä»¬é¡¹ç›®ä¸­æœ‰æ²¡æœ‰åšè¿‡é™æµ-æ€ä¹ˆåšçš„&#34;&gt;&lt;a href=&#34;#é¢è¯•å®˜ï¼šä½ ä»¬é¡¹ç›®ä¸­æœ‰æ²¡æœ‰åšè¿‡é™æµ-æ€ä¹ˆåšçš„&#34; class=&#34;headerlink&#34; title=&#34;é¢è¯•å®˜ï¼šä½ ä»¬é¡¹ç›®ä¸­æœ‰æ²¡æœ‰åšè¿‡é™æµ ? æ€ä¹ˆåšçš„ ?&#34;&gt;&lt;/a&gt;é¢è¯•å®˜ï¼šä½ ä»¬é¡¹ç›®ä¸­æœ‰æ²¡æœ‰åšè¿‡é™æµ ? æ€ä¹ˆåšçš„ ?&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äººï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æˆ‘å½“æ—¶åšçš„xxé¡¹ç›®ï¼Œé‡‡ç”¨å°±æ˜¯å¾®æœåŠ¡çš„æ¶æ„ï¼Œå› ä¸ºxxå› ä¸ºï¼Œåº”è¯¥ä¼šæœ‰çªå‘æµé‡ï¼Œæœ€å¤§QPSå¯ä»¥è¾¾åˆ°2000ï¼Œä½†æ˜¯æœåŠ¡æ”¯æ’‘ä¸ä½ï¼Œæˆ‘ä»¬é¡¹ç›®éƒ½é€šè¿‡å‹æµ‹æœ€å¤šå¯ä»¥æ”¯æ’‘1200QPSã€‚å› ä¸ºæˆ‘ä»¬å¹³æ—¶çš„QPSä¹Ÿå°±ä¸åˆ°100ï¼Œä¸ºäº†è§£å†³è¿™äº›çªå‘æµé‡ï¼Œæ‰€ä»¥é‡‡ç”¨äº†é™æµã€‚&lt;/p&gt;
&lt;p&gt;ã€ç‰ˆæœ¬1ã€‘&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬å½“æ—¶é‡‡ç”¨çš„nginxé™æµæ“ä½œï¼Œnginxä½¿ç”¨çš„æ¼æ¡¶ç®—æ³•æ¥å®ç°è¿‡æ»¤ï¼Œè®©è¯·æ±‚ä»¥å›ºå®šçš„é€Ÿç‡å¤„ç†è¯·æ±‚ï¼Œå¯ä»¥åº”å¯¹çªå‘æµé‡ï¼Œæˆ‘ä»¬æ§åˆ¶çš„é€Ÿç‡æ˜¯æŒ‰ç…§ipè¿›è¡Œé™æµï¼Œé™åˆ¶çš„æµé‡æ˜¯æ¯ç§’20&lt;/p&gt;
&lt;p&gt;ã€ç‰ˆæœ¬2ã€‘&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬å½“æ—¶é‡‡ç”¨çš„æ˜¯spring cloud gatewayä¸­æ”¯æŒå±€éƒ¨è¿‡æ»¤å™¨RequestRateLimiteræ¥åšé™æµï¼Œä½¿ç”¨çš„æ˜¯ä»¤ç‰Œæ¡¶ç®—æ³•ï¼Œå¯ä»¥æ ¹æ®ipæˆ–è·¯å¾„è¿›è¡Œé™æµï¼Œå¯ä»¥è®¾ç½®æ¯ç§’å¡«å……å¹³å‡é€Ÿç‡ï¼Œå’Œä»¤ç‰Œæ¡¶æ€»å®¹é‡&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜ï¼šé™æµå¸¸è§çš„ç®—æ³•æœ‰å“ªäº›å‘¢ï¼Ÿ&#34;&gt;&lt;a href=&#34;#é¢è¯•å®˜ï¼šé™æµå¸¸è§çš„ç®—æ³•æœ‰å“ªäº›å‘¢ï¼Ÿ&#34; class=&#34;headerlink&#34; title=&#34;é¢è¯•å®˜ï¼šé™æµå¸¸è§çš„ç®—æ³•æœ‰å“ªäº›å‘¢ï¼Ÿ&#34;&gt;&lt;/a&gt;é¢è¯•å®˜ï¼šé™æµå¸¸è§çš„ç®—æ³•æœ‰å“ªäº›å‘¢ï¼Ÿ&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äººï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æ¯”è¾ƒå¸¸è§çš„é™æµç®—æ³•æœ‰æ¼æ¡¶ç®—æ³•å’Œä»¤ç‰Œæ¡¶ç®—æ³•&lt;/p&gt;
&lt;p&gt;æ¼æ¡¶ç®—æ³•æ˜¯æŠŠè¯·æ±‚å­˜å…¥åˆ°æ¡¶ä¸­ï¼Œä»¥å›ºå®šé€Ÿç‡ä»æ¡¶ä¸­æµå‡ºï¼Œå¯ä»¥è®©æˆ‘ä»¬çš„æœåŠ¡åšåˆ°ç»å¯¹çš„å¹³å‡ï¼Œèµ·åˆ°å¾ˆå¥½çš„é™æµæ•ˆæœ&lt;/p&gt;
&lt;p&gt;ä»¤ç‰Œæ¡¶ç®—æ³•åœ¨æ¡¶ä¸­å­˜å‚¨çš„æ˜¯ä»¤ç‰Œï¼ŒæŒ‰ç…§ä¸€å®šçš„é€Ÿç‡ç”Ÿæˆä»¤ç‰Œï¼Œæ¯ä¸ªè¯·æ±‚éƒ½è¦å…ˆç”³è¯·ä»¤ç‰Œï¼Œç”³è¯·åˆ°ä»¤ç‰Œä»¥åæ‰èƒ½æ­£å¸¸è¯·æ±‚ï¼Œä¹Ÿå¯ä»¥èµ·åˆ°å¾ˆå¥½çš„é™æµä½œç”¨&lt;/p&gt;
&lt;p&gt;å®ƒä»¬çš„åŒºåˆ«æ˜¯ï¼Œæ¼æ¡¶å’Œä»¤ç‰Œæ¡¶éƒ½å¯ä»¥å¤„ç†çªå‘æµé‡ï¼Œå…¶ä¸­æ¼æ¡¶å¯ä»¥åšåˆ°ç»å¯¹çš„å¹³æ»‘ï¼Œä»¤ç‰Œæ¡¶æœ‰å¯èƒ½ä¼šäº§ç”Ÿçªå‘å¤§é‡è¯·æ±‚çš„æƒ…å†µï¼Œä¸€èˆ¬nginxé™æµé‡‡ç”¨çš„æ¼æ¡¶ï¼Œspring cloud gatewayä¸­å¯ä»¥æ”¯æŒä»¤ç‰Œæ¡¶ç®—æ³•&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜ï¼šä»€ä¹ˆæ˜¯CAPç†è®ºï¼Ÿ&#34;&gt;&lt;a href=&#34;#é¢è¯•å®˜ï¼šä»€ä¹ˆæ˜¯CAPç†è®ºï¼Ÿ&#34; class=&#34;headerlink&#34; title=&#34;é¢è¯•å®˜ï¼šä»€ä¹ˆæ˜¯CAPç†è®ºï¼Ÿ&#34;&gt;&lt;/a&gt;é¢è¯•å®˜ï¼šä»€ä¹ˆæ˜¯CAPç†è®ºï¼Ÿ&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äºº&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;p&gt;CAPä¸»è¦æ˜¯åœ¨åˆ†å¸ƒå¼é¡¹ç›®ä¸‹çš„ä¸€ä¸ªç†è®ºã€‚åŒ…å«äº†ä¸‰é¡¹ï¼Œä¸€è‡´æ€§ã€å¯ç”¨æ€§ã€åˆ†åŒºå®¹é”™æ€§&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;ä¸€è‡´æ€§(Consistency)æ˜¯æŒ‡æ›´æ–°æ“ä½œæˆåŠŸå¹¶è¿”å›å®¢æˆ·ç«¯å®Œæˆåï¼Œæ‰€æœ‰èŠ‚ç‚¹åœ¨åŒä¸€æ—¶é—´çš„æ•°æ®å®Œå…¨ä¸€è‡´(å¼ºä¸€è‡´æ€§)ï¼Œä¸èƒ½å­˜åœ¨ä¸­é—´çŠ¶æ€ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;å¯ç”¨æ€§(Availability) æ˜¯æŒ‡ç³»ç»Ÿæä¾›çš„æœåŠ¡å¿…é¡»ä¸€ç›´å¤„äºå¯ç”¨çš„çŠ¶æ€ï¼Œå¯¹äºç”¨æˆ·çš„æ¯ä¸€ä¸ªæ“ä½œè¯·æ±‚æ€»æ˜¯èƒ½å¤Ÿåœ¨æœ‰é™çš„æ—¶é—´å†…è¿”å›ç»“æœã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;åˆ†åŒºå®¹é”™æ€§(Partition tolerance) æ˜¯æŒ‡åˆ†å¸ƒå¼ç³»ç»Ÿåœ¨é‡åˆ°ä»»ä½•ç½‘ç»œåˆ†åŒºæ•…éšœæ—¶ï¼Œä»ç„¶éœ€è¦èƒ½å¤Ÿä¿è¯å¯¹å¤–æä¾›æ»¡è¶³ä¸€è‡´æ€§å’Œå¯ç”¨æ€§çš„æœåŠ¡ï¼Œé™¤éæ˜¯æ•´ä¸ªç½‘ç»œç¯å¢ƒéƒ½å‘ç”Ÿäº†æ•…éšœã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜ï¼šä¸ºä»€ä¹ˆåˆ†å¸ƒå¼ç³»ç»Ÿä¸­æ— æ³•åŒæ—¶ä¿è¯ä¸€è‡´æ€§å’Œå¯ç”¨æ€§ï¼Ÿ&#34;&gt;&lt;a href=&#34;#é¢è¯•å®˜ï¼šä¸ºä»€ä¹ˆåˆ†å¸ƒå¼ç³»ç»Ÿä¸­æ— æ³•åŒæ—¶ä¿è¯ä¸€è‡´æ€§å’Œå¯ç”¨æ€§ï¼Ÿ&#34; class=&#34;headerlink&#34; title=&#34;é¢è¯•å®˜ï¼šä¸ºä»€ä¹ˆåˆ†å¸ƒå¼ç³»ç»Ÿä¸­æ— æ³•åŒæ—¶ä¿è¯ä¸€è‡´æ€§å’Œå¯ç”¨æ€§ï¼Ÿ&#34;&gt;&lt;/a&gt;é¢è¯•å®˜ï¼šä¸ºä»€ä¹ˆåˆ†å¸ƒå¼ç³»ç»Ÿä¸­æ— æ³•åŒæ—¶ä¿è¯ä¸€è‡´æ€§å’Œå¯ç”¨æ€§ï¼Ÿ&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äºº&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;p&gt;å—¯ï¼Œæ˜¯è¿™æ ·çš„~~&lt;/p&gt;
&lt;p&gt;é¦–å…ˆä¸€ä¸ªå‰æï¼Œå¯¹äºåˆ†å¸ƒå¼ç³»ç»Ÿè€Œè¨€ï¼Œåˆ†åŒºå®¹é”™æ€§æ˜¯ä¸€ä¸ªæœ€åŸºæœ¬çš„è¦æ±‚ï¼Œå› æ­¤åŸºæœ¬ä¸Šæˆ‘ä»¬åœ¨è®¾è®¡åˆ†å¸ƒå¼ç³»ç»Ÿçš„æ—¶å€™åªèƒ½ä»ä¸€è‡´æ€§ï¼ˆCï¼‰å’Œå¯ç”¨æ€§ï¼ˆAï¼‰ä¹‹é—´è¿›è¡Œå–èˆã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœä¿è¯äº†ä¸€è‡´æ€§ï¼ˆCï¼‰ï¼šå¯¹äºèŠ‚ç‚¹N1å’ŒN2ï¼Œå½“å¾€N1é‡Œå†™æ•°æ®æ—¶ï¼ŒN2ä¸Šçš„æ“ä½œå¿…é¡»è¢«æš‚åœï¼Œåªæœ‰å½“N1åŒæ­¥æ•°æ®åˆ°N2æ—¶æ‰èƒ½å¯¹N2è¿›è¡Œè¯»å†™è¯·æ±‚ï¼Œåœ¨N2è¢«æš‚åœæ“ä½œæœŸé—´å®¢æˆ·ç«¯æäº¤çš„è¯·æ±‚ä¼šæ”¶åˆ°å¤±è´¥æˆ–è¶…æ—¶ã€‚æ˜¾ç„¶ï¼Œè¿™ä¸å¯ç”¨æ€§æ˜¯ç›¸æ‚–çš„ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœä¿è¯äº†å¯ç”¨æ€§ï¼ˆAï¼‰ï¼šé‚£å°±ä¸èƒ½æš‚åœN2çš„è¯»å†™æ“ä½œï¼Œä½†åŒæ—¶N1åœ¨å†™æ•°æ®çš„è¯ï¼Œè¿™å°±è¿èƒŒäº†ä¸€è‡´æ€§çš„è¦æ±‚ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜ï¼šä»€ä¹ˆæ˜¯BASEç†è®ºï¼Ÿ&#34;&gt;&lt;a href=&#34;#é¢è¯•å®˜ï¼šä»€ä¹ˆæ˜¯BASEç†è®ºï¼Ÿ&#34; class=&#34;headerlink&#34; title=&#34;é¢è¯•å®˜ï¼šä»€ä¹ˆæ˜¯BASEç†è®ºï¼Ÿ&#34;&gt;&lt;/a&gt;é¢è¯•å®˜ï¼šä»€ä¹ˆæ˜¯BASEç†è®ºï¼Ÿ&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äºº&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;p&gt;å—¯ï¼Œè¿™ä¸ªä¹Ÿæ˜¯CAPåˆ†å¸ƒå¼ç³»ç»Ÿè®¾è®¡ç†è®º&lt;/p&gt;
&lt;p&gt;BASEæ˜¯CAPç†è®ºä¸­APæ–¹æ¡ˆçš„å»¶ä¼¸ï¼Œæ ¸å¿ƒæ€æƒ³æ˜¯å³ä½¿æ— æ³•åšåˆ°å¼ºä¸€è‡´æ€§ï¼ˆStrongConsistencyï¼ŒCAPçš„ä¸€è‡´æ€§å°±æ˜¯å¼ºä¸€è‡´æ€§ï¼‰ï¼Œä½†åº”ç”¨å¯ä»¥é‡‡ç”¨é€‚åˆçš„æ–¹å¼è¾¾åˆ°æœ€ç»ˆä¸€è‡´æ€§ï¼ˆEventual Consitencyï¼‰ã€‚å®ƒçš„æ€æƒ³åŒ…å«ä¸‰æ–¹é¢ï¼š&lt;/p&gt;
&lt;p&gt;1ã€Basically Availableï¼ˆåŸºæœ¬å¯ç”¨ï¼‰ï¼šåŸºæœ¬å¯ç”¨æ˜¯æŒ‡åˆ†å¸ƒå¼ç³»ç»Ÿåœ¨å‡ºç°ä¸å¯é¢„çŸ¥çš„æ•…éšœçš„æ—¶å€™ï¼Œå…è®¸æŸå¤±éƒ¨åˆ†å¯ç”¨æ€§ï¼Œä½†ä¸ç­‰äºç³»ç»Ÿä¸å¯ç”¨ã€‚&lt;/p&gt;
&lt;p&gt;2ã€Soft stateï¼ˆè½¯çŠ¶æ€ï¼‰ï¼šå³æ˜¯æŒ‡å…è®¸ç³»ç»Ÿä¸­çš„æ•°æ®å­˜åœ¨ä¸­é—´çŠ¶æ€ï¼Œå¹¶è®¤ä¸ºè¯¥ä¸­é—´çŠ¶æ€çš„å­˜åœ¨ä¸ä¼šå½±å“ç³»ç»Ÿçš„æ•´ä½“å¯ç”¨æ€§ï¼Œå³å…è®¸ç³»ç»Ÿåœ¨ä¸åŒèŠ‚ç‚¹çš„æ•°æ®å‰¯æœ¬ä¹‹é—´è¿›è¡Œæ•°æ®åŒæ­¥çš„è¿‡ç¨‹å­˜åœ¨å»¶æ—¶ã€‚&lt;/p&gt;
&lt;p&gt;3ã€Eventually consistentï¼ˆæœ€ç»ˆä¸€è‡´æ€§ï¼‰ï¼šå¼ºè°ƒç³»ç»Ÿä¸­æ‰€æœ‰çš„æ•°æ®å‰¯æœ¬ï¼Œåœ¨ç»è¿‡ä¸€æ®µæ—¶é—´çš„åŒæ­¥åï¼Œæœ€ç»ˆèƒ½å¤Ÿè¾¾åˆ°ä¸€ä¸ªä¸€è‡´çš„çŠ¶æ€ã€‚å…¶æœ¬è´¨æ˜¯éœ€è¦ç³»ç»Ÿä¿è¯æœ€ç»ˆæ•°æ®èƒ½å¤Ÿè¾¾åˆ°ä¸€è‡´ï¼Œè€Œä¸éœ€è¦å®æ—¶ä¿è¯ç³»ç»Ÿæ•°æ®çš„å¼ºä¸€è‡´æ€§ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜ï¼šä½ ä»¬é‡‡ç”¨å“ªç§åˆ†å¸ƒå¼äº‹åŠ¡è§£å†³æ–¹æ¡ˆï¼Ÿ&#34;&gt;&lt;a href=&#34;#é¢è¯•å®˜ï¼šä½ ä»¬é‡‡ç”¨å“ªç§åˆ†å¸ƒå¼äº‹åŠ¡è§£å†³æ–¹æ¡ˆï¼Ÿ&#34; class=&#34;headerlink&#34; title=&#34;é¢è¯•å®˜ï¼šä½ ä»¬é‡‡ç”¨å“ªç§åˆ†å¸ƒå¼äº‹åŠ¡è§£å†³æ–¹æ¡ˆï¼Ÿ&#34;&gt;&lt;/a&gt;é¢è¯•å®˜ï¼šä½ ä»¬é‡‡ç”¨å“ªç§åˆ†å¸ƒå¼äº‹åŠ¡è§£å†³æ–¹æ¡ˆï¼Ÿ&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äººï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬å½“æ—¶æ˜¯xxé¡¹ç›®ï¼Œä¸»è¦ä½¿ç”¨åˆ°çš„seataçš„atæ¨¡å¼è§£å†³çš„åˆ†å¸ƒå¼äº‹åŠ¡&lt;/p&gt;
&lt;p&gt;seataçš„ATæ¨¡å‹åˆ†ä¸ºä¸¤ä¸ªé˜¶æ®µï¼š&lt;/p&gt;
&lt;p&gt;1ã€é˜¶æ®µä¸€RMçš„å·¥ä½œï¼šâ‘  æ³¨å†Œåˆ†æ”¯äº‹åŠ¡  â‘¡ è®°å½•undo-logï¼ˆæ•°æ®å¿«ç…§ï¼‰â‘¢ æ‰§è¡Œä¸šåŠ¡sqlå¹¶æäº¤ â‘£æŠ¥å‘Šäº‹åŠ¡çŠ¶æ€&lt;/p&gt;
&lt;p&gt;2ã€é˜¶æ®µäºŒæäº¤æ—¶RMçš„å·¥ä½œï¼šåˆ é™¤undo-logå³å¯&lt;/p&gt;
&lt;p&gt;3ã€é˜¶æ®µäºŒå›æ»šæ—¶RMçš„å·¥ä½œï¼šæ ¹æ®undo-logæ¢å¤æ•°æ®åˆ°æ›´æ–°å‰&lt;/p&gt;
&lt;p&gt;atæ¨¡å¼ç‰ºç‰²äº†ä¸€è‡´æ€§ï¼Œä¿è¯äº†å¯ç”¨æ€§ï¼Œä¸è¿‡ï¼Œå®ƒä¿è¯çš„æ˜¯æœ€ç»ˆä¸€è‡´æ€§&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜ï¼šåˆ†å¸ƒå¼æœåŠ¡çš„æ¥å£å¹‚ç­‰æ€§å¦‚ä½•è®¾è®¡ï¼Ÿ&#34;&gt;&lt;a href=&#34;#é¢è¯•å®˜ï¼šåˆ†å¸ƒå¼æœåŠ¡çš„æ¥å£å¹‚ç­‰æ€§å¦‚ä½•è®¾è®¡ï¼Ÿ&#34; class=&#34;headerlink&#34; title=&#34;é¢è¯•å®˜ï¼šåˆ†å¸ƒå¼æœåŠ¡çš„æ¥å£å¹‚ç­‰æ€§å¦‚ä½•è®¾è®¡ï¼Ÿ&#34;&gt;&lt;/a&gt;é¢è¯•å®˜ï¼šåˆ†å¸ƒå¼æœåŠ¡çš„æ¥å£å¹‚ç­‰æ€§å¦‚ä½•è®¾è®¡ï¼Ÿ&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äººï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å—¯ï¼Œæˆ‘ä»¬å½“æ—¶æœ‰ä¸€ä¸ªxxé¡¹ç›®çš„ä¸‹å•æ“ä½œï¼Œé‡‡ç”¨çš„token+rediså®ç°çš„ï¼Œæµç¨‹æ˜¯è¿™æ ·çš„&lt;/p&gt;
&lt;p&gt;ç¬¬ä¸€æ¬¡è¯·æ±‚ï¼Œä¹Ÿå°±æ˜¯ç”¨æˆ·æ‰“å¼€äº†å•†å“è¯¦æƒ…é¡µé¢ï¼Œæˆ‘ä»¬ä¼šå‘èµ·ä¸€ä¸ªè¯·æ±‚ï¼Œåœ¨åå°ç”Ÿæˆä¸€ä¸ªå”¯ä¸€tokenå­˜å…¥redisï¼Œkeyå°±æ˜¯ç”¨æˆ·çš„idï¼Œvalueå°±æ˜¯è¿™ä¸ªtokenï¼ŒåŒæ—¶æŠŠè¿™ä¸ªtokenè¿”å›å‰ç«¯&lt;/p&gt;
&lt;p&gt;ç¬¬äºŒæ¬¡è¯·æ±‚ï¼Œå½“ç”¨æˆ·ç‚¹å‡»äº†ä¸‹å•æ“ä½œä¼šåï¼Œä¼šæºå¸¦ä¹‹å‰çš„tokenï¼Œåå°å…ˆåˆ°redisè¿›è¡ŒéªŒè¯ï¼Œå¦‚æœå­˜åœ¨tokenï¼Œå¯ä»¥æ‰§è¡Œä¸šåŠ¡ï¼ŒåŒæ—¶åˆ é™¤tokenï¼›å¦‚æœä¸å­˜åœ¨ï¼Œåˆ™ç›´æ¥è¿”å›ï¼Œä¸å¤„ç†ä¸šåŠ¡ï¼Œå°±ä¿è¯äº†åŒä¸€ä¸ªtokenåªå¤„ç†ä¸€æ¬¡ä¸šåŠ¡ï¼Œå°±ä¿è¯äº†å¹‚ç­‰æ€§&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜ï¼šxxl-jobè·¯ç”±ç­–ç•¥æœ‰å“ªäº›ï¼Ÿ&#34;&gt;&lt;a href=&#34;#é¢è¯•å®˜ï¼šxxl-jobè·¯ç”±ç­–ç•¥æœ‰å“ªäº›ï¼Ÿ&#34; class=&#34;headerlink&#34; title=&#34;é¢è¯•å®˜ï¼šxxl-jobè·¯ç”±ç­–ç•¥æœ‰å“ªäº›ï¼Ÿ&#34;&gt;&lt;/a&gt;é¢è¯•å®˜ï¼šxxl-jobè·¯ç”±ç­–ç•¥æœ‰å“ªäº›ï¼Ÿ&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äººï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;xxl-jobæä¾›äº†å¾ˆå¤šçš„è·¯ç”±ç­–ç•¥ï¼Œæˆ‘ä»¬å¹³æ—¶ç”¨çš„è¾ƒå¤šå°±æ˜¯ï¼šè½®è¯¢ã€æ•…éšœè½¬ç§»ã€åˆ†ç‰‡å¹¿æ’­â€¦&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜ï¼šxxl-jobä»»åŠ¡æ‰§è¡Œå¤±è´¥æ€ä¹ˆè§£å†³ï¼Ÿ&#34;&gt;&lt;a href=&#34;#é¢è¯•å®˜ï¼šxxl-jobä»»åŠ¡æ‰§è¡Œå¤±è´¥æ€ä¹ˆè§£å†³ï¼Ÿ&#34; class=&#34;headerlink&#34; title=&#34;é¢è¯•å®˜ï¼šxxl-jobä»»åŠ¡æ‰§è¡Œå¤±è´¥æ€ä¹ˆè§£å†³ï¼Ÿ&#34;&gt;&lt;/a&gt;é¢è¯•å®˜ï¼šxxl-jobä»»åŠ¡æ‰§è¡Œå¤±è´¥æ€ä¹ˆè§£å†³ï¼Ÿ&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äººï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æœ‰è¿™ä¹ˆå‡ ä¸ªæ“ä½œ&lt;/p&gt;
&lt;p&gt;ç¬¬ä¸€ï¼šè·¯ç”±ç­–ç•¥é€‰æ‹©æ•…éšœè½¬ç§»ï¼Œä¼˜å…ˆä½¿ç”¨å¥åº·çš„å®ä¾‹æ¥æ‰§è¡Œä»»åŠ¡&lt;/p&gt;
&lt;p&gt;ç¬¬äºŒï¼Œå¦‚æœè¿˜æœ‰å¤±è´¥çš„ï¼Œæˆ‘ä»¬åœ¨åˆ›å»ºä»»åŠ¡æ—¶ï¼Œå¯ä»¥è®¾ç½®é‡è¯•æ¬¡æ•°&lt;/p&gt;
&lt;p&gt;ç¬¬ä¸‰ï¼Œå¦‚æœè¿˜æœ‰å¤±è´¥çš„ï¼Œå°±å¯ä»¥æŸ¥çœ‹æ—¥å¿—æˆ–è€…é…ç½®é‚®ä»¶å‘Šè­¦æ¥é€šçŸ¥ç›¸å…³è´Ÿè´£äººè§£å†³&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜ï¼šå¦‚æœæœ‰å¤§æ•°æ®é‡çš„ä»»åŠ¡åŒæ—¶éƒ½éœ€è¦æ‰§è¡Œï¼Œæ€ä¹ˆè§£å†³ï¼Ÿ&#34;&gt;&lt;a href=&#34;#é¢è¯•å®˜ï¼šå¦‚æœæœ‰å¤§æ•°æ®é‡çš„ä»»åŠ¡åŒæ—¶éƒ½éœ€è¦æ‰§è¡Œï¼Œæ€ä¹ˆè§£å†³ï¼Ÿ&#34; class=&#34;headerlink&#34; title=&#34;é¢è¯•å®˜ï¼šå¦‚æœæœ‰å¤§æ•°æ®é‡çš„ä»»åŠ¡åŒæ—¶éƒ½éœ€è¦æ‰§è¡Œï¼Œæ€ä¹ˆè§£å†³ï¼Ÿ&#34;&gt;&lt;/a&gt;é¢è¯•å®˜ï¼šå¦‚æœæœ‰å¤§æ•°æ®é‡çš„ä»»åŠ¡åŒæ—¶éƒ½éœ€è¦æ‰§è¡Œï¼Œæ€ä¹ˆè§£å†³ï¼Ÿ&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äººï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬ä¼šè®©éƒ¨ç½²å¤šä¸ªå®ä¾‹ï¼Œå…±åŒå»æ‰§è¡Œè¿™äº›æ‰¹é‡çš„ä»»åŠ¡ï¼Œå…¶ä¸­ä»»åŠ¡çš„è·¯ç”±ç­–ç•¥æ˜¯åˆ†ç‰‡å¹¿æ’­&lt;/p&gt;
&lt;p&gt;åœ¨ä»»åŠ¡æ‰§è¡Œçš„ä»£ç ä¸­å¯ä»¥è·å–åˆ†ç‰‡æ€»æ•°å’Œå½“å‰åˆ†ç‰‡ï¼ŒæŒ‰ç…§å–æ¨¡çš„æ–¹å¼åˆ†æ‘Šåˆ°å„ä¸ªå®ä¾‹æ‰§è¡Œå°±å¯ä»¥äº†&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;æœ¬æ–‡å¼•è‡ª&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly93d3cuYmlsaWJpbGkuY29tL3ZpZGVvL0JWMXlUNDExSDdZSy8=&#34;&gt;é»‘é©¬ç¨‹åºå‘˜Javaé¢è¯•å®å…¸&lt;/span&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
        <category term="é¢ç»" scheme="https://anoxiahub.github.io/categories/interview/" />
        <category term="å¾®æœåŠ¡" scheme="https://anoxiahub.github.io/tags/%E5%BE%AE%E6%9C%8D%E5%8A%A1/" />
        <updated>2023-08-10T16:00:00.000Z</updated>
    </entry>
    <entry>
        <id>https://anoxiahub.github.io/interview/Spring%E9%9D%A2%E8%AF%95%E9%A2%98-%E5%8F%82%E8%80%83%E5%9B%9E%E7%AD%94/</id>
        <title>Springç›¸å…³é¢è¯•é¢˜</title>
        <link rel="alternate" href="https://anoxiahub.github.io/interview/Spring%E9%9D%A2%E8%AF%95%E9%A2%98-%E5%8F%82%E8%80%83%E5%9B%9E%E7%AD%94/"/>
        <content type="html">&lt;h3 id=&#34;é¢è¯•å®˜ï¼šSpringæ¡†æ¶ä¸­çš„å•ä¾‹beanæ˜¯çº¿ç¨‹å®‰å…¨çš„å—ï¼Ÿ&#34;&gt;&lt;a href=&#34;#é¢è¯•å®˜ï¼šSpringæ¡†æ¶ä¸­çš„å•ä¾‹beanæ˜¯çº¿ç¨‹å®‰å…¨çš„å—ï¼Ÿ&#34; class=&#34;headerlink&#34; title=&#34;é¢è¯•å®˜ï¼šSpringæ¡†æ¶ä¸­çš„å•ä¾‹beanæ˜¯çº¿ç¨‹å®‰å…¨çš„å—ï¼Ÿ&#34;&gt;&lt;/a&gt;é¢è¯•å®˜ï¼šSpringæ¡†æ¶ä¸­çš„å•ä¾‹beanæ˜¯çº¿ç¨‹å®‰å…¨çš„å—ï¼Ÿ&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äºº&lt;/strong&gt;ï¼š&lt;br&gt;å—¯ï¼&lt;/p&gt;
&lt;p&gt;ä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œæ˜¯è¿™æ ·çš„&lt;/p&gt;
&lt;p&gt;å½“å¤šç”¨æˆ·åŒæ—¶è¯·æ±‚ä¸€ä¸ªæœåŠ¡æ—¶ï¼Œå®¹å™¨ä¼šç»™æ¯ä¸€ä¸ªè¯·æ±‚åˆ†é…ä¸€ä¸ªçº¿ç¨‹ï¼Œè¿™æ˜¯å¤šä¸ªçº¿ç¨‹ä¼šå¹¶å‘æ‰§è¡Œè¯¥è¯·æ±‚å¯¹åº”çš„ä¸šåŠ¡é€»è¾‘ï¼ˆæˆå‘˜æ–¹æ³•ï¼‰ï¼Œå¦‚æœè¯¥å¤„ç†é€»è¾‘ä¸­æœ‰å¯¹è¯¥å•åˆ—çŠ¶æ€çš„ä¿®æ”¹ï¼ˆä½“ç°ä¸ºè¯¥å•ä¾‹çš„æˆå‘˜å±æ€§ï¼‰ï¼Œåˆ™å¿…é¡»è€ƒè™‘çº¿ç¨‹åŒæ­¥é—®é¢˜ã€‚&lt;/p&gt;
&lt;p&gt;Springæ¡†æ¶å¹¶æ²¡æœ‰å¯¹å•ä¾‹beanè¿›è¡Œä»»ä½•å¤šçº¿ç¨‹çš„å°è£…å¤„ç†ã€‚å…³äºå•ä¾‹beançš„çº¿ç¨‹å®‰å…¨å’Œå¹¶å‘é—®é¢˜éœ€è¦å¼€å‘è€…è‡ªè¡Œå»æå®šã€‚&lt;/p&gt;
&lt;p&gt;æ¯”å¦‚ï¼šæˆ‘ä»¬é€šå¸¸åœ¨é¡¹ç›®ä¸­ä½¿ç”¨çš„Spring beanéƒ½æ˜¯ä¸å¯å¯å˜çš„çŠ¶æ€(æ¯”å¦‚Serviceç±»å’ŒDAOç±»)ï¼Œæ‰€ä»¥åœ¨æŸç§ç¨‹åº¦ä¸Šè¯´Springçš„å•ä¾‹beanæ˜¯çº¿ç¨‹å®‰å…¨çš„ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœä½ çš„beanæœ‰å¤šç§çŠ¶æ€çš„è¯ï¼ˆæ¯”å¦‚ View Modelå¯¹è±¡ï¼‰ï¼Œå°±éœ€è¦è‡ªè¡Œä¿è¯çº¿ç¨‹å®‰å…¨ã€‚æœ€æµ…æ˜¾çš„è§£å†³åŠæ³•å°±æ˜¯å°†å¤šæ€beançš„ä½œç”¨ç”±â€œ&lt;strong&gt;singleton&lt;/strong&gt;â€å˜æ›´ä¸ºâ€œ&lt;strong&gt;prototype&lt;/strong&gt;â€ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜ï¼šä»€ä¹ˆæ˜¯AOP&#34;&gt;&lt;a href=&#34;#é¢è¯•å®˜ï¼šä»€ä¹ˆæ˜¯AOP&#34; class=&#34;headerlink&#34; title=&#34;é¢è¯•å®˜ï¼šä»€ä¹ˆæ˜¯AOP&#34;&gt;&lt;/a&gt;é¢è¯•å®˜ï¼šä»€ä¹ˆæ˜¯AOP&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äºº&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;p&gt;aopæ˜¯é¢å‘åˆ‡é¢ç¼–ç¨‹ï¼Œåœ¨springä¸­ç”¨äºå°†é‚£äº›ä¸ä¸šåŠ¡æ— å…³ï¼Œä½†å´å¯¹å¤šä¸ªå¯¹è±¡äº§ç”Ÿå½±å“çš„å…¬å…±è¡Œä¸ºå’Œé€»è¾‘ï¼ŒæŠ½å–å…¬å…±æ¨¡å—å¤ç”¨ï¼Œé™ä½è€¦åˆï¼Œä¸€èˆ¬æ¯”å¦‚å¯ä»¥åšä¸ºå…¬å…±æ—¥å¿—ä¿å­˜ï¼Œäº‹åŠ¡å¤„ç†ç­‰&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜ï¼šä½ ä»¬é¡¹ç›®ä¸­æœ‰æ²¡æœ‰ä½¿ç”¨åˆ°AOP&#34;&gt;&lt;a href=&#34;#é¢è¯•å®˜ï¼šä½ ä»¬é¡¹ç›®ä¸­æœ‰æ²¡æœ‰ä½¿ç”¨åˆ°AOP&#34; class=&#34;headerlink&#34; title=&#34;é¢è¯•å®˜ï¼šä½ ä»¬é¡¹ç›®ä¸­æœ‰æ²¡æœ‰ä½¿ç”¨åˆ°AOP&#34;&gt;&lt;/a&gt;é¢è¯•å®˜ï¼šä½ ä»¬é¡¹ç›®ä¸­æœ‰æ²¡æœ‰ä½¿ç”¨åˆ°AOP&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äºº&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬å½“æ—¶åœ¨åå°ç®¡ç†ç³»ç»Ÿä¸­ï¼Œå°±æ˜¯ä½¿ç”¨aopæ¥è®°å½•äº†ç³»ç»Ÿçš„æ“ä½œæ—¥å¿—&lt;/p&gt;
&lt;p&gt;ä¸»è¦æ€è·¯æ˜¯è¿™æ ·çš„ï¼Œä½¿ç”¨aopä¸­çš„ç¯ç»•é€šçŸ¥+åˆ‡ç‚¹è¡¨è¾¾å¼ï¼Œè¿™ä¸ªè¡¨è¾¾å¼å°±æ˜¯è¦æ‰¾åˆ°è¦è®°å½•æ—¥å¿—çš„æ–¹æ³•ï¼Œç„¶åé€šè¿‡ç¯ç»•é€šçŸ¥çš„å‚æ•°è·å–è¯·æ±‚æ–¹æ³•çš„å‚æ•°ï¼Œæ¯”å¦‚ç±»ä¿¡æ¯ã€æ–¹æ³•ä¿¡æ¯ã€æ³¨è§£ã€è¯·æ±‚æ–¹å¼ç­‰ï¼Œè·å–åˆ°è¿™äº›å‚æ•°ä»¥åï¼Œä¿å­˜åˆ°æ•°æ®åº“&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜ï¼šSpringä¸­çš„äº‹åŠ¡æ˜¯å¦‚ä½•å®ç°çš„&#34;&gt;&lt;a href=&#34;#é¢è¯•å®˜ï¼šSpringä¸­çš„äº‹åŠ¡æ˜¯å¦‚ä½•å®ç°çš„&#34; class=&#34;headerlink&#34; title=&#34;é¢è¯•å®˜ï¼šSpringä¸­çš„äº‹åŠ¡æ˜¯å¦‚ä½•å®ç°çš„&#34;&gt;&lt;/a&gt;é¢è¯•å®˜ï¼šSpringä¸­çš„äº‹åŠ¡æ˜¯å¦‚ä½•å®ç°çš„&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äºº&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;p&gt;springå®ç°çš„äº‹åŠ¡æœ¬è´¨å°±æ˜¯aopå®Œæˆï¼Œå¯¹æ–¹æ³•å‰åè¿›è¡Œæ‹¦æˆªï¼Œåœ¨æ‰§è¡Œæ–¹æ³•ä¹‹å‰å¼€å¯äº‹åŠ¡ï¼Œåœ¨æ‰§è¡Œå®Œç›®æ ‡æ–¹æ³•ä¹‹åæ ¹æ®æ‰§è¡Œæƒ…å†µæäº¤æˆ–è€…å›æ»šäº‹åŠ¡ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜ï¼šSpringä¸­äº‹åŠ¡å¤±æ•ˆçš„åœºæ™¯æœ‰å“ªäº›&#34;&gt;&lt;a href=&#34;#é¢è¯•å®˜ï¼šSpringä¸­äº‹åŠ¡å¤±æ•ˆçš„åœºæ™¯æœ‰å“ªäº›&#34; class=&#34;headerlink&#34; title=&#34;é¢è¯•å®˜ï¼šSpringä¸­äº‹åŠ¡å¤±æ•ˆçš„åœºæ™¯æœ‰å“ªäº›&#34;&gt;&lt;/a&gt;é¢è¯•å®˜ï¼šSpringä¸­äº‹åŠ¡å¤±æ•ˆçš„åœºæ™¯æœ‰å“ªäº›&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äºº&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;p&gt;å—¯ï¼è¿™ä¸ªåœ¨é¡¹ç›®ä¸­ä¹‹å‰é‡åˆ°è¿‡ï¼Œæˆ‘æƒ³æƒ³å•Š&lt;/p&gt;
&lt;p&gt;ç¬¬ä¸€ä¸ªï¼Œå¦‚æœæ–¹æ³•ä¸Šå¼‚å¸¸æ•è·å¤„ç†ï¼Œè‡ªå·±å¤„ç†äº†å¼‚å¸¸ï¼Œæ²¡æœ‰æŠ›å‡ºï¼Œå°±ä¼šå¯¼è‡´äº‹åŠ¡å¤±æ•ˆï¼Œæ‰€ä»¥ä¸€èˆ¬å¤„ç†äº†å¼‚å¸¸ä»¥åï¼Œåˆ«å¿˜äº†è·‘å‡ºå»å°±è¡Œäº†&lt;/p&gt;
&lt;p&gt;ç¬¬äºŒä¸ªï¼Œå¦‚æœæ–¹æ³•æŠ›å‡ºæ£€æŸ¥å¼‚å¸¸ï¼Œå¦‚æœæŠ¥é”™ä¹Ÿä¼šå¯¼è‡´äº‹åŠ¡å¤±æ•ˆï¼Œæœ€ååœ¨springäº‹åŠ¡çš„æ³¨è§£ä¸Šï¼Œå°±æ˜¯@Transactionalä¸Šé…ç½®rollbackForå±æ€§ä¸ºExceptionï¼Œè¿™æ ·åˆ«ç®¡æ˜¯ä»€ä¹ˆå¼‚å¸¸ï¼Œéƒ½ä¼šå›æ»šäº‹åŠ¡&lt;/p&gt;
&lt;p&gt;ç¬¬ä¸‰ï¼Œæˆ‘ä¹‹å‰è¿˜é‡åˆ°è¿‡ä¸€ä¸ªï¼Œå¦‚æœæ–¹æ³•ä¸Šä¸æ˜¯publicä¿®é¥°çš„ï¼Œä¹Ÿä¼šå¯¼è‡´äº‹åŠ¡å¤±æ•ˆ&lt;/p&gt;
&lt;p&gt;å—¯ï¼Œå°±èƒ½æƒ³èµ·æ¥é‚£ä¹ˆå¤š&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜ï¼šSpringçš„beançš„ç”Ÿå‘½å‘¨æœŸ&#34;&gt;&lt;a href=&#34;#é¢è¯•å®˜ï¼šSpringçš„beançš„ç”Ÿå‘½å‘¨æœŸ&#34; class=&#34;headerlink&#34; title=&#34;é¢è¯•å®˜ï¼šSpringçš„beançš„ç”Ÿå‘½å‘¨æœŸ&#34;&gt;&lt;/a&gt;é¢è¯•å®˜ï¼šSpringçš„beançš„ç”Ÿå‘½å‘¨æœŸ&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äºº&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;p&gt;å—¯ï¼ï¼Œè¿™ä¸ªæ­¥éª¤è¿˜æ˜¯æŒºå¤šçš„ï¼Œæˆ‘ä¹‹å‰çœ‹è¿‡ä¸€äº›æºç ï¼Œå®ƒå¤§æ¦‚æµç¨‹æ˜¯è¿™æ ·çš„&lt;/p&gt;
&lt;p&gt;é¦–å…ˆä¼šé€šè¿‡ä¸€ä¸ªéå¸¸é‡è¦çš„ç±»ï¼Œå«åšBeanDefinitionè·å–beançš„å®šä¹‰ä¿¡æ¯ï¼Œè¿™é‡Œé¢å°±å°è£…äº†beançš„æ‰€æœ‰ä¿¡æ¯ï¼Œæ¯”å¦‚ï¼Œç±»çš„å…¨è·¯å¾„ï¼Œæ˜¯å¦æ˜¯å»¶è¿ŸåŠ è½½ï¼Œæ˜¯å¦æ˜¯å•ä¾‹ç­‰ç­‰è¿™äº›ä¿¡æ¯&lt;/p&gt;
&lt;p&gt;åœ¨åˆ›å»ºbeançš„æ—¶å€™ï¼Œç¬¬ä¸€æ­¥æ˜¯è°ƒç”¨æ„é€ å‡½æ•°å®ä¾‹åŒ–bean&lt;/p&gt;
&lt;p&gt;ç¬¬äºŒæ­¥æ˜¯beançš„ä¾èµ–æ³¨å…¥ï¼Œæ¯”å¦‚ä¸€äº›setæ–¹æ³•æ³¨å…¥ï¼Œåƒå¹³æ—¶å¼€å‘ç”¨çš„@Autowireéƒ½æ˜¯è¿™ä¸€æ­¥å®Œæˆ&lt;/p&gt;
&lt;p&gt;ç¬¬ä¸‰æ­¥æ˜¯å¤„ç†Awareæ¥å£ï¼Œå¦‚æœæŸä¸€ä¸ªbeanå®ç°äº†Awareæ¥å£å°±ä¼šé‡å†™æ–¹æ³•æ‰§è¡Œ&lt;/p&gt;
&lt;p&gt;ç¬¬å››æ­¥æ˜¯beançš„åç½®å¤„ç†å™¨BeanPostProcessorï¼Œè¿™ä¸ªæ˜¯å‰ç½®å¤„ç†å™¨&lt;/p&gt;
&lt;p&gt;ç¬¬äº”æ­¥æ˜¯åˆå§‹åŒ–æ–¹æ³•ï¼Œæ¯”å¦‚å®ç°äº†æ¥å£InitializingBeanæˆ–è€…è‡ªå®šä¹‰äº†æ–¹æ³•init-methodæ ‡ç­¾æˆ–@PostContruct&lt;/p&gt;
&lt;p&gt;ç¬¬å…­æ­¥æ˜¯æ‰§è¡Œäº†beançš„åç½®å¤„ç†å™¨BeanPostProcessorï¼Œä¸»è¦æ˜¯å¯¹beanè¿›è¡Œå¢å¼ºï¼Œæœ‰å¯èƒ½åœ¨è¿™é‡Œäº§ç”Ÿä»£ç†å¯¹è±¡&lt;/p&gt;
&lt;p&gt;æœ€åä¸€æ­¥æ˜¯é”€æ¯bean&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜ï¼šSpringä¸­çš„å¾ªç¯å¼•ç”¨&#34;&gt;&lt;a href=&#34;#é¢è¯•å®˜ï¼šSpringä¸­çš„å¾ªç¯å¼•ç”¨&#34; class=&#34;headerlink&#34; title=&#34;é¢è¯•å®˜ï¼šSpringä¸­çš„å¾ªç¯å¼•ç”¨&#34;&gt;&lt;/a&gt;é¢è¯•å®˜ï¼šSpringä¸­çš„å¾ªç¯å¼•ç”¨&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äºº&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;p&gt;å—¯ï¼Œå¥½çš„ï¼Œæˆ‘æ¥è§£é‡Šä¸€ä¸‹&lt;/p&gt;
&lt;p&gt;å¾ªç¯ä¾èµ–ï¼šå¾ªç¯ä¾èµ–å…¶å®å°±æ˜¯å¾ªç¯å¼•ç”¨,ä¹Ÿå°±æ˜¯ä¸¤ä¸ªæˆ–ä¸¤ä¸ªä»¥ä¸Šçš„beanäº’ç›¸æŒæœ‰å¯¹æ–¹,æœ€ç»ˆå½¢æˆé—­ç¯ã€‚æ¯”å¦‚Aä¾èµ–äºB,Bä¾èµ–äºA&lt;/p&gt;
&lt;p&gt;å¾ªç¯ä¾èµ–åœ¨springä¸­æ˜¯å…è®¸å­˜åœ¨ï¼Œspringæ¡†æ¶ä¾æ®ä¸‰çº§ç¼“å­˜å·²ç»è§£å†³äº†å¤§éƒ¨åˆ†çš„å¾ªç¯ä¾èµ–&lt;/p&gt;
&lt;p&gt;â‘ ä¸€çº§ç¼“å­˜ï¼šå•ä¾‹æ± ï¼Œç¼“å­˜å·²ç»ç»å†äº†å®Œæ•´çš„ç”Ÿå‘½å‘¨æœŸï¼Œå·²ç»åˆå§‹åŒ–å®Œæˆçš„beanå¯¹è±¡&lt;/p&gt;
&lt;p&gt;â‘¡äºŒçº§ç¼“å­˜ï¼šç¼“å­˜æ—©æœŸçš„beanå¯¹è±¡ï¼ˆç”Ÿå‘½å‘¨æœŸè¿˜æ²¡èµ°å®Œï¼‰&lt;/p&gt;
&lt;p&gt;â‘¢ä¸‰çº§ç¼“å­˜ï¼šç¼“å­˜çš„æ˜¯ObjectFactoryï¼Œè¡¨ç¤ºå¯¹è±¡å·¥å‚ï¼Œç”¨æ¥åˆ›å»ºæŸä¸ªå¯¹è±¡çš„&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜ï¼šé‚£å…·ä½“è§£å†³æµç¨‹æ¸…æ¥šå—ï¼Ÿ&#34;&gt;&lt;a href=&#34;#é¢è¯•å®˜ï¼šé‚£å…·ä½“è§£å†³æµç¨‹æ¸…æ¥šå—ï¼Ÿ&#34; class=&#34;headerlink&#34; title=&#34;é¢è¯•å®˜ï¼šé‚£å…·ä½“è§£å†³æµç¨‹æ¸…æ¥šå—ï¼Ÿ&#34;&gt;&lt;/a&gt;é¢è¯•å®˜ï¼šé‚£å…·ä½“è§£å†³æµç¨‹æ¸…æ¥šå—ï¼Ÿ&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äºº&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;p&gt;ç¬¬ä¸€ï¼Œå…ˆå®ä¾‹Aå¯¹è±¡ï¼ŒåŒæ—¶ä¼šåˆ›å»ºObjectFactoryå¯¹è±¡å­˜å…¥ä¸‰çº§ç¼“å­˜singletonFactories  &lt;/p&gt;
&lt;p&gt;ç¬¬äºŒï¼ŒAåœ¨åˆå§‹åŒ–çš„æ—¶å€™éœ€è¦Bå¯¹è±¡ï¼Œè¿™ä¸ªèµ°Bçš„åˆ›å»ºçš„é€»è¾‘&lt;/p&gt;
&lt;p&gt;ç¬¬ä¸‰ï¼ŒBå®ä¾‹åŒ–å®Œæˆï¼Œä¹Ÿä¼šåˆ›å»ºObjectFactoryå¯¹è±¡å­˜å…¥ä¸‰çº§ç¼“å­˜singletonFactories  &lt;/p&gt;
&lt;p&gt;ç¬¬å››ï¼ŒBéœ€è¦æ³¨å…¥Aï¼Œé€šè¿‡ä¸‰çº§ç¼“å­˜ä¸­è·å–ObjectFactoryæ¥ç”Ÿæˆä¸€ä¸ªAçš„å¯¹è±¡åŒæ—¶å­˜å…¥äºŒçº§ç¼“å­˜ï¼Œè¿™ä¸ªæ˜¯æœ‰ä¸¤ç§æƒ…å†µï¼Œä¸€ä¸ªæ˜¯å¯èƒ½æ˜¯Açš„æ™®é€šå¯¹è±¡ï¼Œå¦å¤–ä¸€ä¸ªæ˜¯Açš„ä»£ç†å¯¹è±¡ï¼Œéƒ½å¯ä»¥è®©ObjectFactoryæ¥ç”Ÿäº§å¯¹åº”çš„å¯¹è±¡ï¼Œè¿™ä¹Ÿæ˜¯ä¸‰çº§ç¼“å­˜çš„å…³é”®&lt;/p&gt;
&lt;p&gt;ç¬¬äº”ï¼ŒBé€šè¿‡ä»é€šè¿‡äºŒçº§ç¼“å­˜earlySingletonObjects  è·å¾—åˆ°Açš„å¯¹è±¡åå¯ä»¥æ­£å¸¸æ³¨å…¥ï¼ŒBåˆ›å»ºæˆåŠŸï¼Œå­˜å…¥ä¸€çº§ç¼“å­˜singletonObjects  &lt;/p&gt;
&lt;p&gt;ç¬¬å…­ï¼Œå›åˆ°Aå¯¹è±¡åˆå§‹åŒ–ï¼Œå› ä¸ºBå¯¹è±¡å·²ç»åˆ›å»ºå®Œæˆï¼Œåˆ™å¯ä»¥ç›´æ¥æ³¨å…¥Bï¼ŒAåˆ›å»ºæˆåŠŸå­˜å…¥ä¸€æ¬¡ç¼“å­˜singletonObjects &lt;/p&gt;
&lt;p&gt;ç¬¬ä¸ƒï¼ŒäºŒçº§ç¼“å­˜ä¸­çš„ä¸´æ—¶å¯¹è±¡Aæ¸…é™¤ &lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜ï¼šæ„é€ æ–¹æ³•å‡ºç°äº†å¾ªç¯ä¾èµ–æ€ä¹ˆè§£å†³ï¼Ÿ&#34;&gt;&lt;a href=&#34;#é¢è¯•å®˜ï¼šæ„é€ æ–¹æ³•å‡ºç°äº†å¾ªç¯ä¾èµ–æ€ä¹ˆè§£å†³ï¼Ÿ&#34; class=&#34;headerlink&#34; title=&#34;é¢è¯•å®˜ï¼šæ„é€ æ–¹æ³•å‡ºç°äº†å¾ªç¯ä¾èµ–æ€ä¹ˆè§£å†³ï¼Ÿ&#34;&gt;&lt;/a&gt;é¢è¯•å®˜ï¼šæ„é€ æ–¹æ³•å‡ºç°äº†å¾ªç¯ä¾èµ–æ€ä¹ˆè§£å†³ï¼Ÿ&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äºº&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;p&gt;ç”±äºbeançš„ç”Ÿå‘½å‘¨æœŸä¸­æ„é€ å‡½æ•°æ˜¯ç¬¬ä¸€ä¸ªæ‰§è¡Œçš„ï¼Œspringæ¡†æ¶å¹¶ä¸èƒ½è§£å†³æ„é€ å‡½æ•°çš„çš„ä¾èµ–æ³¨å…¥ï¼Œå¯ä»¥ä½¿ç”¨@Lazyæ‡’åŠ è½½ï¼Œä»€ä¹ˆæ—¶å€™éœ€è¦å¯¹è±¡å†è¿›è¡Œbeanå¯¹è±¡çš„åˆ›å»º&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜ï¼šSpringMVCçš„æ‰§è¡Œæµç¨‹çŸ¥é“å˜›&#34;&gt;&lt;a href=&#34;#é¢è¯•å®˜ï¼šSpringMVCçš„æ‰§è¡Œæµç¨‹çŸ¥é“å˜›&#34; class=&#34;headerlink&#34; title=&#34;é¢è¯•å®˜ï¼šSpringMVCçš„æ‰§è¡Œæµç¨‹çŸ¥é“å˜›&#34;&gt;&lt;/a&gt;é¢è¯•å®˜ï¼šSpringMVCçš„æ‰§è¡Œæµç¨‹çŸ¥é“å˜›&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äºº&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;p&gt;å—¯ï¼Œè¿™ä¸ªçŸ¥é“çš„ï¼Œå®ƒåˆ†äº†å¥½å¤šæ­¥éª¤&lt;/p&gt;
&lt;p&gt;1ã€ç”¨æˆ·å‘é€å‡ºè¯·æ±‚åˆ°å‰ç«¯æ§åˆ¶å™¨DispatcherServletï¼Œè¿™æ˜¯ä¸€ä¸ªè°ƒåº¦ä¸­å¿ƒ&lt;/p&gt;
&lt;p&gt;2ã€DispatcherServletæ”¶åˆ°è¯·æ±‚è°ƒç”¨HandlerMappingï¼ˆå¤„ç†å™¨æ˜ å°„å™¨ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;3ã€HandlerMappingæ‰¾åˆ°å…·ä½“çš„å¤„ç†å™¨(å¯æŸ¥æ‰¾xmlé…ç½®æˆ–æ³¨è§£é…ç½®)ï¼Œç”Ÿæˆå¤„ç†å™¨å¯¹è±¡åŠå¤„ç†å™¨æ‹¦æˆªå™¨(å¦‚æœæœ‰)ï¼Œå†ä¸€èµ·è¿”å›ç»™DispatcherServletã€‚&lt;/p&gt;
&lt;p&gt;4ã€DispatcherServletè°ƒç”¨HandlerAdapterï¼ˆå¤„ç†å™¨é€‚é…å™¨ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;5ã€HandlerAdapterç»è¿‡é€‚é…è°ƒç”¨å…·ä½“çš„å¤„ç†å™¨ï¼ˆHandler&amp;#x2F;Controllerï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;6ã€Controlleræ‰§è¡Œå®Œæˆè¿”å›ModelAndViewå¯¹è±¡ã€‚&lt;/p&gt;
&lt;p&gt;7ã€HandlerAdapterå°†Controlleræ‰§è¡Œç»“æœModelAndViewè¿”å›ç»™DispatcherServletã€‚&lt;/p&gt;
&lt;p&gt;8ã€DispatcherServletå°†ModelAndViewä¼ ç»™ViewResloverï¼ˆè§†å›¾è§£æå™¨ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;9ã€ViewResloverè§£æåè¿”å›å…·ä½“Viewï¼ˆè§†å›¾ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;10ã€DispatcherServletæ ¹æ®Viewè¿›è¡Œæ¸²æŸ“è§†å›¾ï¼ˆå³å°†æ¨¡å‹æ•°æ®å¡«å……è‡³è§†å›¾ä¸­ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;11ã€DispatcherServletå“åº”ç”¨æˆ·ã€‚&lt;/p&gt;
&lt;p&gt;å½“ç„¶ç°åœ¨çš„å¼€å‘ï¼ŒåŸºæœ¬éƒ½æ˜¯å‰åç«¯åˆ†ç¦»çš„å¼€å‘çš„ï¼Œå¹¶æ²¡æœ‰è§†å›¾è¿™äº›ï¼Œä¸€èˆ¬éƒ½æ˜¯handlerä¸­ä½¿ç”¨Responseç›´æ¥ç»“æœè¿”å›&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜ï¼šSpringbootè‡ªåŠ¨é…ç½®åŸç†&#34;&gt;&lt;a href=&#34;#é¢è¯•å®˜ï¼šSpringbootè‡ªåŠ¨é…ç½®åŸç†&#34; class=&#34;headerlink&#34; title=&#34;é¢è¯•å®˜ï¼šSpringbootè‡ªåŠ¨é…ç½®åŸç†&#34;&gt;&lt;/a&gt;é¢è¯•å®˜ï¼šSpringbootè‡ªåŠ¨é…ç½®åŸç†&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äºº&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;p&gt;å—¯ï¼Œå¥½çš„ï¼Œå®ƒæ˜¯è¿™æ ·çš„ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨Spring Booté¡¹ç›®ä¸­çš„å¼•å¯¼ç±»ä¸Šæœ‰ä¸€ä¸ªæ³¨è§£@SpringBootApplicationï¼Œè¿™ä¸ªæ³¨è§£æ˜¯å¯¹ä¸‰ä¸ªæ³¨è§£è¿›è¡Œäº†å°è£…ï¼Œåˆ†åˆ«æ˜¯ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;@SpringBootConfiguration&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;@EnableAutoConfiguration&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;@ComponentScan&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å…¶ä¸­&lt;code&gt;@EnableAutoConfiguration&lt;/code&gt;æ˜¯å®ç°è‡ªåŠ¨åŒ–é…ç½®çš„æ ¸å¿ƒæ³¨è§£ã€‚ &lt;/p&gt;
&lt;p&gt;è¯¥æ³¨è§£é€šè¿‡&lt;code&gt;@Import&lt;/code&gt;æ³¨è§£å¯¼å…¥å¯¹åº”çš„é…ç½®é€‰æ‹©å™¨ã€‚å…³é”®çš„æ˜¯å†…éƒ¨å°±æ˜¯è¯»å–äº†è¯¥é¡¹ç›®å’Œè¯¥é¡¹ç›®å¼•ç”¨çš„JaråŒ…çš„çš„classpathè·¯å¾„ä¸‹&lt;strong&gt;META-INF&amp;#x2F;spring.factories&lt;/strong&gt;æ–‡ä»¶ä¸­çš„æ‰€é…ç½®çš„ç±»çš„å…¨ç±»åã€‚ &lt;/p&gt;
&lt;p&gt;åœ¨è¿™äº›é…ç½®ç±»ä¸­æ‰€å®šä¹‰çš„Beanä¼šæ ¹æ®æ¡ä»¶æ³¨è§£æ‰€&lt;strong&gt;æŒ‡å®šçš„æ¡ä»¶æ¥å†³å®š&lt;/strong&gt;æ˜¯å¦éœ€è¦å°†å…¶å¯¼å…¥åˆ°Springå®¹å™¨ä¸­ã€‚&lt;/p&gt;
&lt;p&gt;ä¸€èˆ¬æ¡ä»¶åˆ¤æ–­ä¼šæœ‰åƒ&lt;code&gt;@ConditionalOnClass&lt;/code&gt;è¿™æ ·çš„æ³¨è§£ï¼Œåˆ¤æ–­æ˜¯å¦æœ‰å¯¹åº”çš„classæ–‡ä»¶ï¼Œå¦‚æœæœ‰åˆ™åŠ è½½è¯¥ç±»ï¼ŒæŠŠè¿™ä¸ªé…ç½®ç±»çš„æ‰€æœ‰çš„Beanæ”¾å…¥springå®¹å™¨ä¸­ä½¿ç”¨ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜ï¼šSpring-çš„å¸¸è§æ³¨è§£æœ‰å“ªäº›ï¼Ÿ&#34;&gt;&lt;a href=&#34;#é¢è¯•å®˜ï¼šSpring-çš„å¸¸è§æ³¨è§£æœ‰å“ªäº›ï¼Ÿ&#34; class=&#34;headerlink&#34; title=&#34;é¢è¯•å®˜ï¼šSpring çš„å¸¸è§æ³¨è§£æœ‰å“ªäº›ï¼Ÿ&#34;&gt;&lt;/a&gt;é¢è¯•å®˜ï¼šSpring çš„å¸¸è§æ³¨è§£æœ‰å“ªäº›ï¼Ÿ&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äºº&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;p&gt;å—¯ï¼Œè¿™ä¸ªå°±å¾ˆå¤šäº†&lt;/p&gt;
&lt;p&gt;ç¬¬ä¸€ç±»æ˜¯ï¼šå£°æ˜beanï¼Œæœ‰@Componentã€@Serviceã€@Repositoryã€@Controller&lt;/p&gt;
&lt;p&gt;ç¬¬äºŒç±»æ˜¯ï¼šä¾èµ–æ³¨å…¥ç›¸å…³çš„ï¼Œæœ‰@Autowiredã€@Qualifierã€@Resourse&lt;/p&gt;
&lt;p&gt;ç¬¬ä¸‰ç±»æ˜¯ï¼šè®¾ç½®ä½œç”¨åŸŸ @Scope&lt;/p&gt;
&lt;p&gt;ç¬¬å››ç±»æ˜¯ï¼šspringé…ç½®ç›¸å…³çš„ï¼Œæ¯”å¦‚@Configurationï¼Œ@ComponentScan å’Œ @Bean &lt;/p&gt;
&lt;p&gt;ç¬¬äº”ç±»æ˜¯ï¼šè·Ÿaopç›¸å…³åšå¢å¼ºçš„æ³¨è§£  @Aspectï¼Œ@Beforeï¼Œ@Afterï¼Œ@Aroundï¼Œ@Pointcut&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜ï¼šSpringMVCå¸¸è§çš„æ³¨è§£æœ‰å“ªäº›ï¼Ÿ&#34;&gt;&lt;a href=&#34;#é¢è¯•å®˜ï¼šSpringMVCå¸¸è§çš„æ³¨è§£æœ‰å“ªäº›ï¼Ÿ&#34; class=&#34;headerlink&#34; title=&#34;é¢è¯•å®˜ï¼šSpringMVCå¸¸è§çš„æ³¨è§£æœ‰å“ªäº›ï¼Ÿ&#34;&gt;&lt;/a&gt;é¢è¯•å®˜ï¼šSpringMVCå¸¸è§çš„æ³¨è§£æœ‰å“ªäº›ï¼Ÿ&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äºº&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;p&gt;å—¯ï¼Œè¿™ä¸ªä¹Ÿå¾ˆå¤šçš„&lt;/p&gt;
&lt;p&gt;æœ‰@RequestMappingï¼šç”¨äºæ˜ å°„è¯·æ±‚è·¯å¾„ï¼›&lt;/p&gt;
&lt;p&gt;@RequestBodyï¼šæ³¨è§£å®ç°æ¥æ”¶httpè¯·æ±‚çš„jsonæ•°æ®ï¼Œå°†jsonè½¬æ¢ä¸ºjavaå¯¹è±¡ï¼›&lt;/p&gt;
&lt;p&gt;@RequestParamï¼šæŒ‡å®šè¯·æ±‚å‚æ•°çš„åç§°ï¼›&lt;/p&gt;
&lt;p&gt;@PathViriableï¼šä»è¯·æ±‚è·¯å¾„ä¸‹ä¸­è·å–è¯·æ±‚å‚æ•°(&amp;#x2F;user&amp;#x2F;{id})ï¼Œä¼ é€’ç»™æ–¹æ³•çš„å½¢å¼å‚æ•°ï¼›@ResponseBodyï¼šæ³¨è§£å®ç°å°†controlleræ–¹æ³•è¿”å›å¯¹è±¡è½¬åŒ–ä¸ºjsonå¯¹è±¡å“åº”ç»™å®¢æˆ·ç«¯ã€‚@RequestHeaderï¼šè·å–æŒ‡å®šçš„è¯·æ±‚å¤´æ•°æ®ï¼Œè¿˜æœ‰åƒ@PostMappingã€@GetMappingè¿™äº›ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜ï¼šSpringbootå¸¸è§æ³¨è§£æœ‰å“ªäº›ï¼Ÿ&#34;&gt;&lt;a href=&#34;#é¢è¯•å®˜ï¼šSpringbootå¸¸è§æ³¨è§£æœ‰å“ªäº›ï¼Ÿ&#34; class=&#34;headerlink&#34; title=&#34;é¢è¯•å®˜ï¼šSpringbootå¸¸è§æ³¨è§£æœ‰å“ªäº›ï¼Ÿ&#34;&gt;&lt;/a&gt;é¢è¯•å®˜ï¼šSpringbootå¸¸è§æ³¨è§£æœ‰å“ªäº›ï¼Ÿ&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äºº&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;p&gt;å—¯~~&lt;/p&gt;
&lt;p&gt;Spring Bootçš„æ ¸å¿ƒæ³¨è§£æ˜¯@SpringBootApplication , ä»–ç”±å‡ ä¸ªæ³¨è§£ç»„æˆ : &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;@SpringBootConfigurationï¼š ç»„åˆäº†- @Configurationæ³¨è§£ï¼Œå®ç°é…ç½®æ–‡ä»¶çš„åŠŸèƒ½ï¼›&lt;/li&gt;
&lt;li&gt;@EnableAutoConfigurationï¼šæ‰“å¼€è‡ªåŠ¨é…ç½®çš„åŠŸèƒ½ï¼Œä¹Ÿå¯ä»¥å…³é—­æŸä¸ªè‡ªåŠ¨é…ç½®çš„é€‰é¡¹&lt;/li&gt;
&lt;li&gt;@ComponentScanï¼šSpringç»„ä»¶æ‰«æ&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜ï¼šMyBatisæ‰§è¡Œæµç¨‹&#34;&gt;&lt;a href=&#34;#é¢è¯•å®˜ï¼šMyBatisæ‰§è¡Œæµç¨‹&#34; class=&#34;headerlink&#34; title=&#34;é¢è¯•å®˜ï¼šMyBatisæ‰§è¡Œæµç¨‹&#34;&gt;&lt;/a&gt;é¢è¯•å®˜ï¼šMyBatisæ‰§è¡Œæµç¨‹&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äºº&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;p&gt;å¥½ï¼Œè¿™ä¸ªçŸ¥é“çš„ï¼Œä¸è¿‡æ­¥éª¤ä¹Ÿå¾ˆå¤š&lt;/p&gt;
&lt;p&gt;â‘ è¯»å–MyBatisé…ç½®æ–‡ä»¶ï¼šmybatis-config.xmlåŠ è½½è¿è¡Œç¯å¢ƒå’Œæ˜ å°„æ–‡ä»¶&lt;/p&gt;
&lt;p&gt;â‘¡æ„é€ ä¼šè¯å·¥å‚SqlSessionFactoryï¼Œä¸€ä¸ªé¡¹ç›®åªéœ€è¦ä¸€ä¸ªï¼Œå•ä¾‹çš„ï¼Œä¸€èˆ¬ç”±springè¿›è¡Œç®¡ç†&lt;/p&gt;
&lt;p&gt;â‘¢ä¼šè¯å·¥å‚åˆ›å»ºSqlSessionå¯¹è±¡ï¼Œè¿™é‡Œé¢å°±å«äº†æ‰§è¡ŒSQLè¯­å¥çš„æ‰€æœ‰æ–¹æ³•&lt;/p&gt;
&lt;p&gt;â‘£æ“ä½œæ•°æ®åº“çš„æ¥å£ï¼ŒExecutoræ‰§è¡Œå™¨ï¼ŒåŒæ—¶è´Ÿè´£æŸ¥è¯¢ç¼“å­˜çš„ç»´æŠ¤&lt;/p&gt;
&lt;p&gt;â‘¤Executoræ¥å£çš„æ‰§è¡Œæ–¹æ³•ä¸­æœ‰ä¸€ä¸ªMappedStatementç±»å‹çš„å‚æ•°ï¼Œå°è£…äº†æ˜ å°„ä¿¡æ¯&lt;/p&gt;
&lt;p&gt;â‘¥è¾“å…¥å‚æ•°æ˜ å°„&lt;/p&gt;
&lt;p&gt;â‘¦è¾“å‡ºç»“æœæ˜ å°„&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜ï¼šMybatisæ˜¯å¦æ”¯æŒå»¶è¿ŸåŠ è½½ï¼Ÿ&#34;&gt;&lt;a href=&#34;#é¢è¯•å®˜ï¼šMybatisæ˜¯å¦æ”¯æŒå»¶è¿ŸåŠ è½½ï¼Ÿ&#34; class=&#34;headerlink&#34; title=&#34;é¢è¯•å®˜ï¼šMybatisæ˜¯å¦æ”¯æŒå»¶è¿ŸåŠ è½½ï¼Ÿ&#34;&gt;&lt;/a&gt;é¢è¯•å®˜ï¼šMybatisæ˜¯å¦æ”¯æŒå»¶è¿ŸåŠ è½½ï¼Ÿ&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äºº&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;p&gt;æ˜¯æ”¯æŒçš„~&lt;/p&gt;
&lt;p&gt;å»¶è¿ŸåŠ è½½çš„æ„æ€æ˜¯ï¼šå°±æ˜¯åœ¨éœ€è¦ç”¨åˆ°æ•°æ®æ—¶æ‰è¿›è¡ŒåŠ è½½ï¼Œä¸éœ€è¦ç”¨åˆ°æ•°æ®æ—¶å°±ä¸åŠ è½½æ•°æ®ã€‚&lt;/p&gt;
&lt;p&gt;Mybatisæ”¯æŒä¸€å¯¹ä¸€å…³è”å¯¹è±¡å’Œä¸€å¯¹å¤šå…³è”é›†åˆå¯¹è±¡çš„å»¶è¿ŸåŠ è½½&lt;/p&gt;
&lt;p&gt;åœ¨Mybatisé…ç½®æ–‡ä»¶ä¸­ï¼Œå¯ä»¥é…ç½®æ˜¯å¦å¯ç”¨å»¶è¿ŸåŠ è½½lazyLoadingEnabled&amp;#x3D;true|falseï¼Œé»˜è®¤æ˜¯å…³é—­çš„&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜ï¼šå»¶è¿ŸåŠ è½½çš„åº•å±‚åŸç†çŸ¥é“å—ï¼Ÿ&#34;&gt;&lt;a href=&#34;#é¢è¯•å®˜ï¼šå»¶è¿ŸåŠ è½½çš„åº•å±‚åŸç†çŸ¥é“å—ï¼Ÿ&#34; class=&#34;headerlink&#34; title=&#34;é¢è¯•å®˜ï¼šå»¶è¿ŸåŠ è½½çš„åº•å±‚åŸç†çŸ¥é“å—ï¼Ÿ&#34;&gt;&lt;/a&gt;é¢è¯•å®˜ï¼šå»¶è¿ŸåŠ è½½çš„åº•å±‚åŸç†çŸ¥é“å—ï¼Ÿ&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äºº&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;p&gt;å—¯ï¼Œæˆ‘æƒ³æƒ³å•Š&lt;/p&gt;
&lt;p&gt;å»¶è¿ŸåŠ è½½åœ¨åº•å±‚ä¸»è¦ä½¿ç”¨çš„CGLIBåŠ¨æ€ä»£ç†å®Œæˆçš„&lt;/p&gt;
&lt;p&gt;ç¬¬ä¸€æ˜¯ï¼Œä½¿ç”¨CGLIBåˆ›å»ºç›®æ ‡å¯¹è±¡çš„ä»£ç†å¯¹è±¡ï¼Œè¿™é‡Œçš„ç›®æ ‡å¯¹è±¡å°±æ˜¯å¼€å¯äº†å»¶è¿ŸåŠ è½½çš„mapper&lt;/p&gt;
&lt;p&gt;ç¬¬äºŒä¸ªæ˜¯å½“è°ƒç”¨ç›®æ ‡æ–¹æ³•æ—¶ï¼Œè¿›å…¥æ‹¦æˆªå™¨invokeæ–¹æ³•ï¼Œå‘ç°ç›®æ ‡æ–¹æ³•æ˜¯nullå€¼ï¼Œå†æ‰§è¡ŒsqlæŸ¥è¯¢&lt;/p&gt;
&lt;p&gt;ç¬¬ä¸‰ä¸ªæ˜¯è·å–æ•°æ®ä»¥åï¼Œè°ƒç”¨setæ–¹æ³•è®¾ç½®å±æ€§å€¼ï¼Œå†ç»§ç»­æŸ¥è¯¢ç›®æ ‡æ–¹æ³•ï¼Œå°±æœ‰å€¼äº†&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜ï¼šMybatisçš„ä¸€çº§ã€äºŒçº§ç¼“å­˜ç”¨è¿‡å—ï¼Ÿ&#34;&gt;&lt;a href=&#34;#é¢è¯•å®˜ï¼šMybatisçš„ä¸€çº§ã€äºŒçº§ç¼“å­˜ç”¨è¿‡å—ï¼Ÿ&#34; class=&#34;headerlink&#34; title=&#34;é¢è¯•å®˜ï¼šMybatisçš„ä¸€çº§ã€äºŒçº§ç¼“å­˜ç”¨è¿‡å—ï¼Ÿ&#34;&gt;&lt;/a&gt;é¢è¯•å®˜ï¼šMybatisçš„ä¸€çº§ã€äºŒçº§ç¼“å­˜ç”¨è¿‡å—ï¼Ÿ&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äºº&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;p&gt;å—¯~~ï¼Œç”¨è¿‡çš„~&lt;/p&gt;
&lt;p&gt;mybatisçš„ä¸€çº§ç¼“å­˜: åŸºäº PerpetualCache çš„ HashMap æœ¬åœ°ç¼“å­˜ï¼Œå…¶å­˜å‚¨ä½œç”¨åŸŸä¸º Sessionï¼Œå½“Sessionè¿›è¡Œflushæˆ–closeä¹‹åï¼Œè¯¥Sessionä¸­çš„æ‰€æœ‰Cacheå°±å°†æ¸…ç©ºï¼Œé»˜è®¤æ‰“å¼€ä¸€çº§ç¼“å­˜&lt;/p&gt;
&lt;p&gt;å…³äºäºŒçº§ç¼“å­˜éœ€è¦å•ç‹¬å¼€å¯&lt;/p&gt;
&lt;p&gt;äºŒçº§ç¼“å­˜æ˜¯åŸºäºnamespaceå’Œmapperçš„ä½œç”¨åŸŸèµ·ä½œç”¨çš„ï¼Œä¸æ˜¯ä¾èµ–äºSQL sessionï¼Œé»˜è®¤ä¹Ÿæ˜¯é‡‡ç”¨ PerpetualCacheï¼ŒHashMap å­˜å‚¨ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœæƒ³è¦å¼€å¯äºŒçº§ç¼“å­˜éœ€è¦åœ¨å…¨å±€é…ç½®æ–‡ä»¶å’Œæ˜ å°„æ–‡ä»¶ä¸­å¼€å¯é…ç½®æ‰è¡Œã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜ï¼šMybatisçš„äºŒçº§ç¼“å­˜ä»€ä¹ˆæ—¶å€™ä¼šæ¸…ç†ç¼“å­˜ä¸­çš„æ•°æ®&#34;&gt;&lt;a href=&#34;#é¢è¯•å®˜ï¼šMybatisçš„äºŒçº§ç¼“å­˜ä»€ä¹ˆæ—¶å€™ä¼šæ¸…ç†ç¼“å­˜ä¸­çš„æ•°æ®&#34; class=&#34;headerlink&#34; title=&#34;é¢è¯•å®˜ï¼šMybatisçš„äºŒçº§ç¼“å­˜ä»€ä¹ˆæ—¶å€™ä¼šæ¸…ç†ç¼“å­˜ä¸­çš„æ•°æ®&#34;&gt;&lt;/a&gt;é¢è¯•å®˜ï¼šMybatisçš„äºŒçº§ç¼“å­˜ä»€ä¹ˆæ—¶å€™ä¼šæ¸…ç†ç¼“å­˜ä¸­çš„æ•°æ®&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äºº&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;p&gt;å—¯ï¼ï¼&lt;/p&gt;
&lt;p&gt;å½“æŸä¸€ä¸ªä½œç”¨åŸŸ(ä¸€çº§ç¼“å­˜ Session&amp;#x2F;äºŒçº§ç¼“å­˜Namespaces)çš„è¿›è¡Œäº†æ–°å¢ã€ä¿®æ”¹ã€åˆ é™¤æ“ä½œåï¼Œé»˜è®¤è¯¥ä½œç”¨åŸŸä¸‹æ‰€æœ‰ select ä¸­çš„ç¼“å­˜å°†è¢« clearã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;æœ¬æ–‡å¼•è‡ª&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly93d3cuYmlsaWJpbGkuY29tL3ZpZGVvL0JWMXlUNDExSDdZSy8=&#34;&gt;é»‘é©¬ç¨‹åºå‘˜Javaé¢è¯•å®å…¸&lt;/span&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
        <category term="é¢ç»" scheme="https://anoxiahub.github.io/categories/interview/" />
        <category term="Spring" scheme="https://anoxiahub.github.io/tags/Spring/" />
        <updated>2023-08-09T16:00:00.000Z</updated>
    </entry>
    <entry>
        <id>https://anoxiahub.github.io/HTTP%E5%92%8CWebsocket%E7%9A%84%E5%89%8D%E4%B8%96%E4%BB%8A%E7%94%9F/</id>
        <title>HTTPå’ŒWebsocketçš„å‰ä¸–ä»Šç”Ÿ</title>
        <link rel="alternate" href="https://anoxiahub.github.io/HTTP%E5%92%8CWebsocket%E7%9A%84%E5%89%8D%E4%B8%96%E4%BB%8A%E7%94%9F/"/>
        <content type="html">&lt;p&gt;&lt;img data-src=&#34;https://raw.githubusercontent.com/lin0yuan/Image/master/f4e0159841ab450d861dde9e8fb5ba0d.gif&#34; alt=&#34;csdn&#34;&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ğŸ“ä¸ªäººåšå®¢ï¼š&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl82MTk1NzI4OT90eXBlPWJsb2c=&#34;&gt;é›¶å…ƒ&lt;/span&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1 id=&#34;å‰è¨€&#34;&gt;&lt;a href=&#34;#å‰è¨€&#34; class=&#34;headerlink&#34; title=&#34;å‰è¨€&#34;&gt;&lt;/a&gt;å‰è¨€&lt;/h1&gt;&lt;p&gt;ç›¸ä¿¡å¤§å®¶éƒ½å¯¹HTTPåè®®æ¯”è¾ƒç†Ÿæ‚‰ï¼Œå› ä¸ºå®ƒæ˜¯æˆ‘ä»¬æ¥è§¦æœ€å¤šçš„ä¸€ä¸ªåè®®ã€‚ä½†Websocketè·Ÿå®ƒåˆæœ‰ä»€ä¹ˆå…³ç³»ï¼Œæœ‰ä»€ä¹ˆä½œç”¨å‘¢ï¼Ÿè¿™ç¯‡æ–‡ç« æˆ‘ä»¬é€šè¿‡HTTPæ¥å¼•å‡ºWebscoketè¿™ä¸ªåè®®ã€‚&lt;/p&gt;
&lt;h1 id=&#34;ä¸€ã€å…³äºHTTP&#34;&gt;&lt;a href=&#34;#ä¸€ã€å…³äºHTTP&#34; class=&#34;headerlink&#34; title=&#34;ä¸€ã€å…³äºHTTP&#34;&gt;&lt;/a&gt;ä¸€ã€å…³äºHTTP&lt;/h1&gt;&lt;h2 id=&#34;1-HTTPè¯·æ±‚&#34;&gt;&lt;a href=&#34;#1-HTTPè¯·æ±‚&#34; class=&#34;headerlink&#34; title=&#34;1. HTTPè¯·æ±‚&#34;&gt;&lt;/a&gt;1. HTTPè¯·æ±‚&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;OSIä¸ƒå±‚æ¶æ„ï¼š&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/7e6e42704eff475e963c5c77cefe75d1.png&#34; alt=&#34;æ­¤å¤„æœ‰å›¾ç‰‡&#34;&gt;&lt;br&gt;å¤§å®¶éƒ½çŸ¥é“ï¼ŒHTTPåè®®æ˜¯åŸºäºTCPåè®®å¼€å‘çš„ä¸€æ¬¾åº”ç”¨å±‚åè®®ï¼Œå®ƒä¸»è¦é’ˆå¯¹çš„å°±æ˜¯ç½‘ç«™çš„ä¸€äº›è¯·æ±‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;è¯·æ±‚å›¾ï¼š&lt;/strong&gt;&lt;br&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/60a5da665ddf48be90383fa1192fabe1.png&#34; alt=&#34;æ­¤å¤„æœ‰å›¾ç‰‡&#34;&gt;&lt;br&gt;åƒè¿™ç§å¯ä»¥ç®—çš„ä¸ŠHTTPæœ€ç®€å•çš„è¯·æ±‚äº†ï¼Œå®¢æˆ·ç«¯å‘æœåŠ¡å™¨è¯·æ±‚æ•°æ®ï¼Œæ­¤æ—¶æœåŠ¡å™¨å“åº”æ•°æ®ï¼Œæ ¹æ®å®¢æˆ·ç«¯è¯·æ±‚çš„æ•°æ®æ¥è¿”å›å¯¹åº”çš„ä¿¡æ¯ï¼Œå¯ä»¥è¿›è¡Œä¸€äº›åŸºæœ¬çš„è·å–ä¿¡æ¯ã€è¯·æ±‚æ•°æ®ä¸€ç±»çš„è¯·æ±‚ã€‚&lt;/p&gt;
&lt;p&gt;å½“ç„¶æ ¹æ®RESTè§„èŒƒï¼Œè¿˜æœ‰POSTè¯·æ±‚ã€PUTè¯·æ±‚ã€HEADè¯·æ±‚ï¼Œè¿™é‡Œå°±ä¸ä¸€ä¸€åˆ—ä¸¾äº†ï¼Œå¤§å®¶æœ‰å…´è¶£å¯ä»¥è‡ªå·±æŸ¥ä¸€ä¸‹ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;å› ä¸ºHTTPè¿™ç§åè®®åªèƒ½å®¢æˆ·ç«¯å‘é€è¯·æ±‚ï¼ŒæœåŠ¡å™¨ä¸èƒ½ä¸»åŠ¨å‘é€è¯·æ±‚ã€‚å¤§å®¶çœ‹åˆ°è¿™æˆ–è®¸ä¼šæœ‰ç–‘æƒ‘ï¼Œä¸ºä»€ä¹ˆè¿˜è¦è¦æ±‚æœåŠ¡å™¨ä¸»åŠ¨æ¨é€å‘¢ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;æ™®é€šè¯·æ±‚ï¼š&lt;/strong&gt;&lt;br&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/43956a553b454c838785fbfc24722037.png&#34; alt=&#34;æ­¤å¤„æœ‰å›¾ç‰‡&#34;&gt;æ™®é€šè¯·æ±‚ç»“åˆAjaxä»£ç ç¤ºä¾‹ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;javascript&#34;&gt;setInterval(function() &amp;#123;
  $.get(&amp;quot;/to/hong&amp;quot;, function(data, status) &amp;#123;
      console.log(data);
  &amp;#125;);
&amp;#125;, 10000);
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å¤§å®¶çœ‹è¿™ä¸ªå›¾å°±çŸ¥é“äº†ï¼Œæ­¤æ—¶å°æ˜æƒ³å‘å°çº¢ç‚«è€€ä¸€ä¸‹è‡ªå®¶çš„çŒ«å¤šä¹ˆå‰å®³(æˆ–è®¸è¿™å°±æ˜¯å­©ç«¥çš„ä¹è¶£å§)ï¼Œå¯æ˜¯æœåŠ¡å™¨å¹¶ä¸èƒ½ä¸»åŠ¨æ¨é€ä¿¡æ¯ï¼Œå°çº¢æ°¸è¿œä¹Ÿæ”¶ä¸åˆ°ï¼Œä¹Ÿå°±æ— æ³•çœ‹åˆ°èƒ½åç©ºç¿»çš„å°çŒ«äº†ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;é‚£ä¹ˆè¯¥å¦‚ä½•è§£å†³è¿™ä¸ªé—®é¢˜å‘¢ï¼Ÿä¹äºåŠ©äººçš„æ”»åŸç‹®æƒ³å‡ºäº†åŠæ³•ï¼šå¯ä»¥è®©å®¢æˆ·ç«¯é¢‘ç¹çš„å»è¯·æ±‚æœåŠ¡å™¨ä¸å°±è¡Œäº†ï¼Œåªè¦æˆ‘è¯·æ±‚çš„é¢‘ç‡åˆ°ä¸€å®šç¨‹åº¦ï¼Œä¸å°±å’ŒæœåŠ¡å™¨ä¸»åŠ¨æ¨é€æ²¡åŒºåˆ«äº†å—ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;2-ä¼ ç»Ÿè½®è¯¢&#34;&gt;&lt;a href=&#34;#2-ä¼ ç»Ÿè½®è¯¢&#34; class=&#34;headerlink&#34; title=&#34;2. ä¼ ç»Ÿè½®è¯¢&#34;&gt;&lt;/a&gt;2. ä¼ ç»Ÿè½®è¯¢&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;è½®è¯¢æ–¹å¼:&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/image-20230811104845648.png&#34; alt=&#34;image-20230811104845648&#34;&gt;&lt;/p&gt;
&lt;p&gt;ä¼ ç»Ÿè½®è¯¢è¯·æ±‚ç»“åˆAjaxä»£ç ç¤ºä¾‹ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;javascript&#34;&gt;function poll() &amp;#123;
  setTimeout(function() &amp;#123;
      $.get(&amp;quot;/path/to/server&amp;quot;, function(data, status) &amp;#123;
          console.log(data);
          // å‘èµ·ä¸‹ä¸€æ¬¡è¯·æ±‚
          poll();
      &amp;#125;);
  &amp;#125;, 10000);
&amp;#125;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å› ä¸ºHTTPè¯·æ±‚æ˜¯è¯·æ±‚å“åº”ç±»å‹çš„ï¼Œæ‰€ä»¥æ¯æ¬¡HTTPè¯·æ±‚ä¹‹åéƒ½ä¼šè¿”å›æ•°æ®ï¼Œå³ä½¿æ²¡æœ‰ä¿¡æ¯ï¼Œä¹Ÿä¼šè¿”å›ä¸€ä¸ªç©ºå€¼ã€‚è¿™æ ·å¯¹äºèŠå¤©çš„è¯å°±ä¼šåšå¾ˆå¤šæ— ç”¨çš„è¯·æ±‚ï¼Œè®©æœåŠ¡å™¨é­å—â€œå‡Œè¿Ÿä¹‹ç—›â€ï¼Œå¹¶ä¸”æ¶ˆè€—å¤§é‡å¸¦å®½ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;å°æ˜ä¹Ÿå¾ˆè‹¦æ¼ï¼Œæ˜æ˜å°±å‘ä¸€ä¸ªæ¶ˆæ¯ï¼Œä¸ºä»€ä¹ˆæ¶ˆè€—è¿™ä¹ˆå¤šæµé‡å‘¢ï¼Ÿåˆšå……çš„èŠ±è´¹å°±æ²¡äº†ã€‚ä¹äºåŠ©äººçš„æ”»åŸç‹®è‚¯å®šä¸ä¼šçœ¼çççš„çœ‹ç€å°æ˜å› ä¸ºçº¦ä¼šæŠŠè‡ªå·±çš„é‡‘é’±å…¨éƒ¨æç©ºï¼Œäºæ˜¯å°±åšäº†ä¸€ä¸ªè¿èƒŒç¥–å®—çš„å†³å®šã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;3-é•¿è½®è¯¢&#34;&gt;&lt;a href=&#34;#3-é•¿è½®è¯¢&#34; class=&#34;headerlink&#34; title=&#34;3. é•¿è½®è¯¢&#34;&gt;&lt;/a&gt;3. é•¿è½®è¯¢&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;åœ¨ä¸Šé¢çš„ä¼ ç»Ÿè½®è¯¢ä¸­ï¼Œå·¨é‡çš„è¯·æ±‚éƒ½æ¶Œå‘æœåŠ¡å™¨ï¼Œå æ®å¤§é‡ç½‘ç»œèµ„æºã€‚é‚£ä¹ˆå¦‚ä½•æ‰èƒ½æ”¹è¿›ï¼Œé¿å…å¤§é‡èµ„æºçš„å ç”¨å‘¢ï¼Ÿ&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;é•¿è½®è¯¢æ„å‘³ç€æµè§ˆå™¨åªéœ€å¯åŠ¨ä¸€ä¸ªHTTPè¯·æ±‚ï¼Œå…¶è¿æ¥çš„æœåŠ¡å™¨ä¼šâ€œholdâ€ä½æ­¤æ¬¡è¿æ¥ï¼Œç›´åˆ°æœ‰æ–°æ¶ˆæ¯æ‰è¿”å›å“åº”ä¿¡æ¯å¹¶å…³é—­è¿æ¥ï¼Œå®¢æˆ·ç«¯å¤„ç†å®Œå“åº”ä¿¡æ¯åå†å‘æœåŠ¡å™¨å‘é€æ–°çš„HTTPè¯·æ±‚,ä»¥æ­¤ç±»æ¨ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;è½®è¯¢ç¤ºä¾‹ï¼š&lt;/strong&gt;&lt;br&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/635cd2a0ea404a0695cf91ce5fc85e2c.png&#34; alt=&#34;æ­¤å¤„æœ‰å›¾ç‰‡&#34;&gt;è·Ÿä¸Šé¢çš„çŸ­è½®è¯¢å¯¹æ¯”ï¼Œä»å›¾ç‰‡ä¸Šå°±æ„Ÿè§‰åˆ°ä¸æ˜¯é‚£ä¹ˆå¯†å¯†éº»éº»çš„äº†ã€‚ç½‘ç»œä¹Ÿæ˜¯å¦‚æ­¤ï¼Œå‡å°‘äº†å¤§é‡ä¸å¿…è¦çš„è¯·æ±‚ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;è½®è¯¢å¯èƒ½åœ¨ä»¥ä¸‹3ç§æƒ…å†µæ—¶ç»ˆæ­¢ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æœ‰æ–°æ•°æ®æ¨é€ ã€‚å½“æœåŠ¡å™¨å‘æµè§ˆå™¨æ¨é€ä¿¡æ¯åï¼Œåº”è¯¥ä¸»åŠ¨ç»“æŸç¨‹åºè¿è¡Œä»è€Œè®©è¿æ¥æ–­å¼€ï¼Œè¿™æ ·æµè§ˆå™¨æ‰èƒ½åŠæ—¶æ”¶åˆ°æ•°æ®ã€‚&lt;/li&gt;
&lt;li&gt;æ²¡æœ‰æ–°æ•°æ®æ¨é€ ã€‚åº”è¯¥è®¾å®šä¸€ä¸ªæœ€é•¿æ—¶é™ï¼Œé¿å…WEBæœåŠ¡å™¨è¶…æ—¶ï¼ˆTimeoutï¼‰ï¼Œè‹¥ä¸€ç›´æ²¡æœ‰æ–°ä¿¡æ¯ï¼ŒæœåŠ¡å™¨åº”ä¸»åŠ¨å‘æµè§ˆå™¨å‘é€æœ¬æ¬¡è½®è¯¢æ— æ–°ä¿¡æ¯çš„æ­£å¸¸å“åº”ï¼Œå¹¶æ–­å¼€è¿æ¥ï¼Œè¿™ä¹Ÿè¢«ç§°ä¸ºâ€œå¿ƒè·³â€ä¿¡æ¯ã€‚&lt;/li&gt;
&lt;li&gt;ç½‘ç»œæ•…éšœæˆ–å¼‚å¸¸ ã€‚ç”±äºç½‘ç»œæ•…éšœç­‰å› ç´ é€ æˆçš„è¯·æ±‚è¶…æ—¶æˆ–å‡ºé”™ä¹Ÿå¯èƒ½å¯¼è‡´è½®è¯¢çš„æ„å¤–ä¸­æ–­ï¼Œæ­¤æ—¶æµè§ˆå™¨å°†æ”¶åˆ°é”™è¯¯ä¿¡æ¯ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;è¿™æ—¶å€™å°æ˜æ‰é•¿é•¿å¹æ‹‰å£æ°”ï¼Œç»ˆäºä¸ä¼šæŠŠè‡ªå·±çš„å°é‡‘åº“èŠ±å…‰äº†ï¼Œè¿˜å‡†å¤‡è·Ÿå°çº¢çº¦ä¼šçš„æ—¶å€™ç”¨å‘¢ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;æ³¨æ„ï¼šé•¿è½®è¯¢å’Œé•¿è¿æ¥æ˜¯æœ‰åŒºåˆ«çš„ã€‚é•¿è¿æ¥æ˜¯åŸºäºTCPçš„ï¼Œåœ¨åè®®ä¸Šçš„ä¿®æ”¹ï¼Œè€Œé•¿è½®è¯¢æ˜¯ç¼–ç¨‹æŒ‚èµ·æ‰‹åŠ¨ä¿®æ”¹çš„&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;äºŒã€å…³äºWebSocket&#34;&gt;&lt;a href=&#34;#äºŒã€å…³äºWebSocket&#34; class=&#34;headerlink&#34; title=&#34;äºŒã€å…³äºWebSocket&#34;&gt;&lt;/a&gt;äºŒã€å…³äºWebSocket&lt;/h1&gt;&lt;p&gt;åœ¨ä¸Šé¢ä½ ä¼šå‘ç°ï¼Œå°±ç®—æ˜¯HTTPçš„é•¿è½®è¯¢ä¹Ÿæ˜¯åŸºäºè¯·æ±‚-åº”ç­”çš„è¿™ç§åŠåŒå·¥é€šä¿¡æ¨¡å¼ï¼Œè™½ç„¶å¯ä»¥åŒå‘çš„æ”¶å‘æ•°æ®ï¼Œä½†ä¸€ä¸ªæ—¶åˆ»åªèƒ½ä¸€ä¸ªæ–¹å‘æœ‰åŠ¨ä½œï¼Œä¼ è¾“æ•ˆç‡ä½ã€‚æœ€ç»ˆè¦çš„ä¸€ç‚¹å°±æ˜¯ï¼Œå®ƒæ˜¯ä¸€ç§è¢«åŠ¨çš„é€šä¿¡æ¨¡å¼ï¼ŒæœåŠ¡å™¨åªèƒ½è¢«åŠ¨çš„å“åº”å®¢æˆ·ç«¯è¯·æ±‚ï¼Œæ— æ³•ä¸»åŠ¨å‘é€æ•°æ®ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;åšäººä¸èƒ½æ€»æ˜¯ä¸»åŠ¨ï¼Œä½ è¶Šä¸»åŠ¨å°±è¶Šå»‰ä»·ã€‚å½“ç„¶æ”»åŸç‹®ä¹Ÿæ˜ç™½è¿™ä¸ªé“ç†ï¼Œä¸ºäº†è®©å°æ˜çš„çˆ±æƒ…æ›´åŠ ç¾å¥½ï¼Œå°±å¼€å§‹æƒ³åŠæ³•åšä¸€ä¸ªå…¨åŒå·¥çš„é€šä¿¡æ¨¡å‹ï¼Œä¸ç”¨åƒHTTPä¸€æ ·å›åˆåˆ¶ç±»å‹é‚£ä¹ˆå®¢å¥—äº†ã€‚äºæ˜¯ï¼ŒæœåŠ¡å™¨å°±å¯ä»¥å˜å¾—æ›´åŠ ä¸»åŠ¨ï¼Œä¸€æ—¦æœåŠ¡å™¨æœ‰æ–°çš„æ•°æ®ï¼Œå°±å¯ä»¥æ¨é€ç»™å°æ˜ï¼Œä¸éœ€è¦å†è½®è¯¢äº†ï¼Œé€šè®¯æ•ˆç‡ä¹Ÿå˜é«˜äº†ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;1-WebSocketåŸºç¡€&#34;&gt;&lt;a href=&#34;#1-WebSocketåŸºç¡€&#34; class=&#34;headerlink&#34; title=&#34;1.WebSocketåŸºç¡€&#34;&gt;&lt;/a&gt;1.WebSocketåŸºç¡€&lt;/h2&gt;&lt;p&gt;WebSocketé‡‡ç”¨äº†äºŒè¿›åˆ¶å¸§ç»“æ„ï¼Œè¯­æ³•ã€è¯­ä¹‰è·ŸHTTPå®Œå…¨ä¸å…¼å®¹ï¼Œä½†ç°åœ¨çš„é¾™å¤´è€å¤§è¿˜æ˜¯HTTPï¼Œäºæ˜¯å°±å°½é‡çš„å¾€HTTPé æ‹¢ã€‚&lt;/p&gt;
&lt;p&gt;æœåŠ¡å‘ç°æ–¹é¢ï¼ŒWebSocketæ²¡æœ‰ä½¿ç”¨TCPçš„â€IPåœ°å€+ç«¯å£å·â€ï¼Œè€Œæ˜¯æ²¿ç”¨äº†HTTPçš„URLæ ¼å¼ï¼Œä½†å¼€å¤´åè®®åä¸æ˜¯httpï¼Œè€Œæ˜¯wså’Œwssï¼Œé»˜è®¤ç«¯å£ä¹Ÿé€‰æ‹©äº†80å’Œ443ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;javascript&#34;&gt;ws://www.baidu.com:8080/server
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;è¿™ä¾¿æ˜¯websocketçš„è¯·æ±‚è·¯å¾„ï¼Œå”¯ä¸€ä¸åŒçš„å°±æ˜¯åè®®å&lt;/p&gt;
&lt;h2 id=&#34;2-WebSocketè¯·æ±‚æµç¨‹&#34;&gt;&lt;a href=&#34;#2-WebSocketè¯·æ±‚æµç¨‹&#34; class=&#34;headerlink&#34; title=&#34;2. WebSocketè¯·æ±‚æµç¨‹&#34;&gt;&lt;/a&gt;2. WebSocketè¯·æ±‚æµç¨‹&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;ä½œä¸ºä¸€ä¸ªæ–°æ˜Ÿåè®®ï¼Œå®ƒæ˜¯å¦‚ä½•å»ºç«‹è¿æ¥çš„å‘¢&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;å»ºç«‹è¿æ¥ï¼š&lt;/strong&gt;&lt;br&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/20210306165527435.png&#34;&gt;ä»ä¸Šé¢è¿™ä¸ªå›¾å¯ä»¥çœ‹å‡ºæ¥ï¼ŒWebsocketç«Ÿç„¶å’ŒHTTPæœ‰å…³ç³»ï¼Œæœ€ä¸Šé¢çš„æ˜¯HTTP1.1ç‰ˆæœ¬ï¼Œä½¿ç”¨çš„GETè¯·æ±‚ï¼Œå…¶ä¸­è¯·æ±‚å¤´ä¸€ä¸ªå­—æ®µå¾ˆé‡è¦Upgradeï¼Œçœ‹è¿™ä¸ªæ„æ€å¤§å®¶åº”è¯¥éƒ½çŸ¥é“ï¼Œæ˜¯å‡çº§çš„æ„æ€ã€‚è¿™ä¸ªè¯·æ±‚å°±æ˜¯ä½¿ç”¨HTTPè¯·æ±‚å‘æœåŠ¡å™¨ä¼ è¾¾ä¸€ä¸ªä¿¡æ¯ï¼Œæˆ‘è¦å¼€å§‹è½¬æ¢ä¸ºWebSocketåè®®ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å¦‚æœç”¨å•¦HTTPè¯·æ±‚é‚£è‚¯å®šä¼šæœ‰ä¸€ä¸ªå“åº”ï¼Œå› ä¸ºHTTPå°±æ˜¯è¯·æ±‚åº”ç­”æ¨¡å‹çš„ï¼Œå½“ç„¶è¿™æ¬¡ä¹Ÿè‚¯å®šä¸ä¾‹å¤–ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;è¿æ¥å“åº”ï¼š&lt;/strong&gt;&lt;br&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/20210306170713531.png&#34;&gt;&lt;br&gt;ä¸Šé¢è¿™ä¸ªå°±æ˜¯æœåŠ¡ç«¯äº§ç”Ÿçš„åº”ç­”ï¼Œå‘Šè¯‰å®¢æˆ·ç«¯ï¼Œå·²ç»è½¬æ¢æˆåŠŸï¼Œä»¥åæˆ‘ä»¬å°±å¯ä»¥ç”¨Websocketäº¤æµä¿¡æ¯äº†(HTTPï¼šå°±æ²¡äººç®¡æˆ‘çš„æ­»æ´»å—ï¼ŸTï¹T)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;é‚£ä¹ˆwebsocketæ˜¯å¦‚ä½•å·¥ä½œçš„å‘¢ï¼Ÿ&lt;/strong&gt;&lt;br&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/5caa193a74d44eefa72cac2c9a930a79.png&#34; alt=&#34;æ­¤å¤„æœ‰å›¾ç‰‡&#34;&gt;&lt;br&gt;é¦–å…ˆå°±æ˜¯ä¸Šé¢æåˆ°çš„å»ºç«‹è¿æ¥ï¼Œå»ºç«‹è¿æ¥æˆåŠŸä¹‹åï¼Œå°±å¼€å§‹è¿›è¡Œå…¨åŒå·¥é€šä¿¡ï¼Œè¿™æ—¶æœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯å°±å¯ä»¥è‡ªç”±å‘é€è¯·æ±‚äº†ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;websocketèŠå¤©ç¤ºä¾‹:&lt;/strong&gt;&lt;br&gt;&lt;img data-src=&#34;https://anoxia-picgo.oss-cn-beijing.aliyuncs.com/758c808bfab64e8390fc882e4494c92d.png&#34; alt=&#34;æ­¤å¤„æœ‰å›¾ç‰‡&#34;&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;å°æ˜ï¼šç¨‹åºçŒ¿å¤ªå‰å®³äº†å§ï¼Œæˆ‘ä»¥åä¹Ÿè¦æˆä¸ºä¸€åç¨‹åºçŒ¿&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;3-Websocketæ€»ç»“&#34;&gt;&lt;a href=&#34;#3-Websocketæ€»ç»“&#34; class=&#34;headerlink&#34; title=&#34;3. Websocketæ€»ç»“&#34;&gt;&lt;/a&gt;3. Websocketæ€»ç»“&lt;/h2&gt;&lt;p&gt;WebSocket æ˜¯ä¸€ç§åŸºäº TCP åè®®çš„é€šä¿¡åè®®ï¼Œå®ƒæä¾›äº†å…¨åŒå·¥çš„å®æ—¶é€šä¿¡èƒ½åŠ›ï¼Œä½¿æœåŠ¡å™¨å’Œå®¢æˆ·ç«¯ä¹‹é—´å¯ä»¥è¿›è¡ŒåŒå‘çš„ã€å®æ—¶çš„æ•°æ®ä¼ è¾“ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ä»¥ä¸‹æ˜¯ WebSocket çš„ä¸€äº›é‡è¦ç‰¹ç‚¹å’Œç”¨æ³•ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;åŒå‘é€šä¿¡ï¼šWebSocket å…è®¸æœåŠ¡å™¨å’Œå®¢æˆ·ç«¯ä¹‹é—´è¿›è¡ŒåŒå‘é€šä¿¡ï¼Œæ— éœ€ä¾èµ–äºå®¢æˆ·ç«¯å‘èµ·è¯·æ±‚ã€‚æœåŠ¡å™¨å¯ä»¥ä¸»åŠ¨å‘å®¢æˆ·ç«¯æ¨é€æ¶ˆæ¯æˆ–æ•°æ®ï¼Œè€Œä¸éœ€è¦ç­‰å¾…å®¢æˆ·ç«¯å‘é€è¯·æ±‚ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;å®æ—¶æ€§ï¼šWebSocket æä¾›äº†ä½å»¶è¿Ÿçš„å®æ—¶é€šä¿¡èƒ½åŠ›ï¼Œé€‚ç”¨äºéœ€è¦åŠæ—¶æ¨é€æ•°æ®çš„åœºæ™¯ï¼Œå¦‚å³æ—¶èŠå¤©ã€å®æ—¶æ¶ˆæ¯æ›´æ–°ç­‰ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;é•¿è¿æ¥ï¼šä¸ä¼ ç»Ÿçš„ HTTP è¯·æ±‚-å“åº”æ¨¡å¼ä¸åŒï¼ŒWebSocket åœ¨æ¡æ‰‹é˜¶æ®µå»ºç«‹è¿æ¥åï¼Œè¿æ¥ä¼šä¿æŒæ‰“å¼€ï¼ŒåŒæ–¹å¯ä»¥é•¿æ—¶é—´ä¿æŒé€šä¿¡çŠ¶æ€ï¼Œé¿å…äº†é¢‘ç¹å»ºç«‹å’Œå…³é—­è¿æ¥çš„å¼€é”€ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;äºŒè¿›åˆ¶æ”¯æŒï¼šWebSocket ä¸ä»…å¯ä»¥ä¼ è¾“æ–‡æœ¬æ•°æ®ï¼Œè¿˜æ”¯æŒä¼ è¾“äºŒè¿›åˆ¶æ•°æ®ï¼Œè¿™ä½¿å¾—å®ƒèƒ½å¤Ÿå¤„ç†å¤šåª’ä½“æ•°æ®ã€æ–‡ä»¶ä¼ è¾“ç­‰æ›´å¤æ‚çš„åœºæ™¯ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;é€‚ç”¨äº Web åº”ç”¨å’Œç§»åŠ¨åº”ç”¨ï¼šWebSocket å¯ä»¥è¢«å¹¿æ³›åº”ç”¨äº Web åº”ç”¨å’Œç§»åŠ¨åº”ç”¨ä¸­ï¼Œä¸ºå®æ—¶é€šä¿¡æä¾›äº†å¼ºå¤§çš„æ”¯æŒã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;åœ¨ä½¿ç”¨ WebSocket è¿›è¡Œé€šä¿¡æ—¶ï¼Œå¼€å‘è€…å¯ä»¥å€ŸåŠ©ç›¸åº”çš„ WebSocket å®¢æˆ·ç«¯åº“æˆ–è€…æµè§ˆå™¨æä¾›çš„ WebSocket API æ¥å®ç°ä¸æœåŠ¡å™¨çš„è¿æ¥å’Œæ•°æ®ä¼ è¾“ã€‚åŒæ—¶ï¼ŒæœåŠ¡å™¨ç«¯ä¹Ÿéœ€è¦æ”¯æŒ WebSocket åè®®æ¥å¤„ç†å®¢æˆ·ç«¯çš„è¿æ¥å’Œæ¶ˆæ¯ã€‚&lt;/p&gt;
&lt;h1 id=&#34;ä¸‰ã€æ€»ç»“&#34;&gt;&lt;a href=&#34;#ä¸‰ã€æ€»ç»“&#34; class=&#34;headerlink&#34; title=&#34;ä¸‰ã€æ€»ç»“&#34;&gt;&lt;/a&gt;ä¸‰ã€æ€»ç»“&lt;/h1&gt;&lt;p&gt;&lt;strong&gt;å…³äºHTTPè¯·æ±‚å’ŒWebSocketçš„å¯¹æ¯”ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;è¿æ¥æ–¹å¼ï¼šHTTP æ˜¯ä¸€ç§æ— çŠ¶æ€çš„è¯·æ±‚-å“åº”åè®®ï¼Œæ¯æ¬¡è¯·æ±‚éƒ½éœ€è¦é‡æ–°å»ºç«‹è¿æ¥ã€‚è€Œ WebSocket åˆ™æ˜¯ä¸€ç§å…¨åŒå·¥é€šä¿¡åè®®ï¼Œé€šè¿‡ä¸€æ¬¡æ¡æ‰‹åï¼Œå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä¹‹é—´å¯ä»¥ä¿æŒé•¿æ—¶é—´çš„è¿æ¥ï¼Œå®ç°åŒå‘é€šä¿¡ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;é€šä¿¡æ•ˆç‡ï¼šç”±äº HTTP åè®®çš„ç‰¹æ€§ï¼Œæ¯æ¬¡è¯·æ±‚-å“åº”çš„è¿‡ç¨‹ä¼šå¸¦æ¥è¾ƒå¤§çš„å¼€é”€ã€‚è€Œ WebSocket çš„é•¿è¿æ¥å¯ä»¥å‡å°‘é¢‘ç¹çš„æ¡æ‰‹å’Œå¤´éƒ¨ä¿¡æ¯ä¼ è¾“ï¼Œä»è€Œæé«˜é€šä¿¡æ•ˆç‡ï¼Œç‰¹åˆ«é€‚åˆå®æ—¶æ€§è¦æ±‚é«˜çš„åœºæ™¯ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;æ•°æ®æ ¼å¼ï¼šHTTP ä½¿ç”¨æ–‡æœ¬å½¢å¼çš„è¯·æ±‚å’Œå“åº”ï¼Œé€šå¸¸ä»¥ JSON æˆ– XML æ ¼å¼è¿›è¡Œæ•°æ®ä¼ è¾“ã€‚è€Œ WebSocket å¯ä»¥ä¼ è¾“äºŒè¿›åˆ¶æ•°æ®ï¼Œå¯ä»¥æ›´é«˜æ•ˆåœ°å¤„ç†å¤šåª’ä½“æ•°æ®æˆ–å…¶ä»–å¤æ‚çš„æ ¼å¼ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;æ”¯æŒæ€§ï¼šWebSocket æ˜¯ä¸€ç§ç›¸å¯¹è¾ƒæ–°çš„åè®®ï¼Œä¸æ˜¯æ‰€æœ‰çš„æµè§ˆå™¨å’ŒæœåŠ¡å™¨éƒ½å®Œå…¨æ”¯æŒå®ƒã€‚è€Œ HTTP æ˜¯é€šç”¨çš„åè®®ï¼Œå‡ ä¹æ‰€æœ‰çš„æµè§ˆå™¨å’ŒæœåŠ¡å™¨éƒ½èƒ½è‰¯å¥½æ”¯æŒã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ç»¼ä¸Šæ‰€è¿°ï¼ŒWebSocket ç›¸å¯¹äº HTTP å…·æœ‰æ›´ä½çš„é€šä¿¡å»¶è¿Ÿã€æ›´é«˜çš„æ•ˆç‡å’Œæ›´å¼ºå¤§çš„åŠŸèƒ½ï¼Œç‰¹åˆ«é€‚ç”¨äºå®æ—¶é€šä¿¡ã€æ¨é€å’Œå®æ—¶æ›´æ–°çš„åœºæ™¯ã€‚ä½†åœ¨ä¸€äº›ç®€å•çš„è¯·æ±‚-å“åº”äº¤äº’ä¸­ï¼Œä»ç„¶å¯ä»¥ä½¿ç”¨ HTTPã€‚é€‰æ‹©ä½¿ç”¨å“ªç§åè®®å–å†³äºå…·ä½“çš„éœ€æ±‚å’Œåœºæ™¯ã€‚&lt;/p&gt;
</content>
        <category term="è®¡ç®—æœºåŸºç¡€" scheme="https://anoxiahub.github.io/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/" />
        <updated>2023-08-08T16:00:00.000Z</updated>
    </entry>
    <entry>
        <id>https://anoxiahub.github.io/redis/%E8%AF%BB%E5%86%99%E4%B8%80%E8%87%B4%E9%97%AE%E9%A2%98/</id>
        <title>å…³äºç¼“å­˜è¯»å†™ä¸€è‡´é—®é¢˜</title>
        <link rel="alternate" href="https://anoxiahub.github.io/redis/%E8%AF%BB%E5%86%99%E4%B8%80%E8%87%B4%E9%97%AE%E9%A2%98/"/>
        <content type="html">&lt;blockquote&gt;
&lt;p&gt;ğŸ“ä¸ªäººåšå®¢ï¼š&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl82MTk1NzI4OT90eXBlPWJsb2c=&#34;&gt;é›¶å…ƒ&lt;/span&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;å‰è¨€&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å‰è¨€&#34;&gt;#&lt;/a&gt; å‰è¨€&lt;/h2&gt;
&lt;p&gt;åœ¨é¡¹ç›®ä½¿ç”¨ Redis è¿‡ç¨‹ä¸­ï¼Œå½“æ•°æ®æ›´æ–°æ—¶ï¼Œæˆ‘ä»¬è¦ä¿è¯ç¼“å­˜å’Œæ•°æ®åº“çš„ä¸€è‡´æ€§ï¼Œå¦åˆ™ä¼šå¯¼è‡´å¾ˆå¤šè„æ•°æ®å‡ºç°ã€‚æ­¤æ—¶æˆ‘ä»¬å°±è¦æ€è€ƒå¦‚ä½•å»è¿›è¡Œæ•°æ®æ›´æ–°ã€‚&lt;/p&gt;
&lt;hr /&gt;
&lt;h2 id=&#34;ä¸€-æ™®é€šåˆ é™¤&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ä¸€-æ™®é€šåˆ é™¤&#34;&gt;#&lt;/a&gt; ä¸€ã€æ™®é€šåˆ é™¤&lt;/h2&gt;
&lt;p&gt;åœ¨æ•°æ®æ›´æ–°è¿‡ç¨‹ä¸­ï¼Œå¤§å®¶æ— éä½¿ç”¨ä¸¤ç§æ–¹æ³•è¿›è¡Œç¼“å­˜å’Œæ•°æ®åº“çš„æ›´æ–°&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å…ˆåˆ é™¤ç¼“å­˜ï¼Œå†æ›´æ–°æ•°æ®åº“&lt;/li&gt;
&lt;li&gt;å…ˆæ›´æ–°æ•°æ®åº“ï¼Œå†æ›´æ–°ç¼“å­˜&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;é‚£è¿™ä¸¤ç§æ–¹æ³•ç©¶ç«Ÿæœ‰ä»€ä¹ˆä¸åŒå‘¢ï¼Ÿ&lt;/p&gt;
&lt;h3 id=&#34;1-å…ˆåˆ é™¤ç¼“å­˜&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#1-å…ˆåˆ é™¤ç¼“å­˜&#34;&gt;#&lt;/a&gt; 1. å…ˆåˆ é™¤ç¼“å­˜&lt;/h3&gt;
&lt;p&gt;&lt;img data-src=&#34;https://s1.ax1x.com/2023/08/08/pPVTSbR.png&#34; alt=&#34;åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°&#34; /&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;blockquote&gt;
&lt;p&gt;é—®é¢˜ï¼šæ­¤æ—¶ç¼“å­˜æœ‰äº†æ—§æ•°æ®ï¼Œåœ¨ä¸‹æ¬¡ä¿®æ”¹æ­¤æ•°æ®ä¹‹å‰ï¼Œæ‰€æœ‰è¯·æ±‚è·å–çš„éƒ½æ˜¯æ—§æ•°æ®ï¼Œå¯¼è‡´è¯»å†™ä¸ä¸€è‡´&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;2-ååˆ é™¤ç¼“å­˜&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#2-ååˆ é™¤ç¼“å­˜&#34;&gt;#&lt;/a&gt; 2. ååˆ é™¤ç¼“å­˜&lt;/h3&gt;
&lt;p&gt;&lt;img data-src=&#34;https://s1.ax1x.com/2023/08/08/pPVoxKJ.png&#34; alt=&#34;åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°&#34; /&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;blockquote&gt;
&lt;p&gt;é—®é¢˜ 1ï¼šåœ¨å°æ˜ä¿®æ”¹æ•°æ®åº“åˆ°åˆ é™¤ç¼“å­˜è¿™æ®µæ—¶é—´ï¼Œæ‰€æœ‰è¯·æ±‚éƒ½æ˜¯æ—§æ•°æ®&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;blockquote&gt;
&lt;p&gt;é—®é¢˜ 2ï¼šå¦‚æœç¼“å­˜åˆ é™¤å¤±è´¥ï¼Œåç»­æ‰€æœ‰è¯·æ±‚éƒ½æ˜¯æ—§æ•°æ® (è¿™ä¸ªé—®é¢˜å¼€å¯äº‹åŠ¡çš„è¯ï¼Œå°±å¯ä»¥è§£å†³)&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;äºŒ-åŒåˆ ç­–ç•¥&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#äºŒ-åŒåˆ ç­–ç•¥&#34;&gt;#&lt;/a&gt; äºŒã€åŒåˆ ç­–ç•¥&lt;/h2&gt;
&lt;p&gt;åœ¨æ™®é€šåˆ é™¤ç­–ç•¥ä¸­ï¼Œå¤§å®¶ä¼šå‘ç°ååˆ ç¼“å­˜ç­–ç•¥æ˜¯æ¯”è¾ƒå¥½çš„ä¸€ç§ï¼Œä½†è¿˜æ˜¯å­˜åœ¨ä¸€ç‚¹é—®é¢˜ï¼Œæ‰€ä»¥æå‡ºäº†åŒåˆ ç­–ç•¥&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;å…³äºè¿™ä¸ªåœ°æ–¹æˆ‘æ˜¯å­˜åœ¨ç–‘é—®çš„ï¼Œå› ä¸ºæˆ‘è®¤ä¸ºåŒåˆ å¹¶ä¸ä¼šæ¯”ååˆ ç¼“å­˜ç­–ç•¥æ›´å¥½ï¼Œåè€Œå¢åŠ äº†ä¸€æ¬¡æ•°æ®åº“æŸ¥è¯¢çš„æ“ä½œã€‚ä½†æœ‰çš„åšå®¢å´æäº†è¿™ä¸ªç­–ç•¥ï¼Œæˆ‘å°±åœ¨è¿™é‡Œæä¸€ä¸‹ï¼Œå¤§å®¶å¯ä»¥åœ¨è¯„è®ºè¿›è¡Œäº¤æµ&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;1-æ™®é€šåŒåˆ &#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#1-æ™®é€šåŒåˆ &#34;&gt;#&lt;/a&gt; 1. æ™®é€šåŒåˆ &lt;/h3&gt;
&lt;p&gt;&lt;img data-src=&#34;https://s1.ax1x.com/2023/08/08/pPVT9V1.png&#34; alt=&#34;åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°&#34; /&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;blockquote&gt;
&lt;p&gt;é—®é¢˜ï¼šå› ä¸ºçº¿ç¨‹è°ƒåº¦ä¸€äº›é—®é¢˜å¯¼è‡´æŸ¥è¯¢åå†™å…¥ç¼“å­˜åœæ­¢ï¼Œä¼šå¯¼è‡´æ—§ç¼“å­˜ä¾æ—§å­˜åœ¨&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;2-å»¶è¿ŸåŒåˆ &#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#2-å»¶è¿ŸåŒåˆ &#34;&gt;#&lt;/a&gt; 2. å»¶è¿ŸåŒåˆ &lt;/h3&gt;
&lt;p&gt;&lt;img data-src=&#34;https://s1.ax1x.com/2023/08/08/pPVTCUx.png&#34; alt=&#34;åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°&#34; /&gt;&lt;br /&gt;
è¿™æ ·çš„è¯çœ‹ä¼¼æŠŠæ™®é€šåŒåˆ çš„é—®é¢˜ç»™è§£å†³äº†ï¼Œä½†å¹¶æ²¡æœ‰å®Œå…¨è§£å†³ï¼Œåè€Œå¼•å‘æ–°çš„é—®é¢˜ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;blockquote&gt;
&lt;p&gt;é—®é¢˜ï¼šå»¶æ—¶æ—¶é•¿é—®é¢˜ï¼Œæ—¶é—´å¤ªé•¿å¯¼è‡´æ€§èƒ½ä¸‹é™ï¼Œæ—¶é—´å¤ªçŸ­åˆä¼šè·Ÿæ™®é€šåŒåˆ ä¸€æ ·&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;ä¸‰-è¯»å†™é”&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ä¸‰-è¯»å†™é”&#34;&gt;#&lt;/a&gt; ä¸‰ã€è¯»å†™é”&lt;/h2&gt;
&lt;p&gt;è¯»å†™é”æ ¹æ®å­—é¢æ„æ€å°±çŸ¥é“æ˜¯åŠ é”ï¼Œå› æ­¤æ•ˆç‡è‚¯å®šæ¯”ä¸åŠ é”æ•ˆç‡ä½ï¼Œä½†æ˜¯å¯ä»¥å®Œå…¨é¿å…æ—§æ•°æ®è¯»å–çš„å‘ç”Ÿã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è¯»å†™é”æ˜¯è¯»è¯»å…±äº«ï¼Œè¯»å†™å’Œå†™å†™äº’æ–¥çš„&lt;br /&gt;
&lt;img data-src=&#34;https://s1.ax1x.com/2023/08/08/pPVozr9.png&#34; alt=&#34;åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°&#34; /&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;å››-å¼‚æ­¥é€šçŸ¥&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å››-å¼‚æ­¥é€šçŸ¥&#34;&gt;#&lt;/a&gt; å››ã€å¼‚æ­¥é€šçŸ¥&lt;/h2&gt;
&lt;h3 id=&#34;1-æ¶ˆæ¯ä¸­é—´ä»¶å¼‚æ­¥é€šçŸ¥&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#1-æ¶ˆæ¯ä¸­é—´ä»¶å¼‚æ­¥é€šçŸ¥&#34;&gt;#&lt;/a&gt; 1. æ¶ˆæ¯ä¸­é—´ä»¶å¼‚æ­¥é€šçŸ¥&lt;/h3&gt;
&lt;p&gt;&lt;img data-src=&#34;https://s1.ax1x.com/2023/08/08/pPVojv4.png&#34; alt=&#34;åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°&#34; /&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¯¹äºè¿™ä¸ªåšä¸»è®¤ä¸ºæ˜¯æŠŠå»¶è¿ŸåŒåˆ çš„å»¶è¿Ÿç»™ä¼˜åŒ–äº†ï¼Œä¸å†å ç”¨æœ¬çº¿ç¨‹çš„æ—¶é—´ï¼Œåªä¸è¿‡éƒ¨åˆ†è¯·æ±‚ä¼šå¯¼è‡´æ—§æ•°æ®ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;2canal&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#2canal&#34;&gt;#&lt;/a&gt; 2.Canal&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;å…³äº Canalï¼Œå¤§å®¶å¯ä»¥çœ‹è¿™ç¯‡æ–‡ç« ï¼š&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly93d3cuY25ibG9ncy5jb20vY2Fvd2VpeGlvbmcvcC8xMTgyNDQyMy5odG1s&#34;&gt;Canal åŸç†æ¶æ„åº”ç”¨åœºæ™¯&lt;/span&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Canal æ˜¯ä¸€ä¸ªå¼€æºçš„æ•°æ®åº“æ•°æ®å¢é‡è®¢é˜…å’Œæ¶ˆè´¹ç»„ä»¶ï¼Œç”¨äºå®æ—¶æ•è·æ•°æ®åº“çš„å˜æ›´å¹¶å°†å…¶ä¼ é€’ç»™å…¶ä»–ç³»ç»Ÿã€‚å…·ä½“è€Œè¨€ï¼ŒCanal ä¸»è¦ç”¨äºè§£å†³æ•°æ®åº“ä¹‹é—´çš„æ•°æ®åŒæ­¥å’Œå®æ—¶æ•°æ®åˆ†æéœ€æ±‚ã€‚&lt;br /&gt;
Canal æ”¯æŒå¯¹ MySQLã€Oracle ç­‰ä¸»æµæ•°æ®åº“è¿›è¡Œå¢é‡æ•°æ®è®¢é˜…å’Œæ¶ˆè´¹ã€‚å®ƒé€šè¿‡è§£ææ•°æ®åº“çš„æ—¥å¿—ï¼ˆå¦‚ MySQL çš„ binlog æˆ– Oracle çš„ redo logï¼‰ï¼Œå®æ—¶æ•è·æ•°æ®åº“çš„å˜æ›´æ“ä½œï¼Œç„¶åå°†å˜æ›´æ•°æ®ä»¥äº‹ä»¶çš„å½¢å¼å‘é€ç»™è®¢é˜…è€…ã€‚å¯ä»¥å°†è¿™äº›å˜æ›´æ•°æ®ç”¨äºæ•°æ®åŒæ­¥ã€å®æ—¶æ•°æ®ä»“åº“ã€æœç´¢å¼•æ“ç´¢å¼•æ›´æ–°ã€ç¼“å­˜æ›´æ–°ç­‰åº”ç”¨åœºæ™¯ã€‚&lt;br /&gt;
Canal çš„ä¸»è¦ç‰¹æ€§åŒ…æ‹¬ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;. æ•°æ®åº“æ— ä¾µå…¥ï¼šCanal é€šè¿‡è§£ææ•°æ®åº“æ—¥å¿—æ¥æ•è·æ•°æ®å˜æ›´ï¼Œä¸éœ€è¦å¯¹æ•°æ®åº“è¿›è¡Œä»»ä½•ä¿®æ”¹ï¼Œä¸ä¼šå¯¹æ•°æ®åº“çš„æ€§èƒ½äº§ç”Ÿå½±å“ã€‚&lt;/li&gt;
&lt;li&gt;å®æ—¶çš„å¢é‡æ•°æ®ï¼šCanal èƒ½å¤Ÿå‡ ä¹å®æ—¶åœ°æ•è·åˆ°æ•°æ®åº“çš„å˜æ›´æ“ä½œï¼Œå¹¶ä»¥äº‹ä»¶çš„å½¢å¼è¿›è¡Œä¼ é€’ï¼Œä¿è¯äº†æ•°æ®çš„å®æ—¶æ€§ã€‚&lt;/li&gt;
&lt;li&gt;çµæ´»çš„è®¢é˜…å’Œè¿‡æ»¤ï¼šCanal æ”¯æŒåŸºäºæ•°æ®åº“ã€è¡¨ã€åˆ—çº§åˆ«çš„è®¢é˜…å’Œè¿‡æ»¤ï¼Œå¯ä»¥æŒ‰éœ€é€‰æ‹©éœ€è¦åŒæ­¥çš„æ•°æ®ï¼Œå‡å°‘æ•°æ®ä¼ è¾“å’Œå¤„ç†çš„å‹åŠ›ã€‚&lt;/li&gt;
&lt;li&gt;å¤šç§åè®®æ”¯æŒï¼šCanal æ”¯æŒå¤šç§æ•°æ®ä¼ è¾“åè®®ï¼Œå¦‚åŸºäº TCP çš„ç®€å•æ–‡æœ¬åè®®ã€Kafkaã€RocketMQ ç­‰ï¼Œå¯ä»¥æ ¹æ®å…·ä½“éœ€æ±‚é€‰æ‹©é€‚åˆçš„åè®®è¿›è¡Œæ•°æ®ä¼ è¾“ã€‚&lt;/li&gt;
&lt;li&gt;é«˜å¯ç”¨å’Œå®¹é”™ï¼šCanal æ”¯æŒå¤šèŠ‚ç‚¹éƒ¨ç½²ï¼Œé€šè¿‡ä¸»å¤‡æ¨¡å¼æˆ–è€…é›†ç¾¤æ¨¡å¼æ¥ä¿è¯é«˜å¯ç”¨æ€§å’Œå®¹é”™æ€§ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;äº”-æ€»ç»“&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#äº”-æ€»ç»“&#34;&gt;#&lt;/a&gt; äº”ã€‚æ€»ç»“&lt;/h2&gt;
&lt;p&gt;æ€»ä½“æ¥è¯´è¿™å‡ ç§æ–¹å¼å„æœ‰ä¼˜ç¼ºç‚¹ï¼Œä¸è¿‡ç°åœ¨ä¸»è¦ç”¨çš„å°±æ˜¯æ™®é€šåˆ é™¤ä¸­çš„ååˆ ç¼“å­˜çš„æ–¹æ³•ï¼Œå¦‚æœä¸€è‡´æ€§è¦æ±‚æ¯”è¾ƒé«˜çš„è¯ï¼Œå¯ä»¥ç”¨è¯»å†™é”çš„æ–¹å¼ï¼Œå¦‚æœæ²¡æœ‰é‚£ä¹ˆå¼ºçš„ä¸€è‡´æ€§è¦æ±‚ï¼Œå¯ä»¥ä½¿ç”¨ååˆ ç¼“å­˜æˆ–è€…å¼‚æ­¥é€šçŸ¥çš„æ–¹å¼ã€‚&lt;/p&gt;
</content>
        <category term="Redis" scheme="https://anoxiahub.github.io/categories/redis/" />
        <category term="Redis" scheme="https://anoxiahub.github.io/tags/Redis/" />
        <updated>2023-08-07T16:00:00.000Z</updated>
    </entry>
    <entry>
        <id>https://anoxiahub.github.io/project/bug%E9%97%AE%E9%A2%98%E5%8F%8A%E8%A7%A3%E5%86%B3/</id>
        <title>é¡¹ç›®å¸¸è§é—®é¢˜</title>
        <link rel="alternate" href="https://anoxiahub.github.io/project/bug%E9%97%AE%E9%A2%98%E5%8F%8A%E8%A7%A3%E5%86%B3/"/>
        <content type="html">&lt;h3 id=&#34;mavené—®é¢˜&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#mavené—®é¢˜&#34;&gt;#&lt;/a&gt; Maven é—®é¢˜&lt;/h3&gt;
&lt;h4 id=&#34;mavenå³ä¾§å‡ºç°rootå­—æ ·&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#mavenå³ä¾§å‡ºç°rootå­—æ ·&#34;&gt;#&lt;/a&gt; maven å³ä¾§å‡ºç° root å­—æ ·&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;é—®é¢˜åŸå› ï¼šç”±äºçˆ¶å·¥ç¨‹æœªå¯¼å…¥è¯¥å­æ¨¡å—ï¼Œæ‰€ä»¥ maven è®¤ä¸ºè¯¥æ¨¡å—ä¸ºæ ¹æ¨¡å—.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;è§£å†³æ–¹æ³•:&lt;/p&gt;
&lt;figure class=&#34;highlight xml&#34;&gt;&lt;figcaption data-lang=&#34;XML&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;modules&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;module&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;module&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&#34;token comment&#34;&gt;&amp;lt;!-- æ­¤å¤„æ”¾ç½®è¯¥å­æ¨¡å— --&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;modules&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;javaé—®é¢˜&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#javaé—®é¢˜&#34;&gt;#&lt;/a&gt; JAVA é—®é¢˜&lt;/h3&gt;
&lt;h4 id=&#34;ä½¿ç”¨æ’é™¤æ³¨è§£æ‰€é‡é—®é¢˜&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ä½¿ç”¨æ’é™¤æ³¨è§£æ‰€é‡é—®é¢˜&#34;&gt;#&lt;/a&gt; ä½¿ç”¨æ’é™¤æ³¨è§£æ‰€é‡é—®é¢˜&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;é—®é¢˜ä»£ç :&lt;/p&gt;
&lt;figure class=&#34;highlight java&#34;&gt;&lt;figcaption data-lang=&#34;java&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token class-name&#34;&gt;&lt;span class=&#34;token namespace&#34;&gt;java&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;lang&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;/span&gt;IllegalStateException&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token class-name&#34;&gt;The&lt;/span&gt; following classes could not be excluded because they are not auto&lt;span class=&#34;token operator&#34;&gt;-&lt;/span&gt;configuration classes&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;figure class=&#34;highlight java&#34;&gt;&lt;figcaption data-lang=&#34;java&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;xxxxxxxxxx6 &lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt;private &lt;span class=&#34;token class-name&#34;&gt;LocalDateTime&lt;/span&gt; createTime&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt; &lt;span class=&#34;token number&#34;&gt;2&lt;/span&gt;â€‹&lt;span class=&#34;token number&#34;&gt;3&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;setCreateTime&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token class-name&#34;&gt;Date&lt;/span&gt; createTime&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token number&#34;&gt;4&lt;/span&gt; &lt;span class=&#34;token class-name&#34;&gt;LocalDateTime&lt;/span&gt; localDateTime &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; createTime&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;toInstant&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;atZone&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token class-name&#34;&gt;ZoneId&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;systemDefault&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;toLocalDateTime&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token number&#34;&gt;5&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;this&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;createTime &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; localDateTime&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;6&lt;/span&gt;    &lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;java&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;è§£å†³åŠæ³•:&lt;/p&gt;
&lt;figure class=&#34;highlight java&#34;&gt;&lt;figcaption data-lang=&#34;java&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token annotation punctuation&#34;&gt;@SpringBootApplication&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;exclude &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;&lt;span class=&#34;token class-name&#34;&gt;DataSourceAutoConfiguration&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token keyword&#34;&gt;class&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;æŸ¥çœ‹ä¸€ä¸‹ç±»æ˜¯å¦å†™é”™äº†ï¼Œä¿®æ”¹å³å¯.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;mapperscanæ— æ³•æ³¨å…¥&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#mapperscanæ— æ³•æ³¨å…¥&#34;&gt;#&lt;/a&gt; mapperscan æ— æ³•æ³¨å…¥&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;é—®é¢˜æè¿°ï¼šåœ¨ä»£ç ç•Œé¢ï¼Œçº¢è‰²è­¦å‘Šï¼ˆå¯åŠ¨ç¨‹åºå¹¶æ— å¼‚å¸¸ï¼‰ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;é—®é¢˜åŸå› ï¼šmapper ç±»æ˜¯ä½¿ç”¨çš„ mybatis ç”Ÿæˆçš„ï¼Œspring æ— æ³•æ£€æµ‹å‡ºï¼Œä½†è¿è¡Œæ²¡æœ‰é—®é¢˜ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;è§£å†³åŠæ³•ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;ç¦æ­¢çº¢è‰²è­¦å‘Šï¼ˆä¸å»ºè®®ï¼Œå› ä¸ºåˆ«çš„åœ°æ–¹å¦‚æœè‡ªåŠ¨è£…é…å‡ºé—®é¢˜æ— æ³•åŠæ—¶å‘ç°ï¼‰&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;åœ¨ mapper ç±»åŠ å…¥ @Mapper æ³¨è§£ï¼ˆmybatis è‡ªå¸¦æ³¨è§£ï¼Œæ²¡å¯¼å…¥ mybatis çš„è¯ï¼Œè¦åœ¨å¯åŠ¨ç±»åŠ å…¥ @mapperscanï¼‰&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;åœ¨ mapper ç±»åŠ å…¥ @Repository æ³¨è§£è·Ÿ mapperscan ç»“åˆï¼ˆspring è‡ªå¸¦æ³¨è§£ï¼‰&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;nacoså¼‚å¸¸&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#nacoså¼‚å¸¸&#34;&gt;#&lt;/a&gt; nacos å¼‚å¸¸&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;é—®é¢˜ä»£ç ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight java&#34;&gt;&lt;figcaption data-lang=&#34;java&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token class-name&#34;&gt;Failed&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;to&lt;/span&gt; &lt;span class=&#34;token namespace&#34;&gt;start&lt;/span&gt; bean &#39;nacosWatch&#39;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt; nested exception is &lt;span class=&#34;token class-name&#34;&gt;&lt;span class=&#34;token namespace&#34;&gt;java&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;lang&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;/span&gt;RuntimeException&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token class-name&#34;&gt;ErrCode&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;400&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;é—®é¢˜åŸå› ï¼špom æ–‡ä»¶å¯¼å…¥çš„ nacos ç‰ˆæœ¬å’Œ springboot ç‰ˆæœ¬ä¸å…¼å®¹ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;è§£å†³åŠæ³•ï¼š&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9jbG91ZC50ZW5jZW50LmNvbS9kZXZlbG9wZXIvYXJ0aWNsZS8xNzM1Mzky&#34;&gt;ç‚¹å‡»æŸ¥çœ‹å¯¹åº”ç‰ˆæœ¬&lt;/span&gt;ï¼Œé‡æ–°å¯¼å…¥å³å¯å¯¹åº”ç‰ˆæœ¬ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
</content>
        <category term="é¡¹ç›®æ€»ç»“" scheme="https://anoxiahub.github.io/categories/project/" />
        <category term="Mysql" scheme="https://anoxiahub.github.io/tags/Mysql/" />
        <category term="bug" scheme="https://anoxiahub.github.io/tags/bug/" />
        <updated>2023-08-06T16:00:00.000Z</updated>
    </entry>
    <entry>
        <id>https://anoxiahub.github.io/project/Mysql%E6%A0%BC%E5%BC%8F%E8%BD%AC%E6%8D%A2/</id>
        <title>è¿æ¥æ•°æ®åº“é‡åˆ°é—®é¢˜</title>
        <link rel="alternate" href="https://anoxiahub.github.io/project/Mysql%E6%A0%BC%E5%BC%8F%E8%BD%AC%E6%8D%A2/"/>
        <content type="html">&lt;h3 id=&#34;1-æ—¶åŒºè½¬æ¢é—®é¢˜&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#1-æ—¶åŒºè½¬æ¢é—®é¢˜&#34;&gt;#&lt;/a&gt; 1. æ—¶åŒºè½¬æ¢é—®é¢˜&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;ç›¸ä¿¡å¤§å¤šæ•°äººéƒ½é‡è§è¿‡æ•°æ®åº“æ—¶é—´æå–åˆ° Java å¯¹è±¡ä¹‹åï¼Œå‘ç”Ÿæ—¶é—´ä¸ä¸€è‡´çš„é—®é¢˜&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;è¿æ¥æ•°æ®åº“çš„æ—¶å€™è‹¥ä¸è®¾ç½®ï¼Œå°±ä¼šå¼•å‘æ—¶åŒºè½¬æ¢çš„é—®é¢˜ï¼Œå…¶åŸå› æ˜¯å› ä¸º:&lt;br /&gt;
&lt;mark&gt; å’±ä»¬æ‰€åœ¨æ—¶åŒºä¸ºä¸œå…«åŒºï¼Œè€Œé»˜è®¤æ—¶åŒºä¸º 0 åŒºï¼Œå·®è·å…«ä¸ªå°æ—¶ï¼Œæ‰€ä»¥æ¯æ¬¡åœ¨ä¸æ•°æ®åº“äº¤äº’æ—¶å°±ä¼šå‘ç”Ÿå…«å°æ—¶çš„è¯¯å·®ï¼Œ&lt;/mark&gt;&lt;br /&gt;
 è‹¥è¦è§£å†³æ­¤é—®é¢˜ï¼Œå°±è¦åœ¨è¿æ¥æ•°æ®åº“æ—¶è®¾ç½®é…ç½®:&lt;/p&gt;
&lt;figure class=&#34;highlight yaml&#34;&gt;&lt;figcaption data-lang=&#34;YAML&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;jdbc&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;mysql&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;//localhost&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;3306/friend&lt;span class=&#34;token punctuation&#34;&gt;?&lt;/span&gt;useSSL=false&lt;span class=&#34;token important&#34;&gt;&amp;amp;serverTimezone=Asia/Shanghai&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;&amp;amp; åé¢ä¾¿æ˜¯è®¾ç½®çš„æ—¶åŒºï¼Œè®¾ç½®ä¹‹ååœ¨ä¸ mysql äº¤äº’çš„æ—¶å€™å°±ä¸ä¼šå‘ç”Ÿæ—¶åŒºçš„é—®é¢˜äº†ã€‚&lt;/p&gt;
&lt;h3 id=&#34;2æ•°æ®åº“å­—æ®µåˆ›å»ºæ—¶é—´å’Œä¿®æ”¹æ—¶é—´&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#2æ•°æ®åº“å­—æ®µåˆ›å»ºæ—¶é—´å’Œä¿®æ”¹æ—¶é—´&#34;&gt;#&lt;/a&gt; 2. æ•°æ®åº“å­—æ®µåˆ›å»ºæ—¶é—´å’Œä¿®æ”¹æ—¶é—´&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;å¾ˆå¤šçš„æ•°æ®åº“è¡¨éƒ½éœ€è¦æœ‰åˆ›å»ºæ—¶é—´å’Œä¿®æ”¹æ—¶é—´ï¼Œæ­¤æ—¶å°±ä¼šå¼•å‘è®¸å¤šé—®é¢˜&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;å¦‚æœæ˜¯åœ¨ Java ç±»ä¸­è‡ªå·±è®¾ç½®æ—¶é—´è¿‡äºéº»çƒ¦ï¼Œæ­¤æ—¶ä¾¿å¯ä»¥åœ¨æ•°æ®åº“å»ºè¡¨çš„æ—¶å€™è®¾ç½®&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-mysql&#34;&gt; create_time   timestamp default CURRENT_TIMESTAMP not null comment &#39;åˆ›å»ºæ—¶é—´&#39;,
 update_time   timestamp default CURRENT_TIMESTAMP not null on update CURRENT_TIMESTAMP comment &#39;ä¿®æ”¹æ—¶é—´&#39;,
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;åˆ›å»ºè¡¨çš„æ—¶å€™è¿›è¡Œä»¥ä¸Šçš„è®¾ç½®ä¾¿èƒ½åœ¨æ’å…¥å­—æ®µå’Œä¿®æ”¹å­—æ®µçš„æ—¶å€™ï¼Œæ•°æ®åº“è‡ªåŠ¨ä¿®æ”¹æ—¶é—´&lt;/p&gt;
&lt;h3 id=&#34;3æ•°æ®åº“æ—¶é—´è½¬æ¢é—®é¢˜&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#3æ•°æ®åº“æ—¶é—´è½¬æ¢é—®é¢˜&#34;&gt;#&lt;/a&gt; 3. æ•°æ®åº“æ—¶é—´è½¬æ¢é—®é¢˜&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;æ•°æ®åº“çš„ timestamp æ—¶é—´ä¸ºæ—¶é—´æˆ³ï¼Œå¦‚æœè½¬æ¢åˆ° Java é‡Œé¢å°±ä¼šé‡è§ä¸€äº›é—®é¢˜&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;è‹¥æ˜¯ Java å­—æ®µç›´æ¥ç”¨ date æ•°æ®æ¥æ”¶çš„è¯ä¹Ÿå¯ä»¥ï¼Œä½†æ˜¯å’Œå‰ç«¯äº¤äº’çš„æ—¶å€™å°±ä¼šæœ‰æ ¼å¼é—®é¢˜ï¼Œdate çš„æ ¼å¼ç›´æ¥å‘é€ç»™å‰ç«¯çš„è¯ï¼Œç”¨æˆ·çœ‹çš„è¯ä¸æ˜¯ç‰¹åˆ«æ–¹ä¾¿ï¼Œå¦‚æœæ¯æ¬¡å‘é€ç»™å‰ç«¯éƒ½è¦è½¬æ¢å°±æ˜¾å¾—æœ‰äº›éº»çƒ¦&lt;br /&gt;
æ­¤æ—¶å¯ä»¥åœ¨ pojo ç±»ä¸­è®¾ç½®ä¸º localdatetime ç±»å‹ï¼Œä¿®æ”¹ä¸€ä¸‹ set ä»£ç ï¼Œä¾¿å¯æˆåŠŸæ¥æ”¶.&lt;/p&gt;
&lt;figure class=&#34;highlight java&#34;&gt;&lt;figcaption data-lang=&#34;java&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;private&lt;/span&gt; &lt;span class=&#34;token class-name&#34;&gt;LocalDateTime&lt;/span&gt; createTime&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;setCreateTime&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token class-name&#34;&gt;Date&lt;/span&gt; createTime&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        &lt;span class=&#34;token class-name&#34;&gt;LocalDateTime&lt;/span&gt; localDateTime &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; createTime&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;toInstant&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;atZone&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token class-name&#34;&gt;ZoneId&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;systemDefault&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;toLocalDateTime&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        &lt;span class=&#34;token keyword&#34;&gt;this&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;createTime &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; localDateTime&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;</content>
        <category term="é¡¹ç›®æ€»ç»“" scheme="https://anoxiahub.github.io/categories/project/" />
        <category term="Mysql" scheme="https://anoxiahub.github.io/tags/Mysql/" />
        <category term="bug" scheme="https://anoxiahub.github.io/tags/bug/" />
        <updated>2023-08-06T16:00:00.000Z</updated>
    </entry>
    <entry>
        <id>https://anoxiahub.github.io/interview/MySQL%E9%9D%A2%E8%AF%95%E9%A2%98-%E5%8F%82%E8%80%83%E5%9B%9E%E7%AD%94/</id>
        <title>Mysqlç›¸å…³é¢è¯•é¢˜</title>
        <link rel="alternate" href="https://anoxiahub.github.io/interview/MySQL%E9%9D%A2%E8%AF%95%E9%A2%98-%E5%8F%82%E8%80%83%E5%9B%9E%E7%AD%94/"/>
        <content type="html">&lt;h3 id=&#34;é¢è¯•å®˜mysqlä¸­å¦‚ä½•å®šä½æ…¢æŸ¥è¯¢&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#é¢è¯•å®˜mysqlä¸­å¦‚ä½•å®šä½æ…¢æŸ¥è¯¢&#34;&gt;#&lt;/a&gt; é¢è¯•å®˜ï¼šMySQL ä¸­ï¼Œå¦‚ä½•å®šä½æ…¢æŸ¥è¯¢ï¼Ÿ&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äºº&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å—¯ï½ï¼Œæˆ‘ä»¬å½“æ—¶åšå‹æµ‹çš„æ—¶å€™æœ‰çš„æ¥å£éå¸¸çš„æ…¢ï¼Œæ¥å£çš„å“åº”æ—¶é—´è¶…è¿‡äº† 2 ç§’ä»¥ä¸Šï¼Œå› ä¸ºæˆ‘ä»¬å½“æ—¶çš„ç³»ç»Ÿéƒ¨ç½²äº†è¿ç»´çš„ç›‘æ§ç³»ç»Ÿ Skywalking ï¼Œåœ¨å±•ç¤ºçš„æŠ¥è¡¨ä¸­å¯ä»¥çœ‹åˆ°æ˜¯å“ªä¸€ä¸ªæ¥å£æ¯”è¾ƒæ…¢ï¼Œå¹¶ä¸”å¯ä»¥åˆ†æè¿™ä¸ªæ¥å£å“ªéƒ¨åˆ†æ¯”è¾ƒæ…¢ï¼Œè¿™é‡Œå¯ä»¥çœ‹åˆ° SQL çš„å…·ä½“çš„æ‰§è¡Œæ—¶é—´ï¼Œæ‰€ä»¥å¯ä»¥å®šä½æ˜¯å“ªä¸ª sql å‡ºäº†é—®é¢˜&lt;/p&gt;
&lt;p&gt;å¦‚æœï¼Œé¡¹ç›®ä¸­æ²¡æœ‰è¿™ç§è¿ç»´çš„ç›‘æ§ç³»ç»Ÿï¼Œå…¶å®åœ¨ MySQL ä¸­ä¹Ÿæä¾›äº†æ…¢æ—¥å¿—æŸ¥è¯¢çš„åŠŸèƒ½ï¼Œå¯ä»¥åœ¨ MySQL çš„ç³»ç»Ÿé…ç½®æ–‡ä»¶ä¸­å¼€å¯è¿™ä¸ªæ…¢æ—¥å¿—çš„åŠŸèƒ½ï¼Œå¹¶ä¸”ä¹Ÿå¯ä»¥è®¾ç½® SQL æ‰§è¡Œè¶…è¿‡å¤šå°‘æ—¶é—´æ¥è®°å½•åˆ°ä¸€ä¸ªæ—¥å¿—æ–‡ä»¶ä¸­ï¼Œæˆ‘è®°å¾—ä¸Šä¸€ä¸ªé¡¹ç›®é…ç½®çš„æ˜¯ 2 ç§’ï¼Œåªè¦ SQL æ‰§è¡Œçš„æ—¶é—´è¶…è¿‡äº† 2 ç§’å°±ä¼šè®°å½•åˆ°æ—¥å¿—æ–‡ä»¶ä¸­ï¼Œæˆ‘ä»¬å°±å¯ä»¥åœ¨æ—¥å¿—æ–‡ä»¶æ‰¾åˆ°æ‰§è¡Œæ¯”è¾ƒæ…¢çš„ SQL äº†ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜é‚£è¿™ä¸ªsqlè¯­å¥æ‰§è¡Œå¾ˆæ…¢-å¦‚ä½•åˆ†æå‘¢&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#é¢è¯•å®˜é‚£è¿™ä¸ªsqlè¯­å¥æ‰§è¡Œå¾ˆæ…¢-å¦‚ä½•åˆ†æå‘¢&#34;&gt;#&lt;/a&gt; é¢è¯•å®˜ï¼šé‚£è¿™ä¸ª SQL è¯­å¥æ‰§è¡Œå¾ˆæ…¢ï¼Œå¦‚ä½•åˆ†æå‘¢ï¼Ÿ&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äºº&lt;/strong&gt;ï¼šå¦‚æœä¸€æ¡ sql æ‰§è¡Œå¾ˆæ…¢çš„è¯ï¼Œæˆ‘ä»¬é€šå¸¸ä¼šä½¿ç”¨ mysql è‡ªåŠ¨çš„æ‰§è¡Œè®¡åˆ’ explain æ¥å»æŸ¥çœ‹è¿™æ¡ sql çš„æ‰§è¡Œæƒ…å†µï¼Œæ¯”å¦‚åœ¨è¿™é‡Œé¢å¯ä»¥é€šè¿‡ key å’Œ key_len æ£€æŸ¥æ˜¯å¦å‘½ä¸­äº†ç´¢å¼•ï¼Œå¦‚æœæœ¬èº«å·²ç»æ·»åŠ äº†ç´¢å¼•ï¼Œä¹Ÿå¯ä»¥åˆ¤æ–­ç´¢å¼•æ˜¯å¦æœ‰å¤±æ•ˆçš„æƒ…å†µï¼Œç¬¬äºŒä¸ªï¼Œå¯ä»¥é€šè¿‡ type å­—æ®µæŸ¥çœ‹ sql æ˜¯å¦æœ‰è¿›ä¸€æ­¥çš„ä¼˜åŒ–ç©ºé—´ï¼Œæ˜¯å¦å­˜åœ¨å…¨ç´¢å¼•æ‰«ææˆ–å…¨ç›˜æ‰«æï¼Œç¬¬ä¸‰ä¸ªå¯ä»¥é€šè¿‡ extra å»ºè®®æ¥åˆ¤æ–­ï¼Œæ˜¯å¦å‡ºç°äº†å›è¡¨çš„æƒ…å†µï¼Œå¦‚æœå‡ºç°äº†ï¼Œå¯ä»¥å°è¯•æ·»åŠ ç´¢å¼•æˆ–ä¿®æ”¹è¿”å›å­—æ®µæ¥ä¿®å¤&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜äº†è§£è¿‡ç´¢å¼•å—ä»€ä¹ˆæ˜¯ç´¢å¼•&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#é¢è¯•å®˜äº†è§£è¿‡ç´¢å¼•å—ä»€ä¹ˆæ˜¯ç´¢å¼•&#34;&gt;#&lt;/a&gt; é¢è¯•å®˜ï¼šäº†è§£è¿‡ç´¢å¼•å—ï¼Ÿï¼ˆä»€ä¹ˆæ˜¯ç´¢å¼•ï¼‰&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äºº&lt;/strong&gt;ï¼šå—¯ï¼Œç´¢å¼•åœ¨é¡¹ç›®ä¸­è¿˜æ˜¯æ¯”è¾ƒå¸¸è§çš„ï¼Œå®ƒæ˜¯å¸®åŠ© MySQL é«˜æ•ˆè·å–æ•°æ®çš„æ•°æ®ç»“æ„ï¼Œä¸»è¦æ˜¯ç”¨æ¥æé«˜æ•°æ®æ£€ç´¢çš„æ•ˆç‡ï¼Œé™ä½æ•°æ®åº“çš„ IO æˆæœ¬ï¼ŒåŒæ—¶é€šè¿‡ç´¢å¼•åˆ—å¯¹æ•°æ®è¿›è¡Œæ’åºï¼Œé™ä½æ•°æ®æ’åºçš„æˆæœ¬ï¼Œä¹Ÿèƒ½é™ä½äº† CPU çš„æ¶ˆè€—&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜ç´¢å¼•çš„åº•å±‚æ•°æ®ç»“æ„äº†è§£è¿‡å˜›&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#é¢è¯•å®˜ç´¢å¼•çš„åº•å±‚æ•°æ®ç»“æ„äº†è§£è¿‡å˜›&#34;&gt;#&lt;/a&gt; é¢è¯•å®˜ï¼šç´¢å¼•çš„åº•å±‚æ•°æ®ç»“æ„äº†è§£è¿‡å˜›ï¼Ÿ&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äºº&lt;/strong&gt;ï¼šMySQL çš„é»˜è®¤çš„å­˜å‚¨å¼•æ“ InnoDB é‡‡ç”¨çš„ B + æ ‘çš„æ•°æ®ç»“æ„æ¥å­˜å‚¨ç´¢å¼•ï¼Œé€‰æ‹© B + æ ‘çš„ä¸»è¦çš„åŸå› æ˜¯ï¼šç¬¬ä¸€é˜¶æ•°æ›´å¤šï¼Œè·¯å¾„æ›´çŸ­ï¼Œç¬¬äºŒä¸ªç£ç›˜è¯»å†™ä»£ä»· B + æ ‘æ›´ä½ï¼Œéå¶å­èŠ‚ç‚¹åªå­˜å‚¨æŒ‡é’ˆï¼Œå¶å­é˜¶æ®µå­˜å‚¨æ•°æ®ï¼Œç¬¬ä¸‰æ˜¯ B + æ ‘ä¾¿äºæ‰«åº“å’ŒåŒºé—´æŸ¥è¯¢ï¼Œå¶å­èŠ‚ç‚¹æ˜¯ä¸€ä¸ªåŒå‘é“¾è¡¨&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜bæ ‘å’Œbæ ‘çš„åŒºåˆ«æ˜¯ä»€ä¹ˆå‘¢&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#é¢è¯•å®˜bæ ‘å’Œbæ ‘çš„åŒºåˆ«æ˜¯ä»€ä¹ˆå‘¢&#34;&gt;#&lt;/a&gt; é¢è¯•å®˜ï¼šB æ ‘å’Œ B + æ ‘çš„åŒºåˆ«æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äºº&lt;/strong&gt;ï¼šç¬¬ä¸€ï¼šåœ¨ B æ ‘ä¸­ï¼Œéå¶å­èŠ‚ç‚¹å’Œå¶å­èŠ‚ç‚¹éƒ½ä¼šå­˜æ”¾æ•°æ®ï¼Œè€Œ B + æ ‘çš„æ‰€æœ‰çš„æ•°æ®éƒ½ä¼šå‡ºç°åœ¨å¶å­èŠ‚ç‚¹ï¼Œåœ¨æŸ¥è¯¢çš„æ—¶å€™ï¼ŒB + æ ‘æŸ¥æ‰¾æ•ˆç‡æ›´åŠ ç¨³å®š&lt;/p&gt;
&lt;p&gt;ç¬¬äºŒï¼šåœ¨è¿›è¡ŒèŒƒå›´æŸ¥è¯¢çš„æ—¶å€™ï¼ŒB + æ ‘æ•ˆç‡æ›´é«˜ï¼Œå› ä¸º B + æ ‘éƒ½åœ¨å¶å­èŠ‚ç‚¹å­˜å‚¨ï¼Œå¹¶ä¸”å¶å­èŠ‚ç‚¹æ˜¯ä¸€ä¸ªåŒå‘é“¾è¡¨&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜ä»€ä¹ˆæ˜¯èšç°‡ç´¢å¼•ä»€ä¹ˆæ˜¯éèšç°‡ç´¢å¼•&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#é¢è¯•å®˜ä»€ä¹ˆæ˜¯èšç°‡ç´¢å¼•ä»€ä¹ˆæ˜¯éèšç°‡ç´¢å¼•&#34;&gt;#&lt;/a&gt; é¢è¯•å®˜ï¼šä»€ä¹ˆæ˜¯èšç°‡ç´¢å¼•ä»€ä¹ˆæ˜¯éèšç°‡ç´¢å¼•ï¼Ÿ&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äºº&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;p&gt;å¥½çš„ï½ï¼Œèšç°‡ç´¢å¼•ä¸»è¦æ˜¯æŒ‡æ•°æ®ä¸ç´¢å¼•æ”¾åˆ°ä¸€å—ï¼ŒB + æ ‘çš„å¶å­èŠ‚ç‚¹ä¿å­˜äº†æ•´è¡Œæ•°æ®ï¼Œæœ‰ä¸”åªæœ‰ä¸€ä¸ªï¼Œä¸€èˆ¬æƒ…å†µä¸‹ä¸»é”®åœ¨ä½œä¸ºèšç°‡ç´¢å¼•çš„&lt;/p&gt;
&lt;p&gt;éèšç°‡ç´¢å¼•å€¼çš„æ˜¯æ•°æ®ä¸ç´¢å¼•åˆ†å¼€å­˜å‚¨ï¼ŒB + æ ‘çš„å¶å­èŠ‚ç‚¹ä¿å­˜å¯¹åº”çš„ä¸»é”®ï¼Œå¯ä»¥æœ‰å¤šä¸ªï¼Œä¸€èˆ¬æˆ‘ä»¬è‡ªå·±å®šä¹‰çš„ç´¢å¼•éƒ½æ˜¯éèšç°‡ç´¢å¼•&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜çŸ¥é“ä»€ä¹ˆæ˜¯å›è¡¨æŸ¥è¯¢å˜›&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#é¢è¯•å®˜çŸ¥é“ä»€ä¹ˆæ˜¯å›è¡¨æŸ¥è¯¢å˜›&#34;&gt;#&lt;/a&gt; é¢è¯•å®˜ï¼šçŸ¥é“ä»€ä¹ˆæ˜¯å›è¡¨æŸ¥è¯¢å˜›ï¼Ÿ&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äºº&lt;/strong&gt;ï¼šå—¯ï¼Œå…¶å®è·Ÿåˆšæ‰ä»‹ç»çš„èšç°‡ç´¢å¼•å’Œéèšç°‡ç´¢å¼•æ˜¯æœ‰å…³ç³»çš„ï¼Œå›è¡¨çš„æ„æ€å°±æ˜¯é€šè¿‡äºŒçº§ç´¢å¼•æ‰¾åˆ°å¯¹åº”çš„ä¸»é”®å€¼ï¼Œç„¶åå†é€šè¿‡ä¸»é”®å€¼æ‰¾åˆ°èšé›†ç´¢å¼•ä¸­æ‰€å¯¹åº”çš„æ•´è¡Œæ•°æ®ï¼Œè¿™ä¸ªè¿‡ç¨‹å°±æ˜¯å›è¡¨&lt;/p&gt;
&lt;p&gt;ã€&lt;strong&gt;å¤‡æ³¨&lt;/strong&gt;ï¼šå¦‚æœé¢è¯•å®˜ç›´æ¥é—®å›è¡¨ï¼Œåˆ™éœ€è¦å…ˆä»‹ç»èšç°‡ç´¢å¼•å’Œéèšç°‡ç´¢å¼•ã€‘&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜çŸ¥é“ä»€ä¹ˆå«è¦†ç›–ç´¢å¼•å˜›&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#é¢è¯•å®˜çŸ¥é“ä»€ä¹ˆå«è¦†ç›–ç´¢å¼•å˜›&#34;&gt;#&lt;/a&gt; é¢è¯•å®˜ï¼šçŸ¥é“ä»€ä¹ˆå«è¦†ç›–ç´¢å¼•å˜›ï¼Ÿ&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äºº&lt;/strong&gt;ï¼šå—¯ï½ï¼Œæ¸…æ¥šçš„&lt;/p&gt;
&lt;p&gt;è¦†ç›–ç´¢å¼•æ˜¯æŒ‡ select æŸ¥è¯¢è¯­å¥ä½¿ç”¨äº†ç´¢å¼•ï¼Œåœ¨è¿”å›çš„åˆ—ï¼Œå¿…é¡»åœ¨ç´¢å¼•ä¸­å…¨éƒ¨èƒ½å¤Ÿæ‰¾åˆ°ï¼Œå¦‚æœæˆ‘ä»¬ä½¿ç”¨ id æŸ¥è¯¢ï¼Œå®ƒä¼šç›´æ¥èµ°èšé›†ç´¢å¼•æŸ¥è¯¢ï¼Œä¸€æ¬¡ç´¢å¼•æ‰«æï¼Œç›´æ¥è¿”å›æ•°æ®ï¼Œæ€§èƒ½é«˜ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœæŒ‰ç…§äºŒçº§ç´¢å¼•æŸ¥è¯¢æ•°æ®çš„æ—¶å€™ï¼Œè¿”å›çš„åˆ—ä¸­æ²¡æœ‰åˆ›å»ºç´¢å¼•ï¼Œæœ‰å¯èƒ½ä¼šè§¦å‘å›è¡¨æŸ¥è¯¢ï¼Œå°½é‡é¿å…ä½¿ç”¨ select *ï¼Œå°½é‡åœ¨è¿”å›çš„åˆ—ä¸­éƒ½åŒ…å«æ·»åŠ ç´¢å¼•çš„å­—æ®µ&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜mysqlè¶…å¤§åˆ†é¡µæ€ä¹ˆå¤„ç†&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#é¢è¯•å®˜mysqlè¶…å¤§åˆ†é¡µæ€ä¹ˆå¤„ç†&#34;&gt;#&lt;/a&gt; é¢è¯•å®˜ï¼šMYSQL è¶…å¤§åˆ†é¡µæ€ä¹ˆå¤„ç†ï¼Ÿ&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äºº&lt;/strong&gt;ï¼šå—¯ï¼Œè¶…å¤§åˆ†é¡µä¸€èˆ¬éƒ½æ˜¯åœ¨æ•°æ®é‡æ¯”è¾ƒå¤§æ—¶ï¼Œæˆ‘ä»¬ä½¿ç”¨äº† limit åˆ†é¡µæŸ¥è¯¢ï¼Œå¹¶ä¸”éœ€è¦å¯¹æ•°æ®è¿›è¡Œæ’åºï¼Œè¿™ä¸ªæ—¶å€™æ•ˆç‡å°±å¾ˆä½ï¼Œæˆ‘ä»¬å¯ä»¥é‡‡ç”¨è¦†ç›–ç´¢å¼•å’Œå­æŸ¥è¯¢æ¥è§£å†³&lt;/p&gt;
&lt;p&gt;å…ˆåˆ†é¡µæŸ¥è¯¢æ•°æ®çš„ id å­—æ®µï¼Œç¡®å®šäº† id ä¹‹åï¼Œå†ç”¨å­æŸ¥è¯¢æ¥è¿‡æ»¤ï¼ŒåªæŸ¥è¯¢è¿™ä¸ª id åˆ—è¡¨ä¸­çš„æ•°æ®å°±å¯ä»¥äº†&lt;/p&gt;
&lt;p&gt;å› ä¸ºæŸ¥è¯¢ id çš„æ—¶å€™ï¼Œèµ°çš„è¦†ç›–ç´¢å¼•ï¼Œæ‰€ä»¥æ•ˆç‡å¯ä»¥æå‡å¾ˆå¤š&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜ç´¢å¼•åˆ›å»ºåŸåˆ™æœ‰å“ªäº›&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#é¢è¯•å®˜ç´¢å¼•åˆ›å»ºåŸåˆ™æœ‰å“ªäº›&#34;&gt;#&lt;/a&gt; é¢è¯•å®˜ï¼šç´¢å¼•åˆ›å»ºåŸåˆ™æœ‰å“ªäº›ï¼Ÿ&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äºº&lt;/strong&gt;ï¼šå—¯ï¼Œè¿™ä¸ªæƒ…å†µæœ‰å¾ˆå¤šï¼Œä¸è¿‡éƒ½æœ‰ä¸€ä¸ªå¤§å‰æï¼Œå°±æ˜¯è¡¨ä¸­çš„æ•°æ®è¦è¶…è¿‡ 10 ä¸‡ä»¥ä¸Šï¼Œæˆ‘ä»¬æ‰ä¼šåˆ›å»ºç´¢å¼•ï¼Œå¹¶ä¸”æ·»åŠ ç´¢å¼•çš„å­—æ®µæ˜¯æŸ¥è¯¢æ¯”è¾ƒé¢‘ç¹çš„å­—æ®µï¼Œä¸€èˆ¬ä¹Ÿæ˜¯åƒä½œä¸ºæŸ¥è¯¢æ¡ä»¶ï¼Œæ’åºå­—æ®µæˆ–åˆ†ç»„çš„å­—æ®µè¿™äº›ã€‚&lt;/p&gt;
&lt;p&gt;è¿˜æœ‰å°±æ˜¯ï¼Œæˆ‘ä»¬é€šå¸¸åˆ›å»ºç´¢å¼•çš„æ—¶å€™éƒ½æ˜¯ä½¿ç”¨å¤åˆç´¢å¼•æ¥åˆ›å»ºï¼Œä¸€æ¡ sql çš„è¿”å›å€¼ï¼Œå°½é‡ä½¿ç”¨è¦†ç›–ç´¢å¼•ï¼Œå¦‚æœå­—æ®µçš„åŒºåˆ†åº¦ä¸é«˜çš„è¯ï¼Œæˆ‘ä»¬ä¹Ÿä¼šæŠŠå®ƒæ”¾åœ¨ç»„åˆç´¢å¼•åé¢çš„å­—æ®µã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœæŸä¸€ä¸ªå­—æ®µçš„å†…å®¹è¾ƒé•¿ï¼Œæˆ‘ä»¬ä¼šè€ƒè™‘ä½¿ç”¨å‰ç¼€ç´¢å¼•æ¥ä½¿ç”¨ï¼Œå½“ç„¶å¹¶ä¸æ˜¯æ‰€æœ‰çš„å­—æ®µéƒ½è¦æ·»åŠ ç´¢å¼•ï¼Œè¿™ä¸ªç´¢å¼•çš„æ•°é‡ä¹Ÿè¦æ§åˆ¶ï¼Œå› ä¸ºæ·»åŠ ç´¢å¼•ä¹Ÿä¼šå¯¼è‡´æ–°å¢æ”¹çš„é€Ÿåº¦å˜æ…¢ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜ä»€ä¹ˆæƒ…å†µä¸‹ç´¢å¼•ä¼šå¤±æ•ˆ&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#é¢è¯•å®˜ä»€ä¹ˆæƒ…å†µä¸‹ç´¢å¼•ä¼šå¤±æ•ˆ&#34;&gt;#&lt;/a&gt; é¢è¯•å®˜ï¼šä»€ä¹ˆæƒ…å†µä¸‹ç´¢å¼•ä¼šå¤±æ•ˆï¼Ÿ&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äºº&lt;/strong&gt;ï¼šå—¯ï¼Œè¿™ä¸ªæƒ…å†µæ¯”è¾ƒå¤šï¼Œæˆ‘è¯´ä¸€äº›è‡ªå·±çš„ç»éªŒï¼Œä»¥å‰é‡åˆ°è¿‡çš„&lt;/p&gt;
&lt;p&gt;æ¯”å¦‚ï¼Œç´¢å¼•åœ¨ä½¿ç”¨çš„æ—¶å€™æ²¡æœ‰éµå¾ªæœ€å·¦åŒ¹é…æ³•åˆ™ï¼Œç¬¬äºŒä¸ªæ˜¯ï¼Œæ¨¡ç³ŠæŸ¥è¯¢ï¼Œå¦‚æœ % å·åœ¨å‰é¢ä¹Ÿä¼šå¯¼è‡´ç´¢å¼•å¤±æ•ˆã€‚å¦‚æœåœ¨æ·»åŠ ç´¢å¼•çš„å­—æ®µä¸Šè¿›è¡Œäº†è¿ç®—æ“ä½œæˆ–è€…ç±»å‹è½¬æ¢ä¹Ÿéƒ½ä¼šå¯¼è‡´ç´¢å¼•å¤±æ•ˆã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬ä¹‹å‰è¿˜é‡åˆ°è¿‡ä¸€ä¸ªå°±æ˜¯ï¼Œå¦‚æœä½¿ç”¨äº†å¤åˆç´¢å¼•ï¼Œä¸­é—´ä½¿ç”¨äº†èŒƒå›´æŸ¥è¯¢ï¼Œå³è¾¹çš„æ¡ä»¶ç´¢å¼•ä¹Ÿä¼šå¤±æ•ˆ&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥ï¼Œé€šå¸¸æƒ…å†µä¸‹ï¼Œæƒ³è¦åˆ¤æ–­å‡ºè¿™æ¡ sql æ˜¯å¦æœ‰ç´¢å¼•å¤±æ•ˆçš„æƒ…å†µï¼Œå¯ä»¥ä½¿ç”¨ explain æ‰§è¡Œè®¡åˆ’æ¥åˆ†æ&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜sqlçš„ä¼˜åŒ–çš„ç»éªŒ&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#é¢è¯•å®˜sqlçš„ä¼˜åŒ–çš„ç»éªŒ&#34;&gt;#&lt;/a&gt; é¢è¯•å®˜ï¼šsql çš„ä¼˜åŒ–çš„ç»éªŒ&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äºº&lt;/strong&gt;ï¼šå—¯ï¼Œè¿™ä¸ªåœ¨é¡¹ç›®è¿˜æ˜¯æŒºå¸¸è§çš„ï¼Œå½“ç„¶å¦‚æœç›´è¯´ sql ä¼˜åŒ–çš„è¯ï¼Œæˆ‘ä»¬ä¼šä»è¿™å‡ æ–¹é¢è€ƒè™‘ï¼Œæ¯”å¦‚&lt;/p&gt;
&lt;p&gt;å»ºè¡¨çš„æ—¶å€™ã€ä½¿ç”¨ç´¢å¼•ã€sql è¯­å¥çš„ç¼–å†™ã€ä¸»ä»å¤åˆ¶ï¼Œè¯»å†™åˆ†ç¦»ï¼Œè¿˜æœ‰ä¸€ä¸ªæ˜¯å¦‚æœé‡æ¯”è¾ƒå¤§çš„è¯ï¼Œå¯ä»¥è€ƒè™‘åˆ†åº“åˆ†è¡¨&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜åˆ›å»ºè¡¨çš„æ—¶å€™ä½ ä»¬æ˜¯å¦‚ä½•ä¼˜åŒ–çš„å‘¢&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#é¢è¯•å®˜åˆ›å»ºè¡¨çš„æ—¶å€™ä½ ä»¬æ˜¯å¦‚ä½•ä¼˜åŒ–çš„å‘¢&#34;&gt;#&lt;/a&gt; é¢è¯•å®˜ï¼šåˆ›å»ºè¡¨çš„æ—¶å€™ï¼Œä½ ä»¬æ˜¯å¦‚ä½•ä¼˜åŒ–çš„å‘¢ï¼Ÿ&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äºº&lt;/strong&gt;ï¼šè¿™ä¸ªæˆ‘ä»¬ä¸»è¦å‚è€ƒçš„é˜¿é‡Œå‡ºçš„é‚£ä¸ªå¼€å‘æ‰‹å†Œã€Šåµ©å±±ç‰ˆã€‹ï¼Œå°±æ¯”å¦‚ï¼Œåœ¨å®šä¹‰å­—æ®µçš„æ—¶å€™éœ€è¦ç»“åˆå­—æ®µçš„å†…å®¹æ¥é€‰æ‹©åˆé€‚çš„ç±»å‹ï¼Œå¦‚æœæ˜¯æ•°å€¼çš„è¯ï¼Œåƒ tinyintã€int ã€bigint è¿™äº›ç±»å‹ï¼Œè¦æ ¹æ®å®é™…æƒ…å†µé€‰æ‹©ã€‚å¦‚æœæ˜¯å­—ç¬¦ä¸²ç±»å‹ï¼Œä¹Ÿæ˜¯ç»“åˆå­˜å‚¨çš„å†…å®¹æ¥é€‰æ‹© char å’Œ varchar æˆ–è€… text ç±»å‹&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜é‚£åœ¨ä½¿ç”¨ç´¢å¼•çš„æ—¶å€™æ˜¯å¦‚ä½•ä¼˜åŒ–å‘¢&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#é¢è¯•å®˜é‚£åœ¨ä½¿ç”¨ç´¢å¼•çš„æ—¶å€™æ˜¯å¦‚ä½•ä¼˜åŒ–å‘¢&#34;&gt;#&lt;/a&gt; é¢è¯•å®˜ï¼šé‚£åœ¨ä½¿ç”¨ç´¢å¼•çš„æ—¶å€™ï¼Œæ˜¯å¦‚ä½•ä¼˜åŒ–å‘¢ï¼Ÿ&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äºº&lt;/strong&gt;ï¼šã€å‚è€ƒç´¢å¼•åˆ›å»ºåŸåˆ™    è¿›è¡Œæè¿°ã€‘&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜ä½ å¹³æ—¶å¯¹sqlè¯­å¥åšäº†å“ªäº›ä¼˜åŒ–å‘¢&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#é¢è¯•å®˜ä½ å¹³æ—¶å¯¹sqlè¯­å¥åšäº†å“ªäº›ä¼˜åŒ–å‘¢&#34;&gt;#&lt;/a&gt; é¢è¯•å®˜ï¼šä½ å¹³æ—¶å¯¹ sql è¯­å¥åšäº†å“ªäº›ä¼˜åŒ–å‘¢ï¼Ÿ&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äºº&lt;/strong&gt;ï¼šå—¯ï¼Œè¿™ä¸ªä¹Ÿæœ‰å¾ˆå¤šï¼Œæ¯”å¦‚ SELECT è¯­å¥åŠ¡å¿…æŒ‡æ˜å­—æ®µåç§°ï¼Œä¸è¦ç›´æ¥ä½¿ç”¨ select * ï¼Œè¿˜æœ‰å°±æ˜¯è¦æ³¨æ„ SQL è¯­å¥é¿å…é€ æˆç´¢å¼•å¤±æ•ˆçš„å†™æ³•ï¼›å¦‚æœæ˜¯èšåˆæŸ¥è¯¢ï¼Œå°½é‡ç”¨ union all ä»£æ›¿ union ï¼Œunion ä¼šå¤šä¸€æ¬¡è¿‡æ»¤ï¼Œæ•ˆç‡æ¯”è¾ƒä½ï¼›å¦‚æœæ˜¯è¡¨å…³è”çš„è¯ï¼Œå°½é‡ä½¿ç”¨ innerjoin ï¼Œä¸è¦ä½¿ç”¨ç”¨ left join right joinï¼Œå¦‚å¿…é¡»ä½¿ç”¨ ä¸€å®šè¦ä»¥å°è¡¨ä¸ºé©±åŠ¨&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜äº‹åŠ¡çš„ç‰¹æ€§æ˜¯ä»€ä¹ˆå¯ä»¥è¯¦ç»†è¯´ä¸€ä¸‹å—&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#é¢è¯•å®˜äº‹åŠ¡çš„ç‰¹æ€§æ˜¯ä»€ä¹ˆå¯ä»¥è¯¦ç»†è¯´ä¸€ä¸‹å—&#34;&gt;#&lt;/a&gt; é¢è¯•å®˜ï¼šäº‹åŠ¡çš„ç‰¹æ€§æ˜¯ä»€ä¹ˆï¼Ÿå¯ä»¥è¯¦ç»†è¯´ä¸€ä¸‹å—ï¼Ÿ&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äºº&lt;/strong&gt;ï¼šå—¯ï¼Œè¿™ä¸ªæ¯”è¾ƒæ¸…æ¥šï¼ŒACIDï¼Œåˆ†åˆ«æŒ‡çš„æ˜¯ï¼šåŸå­æ€§ã€ä¸€è‡´æ€§ã€éš”ç¦»æ€§ã€æŒä¹…æ€§ï¼›æˆ‘ä¸¾ä¸ªä¾‹å­ï¼š&lt;/p&gt;
&lt;p&gt;A å‘ B è½¬è´¦ 500ï¼Œè½¬è´¦æˆåŠŸï¼ŒA æ‰£é™¤ 500 å…ƒï¼ŒB å¢åŠ  500 å…ƒï¼ŒåŸå­æ“ä½œä½“ç°åœ¨è¦ä¹ˆéƒ½æˆåŠŸï¼Œè¦ä¹ˆéƒ½å¤±è´¥&lt;/p&gt;
&lt;p&gt;åœ¨è½¬è´¦çš„è¿‡ç¨‹ä¸­ï¼Œæ•°æ®è¦ä¸€è‡´ï¼ŒA æ‰£é™¤äº† 500ï¼ŒB å¿…é¡»å¢åŠ  500&lt;/p&gt;
&lt;p&gt;åœ¨è½¬è´¦çš„è¿‡ç¨‹ä¸­ï¼Œéš”ç¦»æ€§ä½“ç°åœ¨ A åƒ B è½¬è´¦ï¼Œä¸èƒ½å—å…¶ä»–äº‹åŠ¡å¹²æ‰°&lt;/p&gt;
&lt;p&gt;åœ¨è½¬è´¦çš„è¿‡ç¨‹ä¸­ï¼ŒæŒä¹…æ€§ä½“ç°åœ¨äº‹åŠ¡æäº¤åï¼Œè¦æŠŠæ•°æ®æŒä¹…åŒ–ï¼ˆå¯ä»¥è¯´æ˜¯è½ç›˜æ“ä½œï¼‰&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜å¹¶å‘äº‹åŠ¡å¸¦æ¥å“ªäº›é—®é¢˜&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#é¢è¯•å®˜å¹¶å‘äº‹åŠ¡å¸¦æ¥å“ªäº›é—®é¢˜&#34;&gt;#&lt;/a&gt; é¢è¯•å®˜ï¼šå¹¶å‘äº‹åŠ¡å¸¦æ¥å“ªäº›é—®é¢˜ï¼Ÿ&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äºº&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬åœ¨é¡¹ç›®å¼€å‘ä¸­ï¼Œå¤šä¸ªäº‹åŠ¡å¹¶å‘è¿›è¡Œæ˜¯ç»å¸¸å‘ç”Ÿçš„ï¼Œå¹¶å‘ä¹Ÿæ˜¯å¿…ç„¶çš„ï¼Œæœ‰å¯èƒ½å¯¼è‡´ä¸€äº›é—®é¢˜&lt;/p&gt;
&lt;p&gt;ç¬¬ä¸€æ˜¯è„è¯»ï¼Œ å½“ä¸€ä¸ªäº‹åŠ¡æ­£åœ¨è®¿é—®æ•°æ®å¹¶ä¸”å¯¹æ•°æ®è¿›è¡Œäº†ä¿®æ”¹ï¼Œè€Œè¿™ç§ä¿®æ”¹è¿˜æ²¡æœ‰æäº¤åˆ°æ•°æ®åº“ä¸­ï¼Œè¿™æ—¶å¦å¤–ä¸€ä¸ªäº‹åŠ¡ä¹Ÿè®¿é—®äº†è¿™ä¸ªæ•°æ®ï¼Œå› ä¸ºè¿™ä¸ªæ•°æ®æ˜¯è¿˜æ²¡æœ‰æäº¤çš„æ•°æ®ï¼Œé‚£ä¹ˆå¦å¤–ä¸€ä¸ªäº‹åŠ¡è¯»åˆ°çš„è¿™ä¸ªæ•°æ®æ˜¯ â€œè„æ•°æ®â€ï¼Œä¾æ® â€œè„æ•°æ®â€ æ‰€åšçš„æ“ä½œå¯èƒ½æ˜¯ä¸æ­£ç¡®çš„ã€‚&lt;/p&gt;
&lt;p&gt;ç¬¬äºŒæ˜¯ä¸å¯é‡å¤è¯»ï¼šæ¯”å¦‚åœ¨ä¸€ä¸ªäº‹åŠ¡å†…å¤šæ¬¡è¯»åŒä¸€æ•°æ®ã€‚åœ¨è¿™ä¸ªäº‹åŠ¡è¿˜æ²¡æœ‰ç»“æŸæ—¶ï¼Œå¦ä¸€ä¸ªäº‹åŠ¡ä¹Ÿè®¿é—®è¯¥æ•°æ®ã€‚é‚£ä¹ˆï¼Œåœ¨ç¬¬ä¸€ä¸ªäº‹åŠ¡ä¸­çš„ä¸¤æ¬¡è¯»æ•°æ®ä¹‹é—´ï¼Œç”±äºç¬¬äºŒä¸ªäº‹åŠ¡çš„ä¿®æ”¹å¯¼è‡´ç¬¬ä¸€ä¸ªäº‹åŠ¡ä¸¤æ¬¡è¯»å–çš„æ•°æ®å¯èƒ½ä¸å¤ªä¸€æ ·ã€‚è¿™å°±å‘ç”Ÿäº†åœ¨ä¸€ä¸ªäº‹åŠ¡å†…ä¸¤æ¬¡è¯»åˆ°çš„æ•°æ®æ˜¯ä¸ä¸€æ ·çš„æƒ…å†µï¼Œå› æ­¤ç§°ä¸ºä¸å¯é‡å¤è¯»ã€‚&lt;/p&gt;
&lt;p&gt;ç¬¬ä¸‰æ˜¯å¹»è¯»ï¼ˆPhantom readï¼‰ï¼šå¹»è¯»ä¸ä¸å¯é‡å¤è¯»ç±»ä¼¼ã€‚å®ƒå‘ç”Ÿåœ¨ä¸€ä¸ªäº‹åŠ¡ï¼ˆT1ï¼‰è¯»å–äº†å‡ è¡Œæ•°æ®ï¼Œæ¥ç€å¦ä¸€ä¸ªå¹¶å‘äº‹åŠ¡ï¼ˆT2ï¼‰æ’å…¥äº†ä¸€äº›æ•°æ®æ—¶ã€‚åœ¨éšåçš„æŸ¥è¯¢ä¸­ï¼Œç¬¬ä¸€ä¸ªäº‹åŠ¡ï¼ˆT1ï¼‰å°±ä¼šå‘ç°å¤šäº†ä¸€äº›åŸæœ¬ä¸å­˜åœ¨çš„è®°å½•ï¼Œå°±å¥½åƒå‘ç”Ÿäº†å¹»è§‰ä¸€æ ·ï¼Œæ‰€ä»¥ç§°ä¸ºå¹»è¯»ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜æ€ä¹ˆè§£å†³è¿™äº›é—®é¢˜å‘¢mysqlçš„é»˜è®¤éš”ç¦»çº§åˆ«æ˜¯&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#é¢è¯•å®˜æ€ä¹ˆè§£å†³è¿™äº›é—®é¢˜å‘¢mysqlçš„é»˜è®¤éš”ç¦»çº§åˆ«æ˜¯&#34;&gt;#&lt;/a&gt; é¢è¯•å®˜ï¼šæ€ä¹ˆè§£å†³è¿™äº›é—®é¢˜å‘¢ï¼ŸMySQL çš„é»˜è®¤éš”ç¦»çº§åˆ«æ˜¯ï¼Ÿ&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äºº&lt;/strong&gt;ï¼šè§£å†³æ–¹æ¡ˆæ˜¯å¯¹äº‹åŠ¡è¿›è¡Œéš”ç¦»&lt;/p&gt;
&lt;p&gt;MySQL æ”¯æŒå››ç§éš”ç¦»çº§åˆ«ï¼Œåˆ†åˆ«æœ‰ï¼š&lt;/p&gt;
&lt;p&gt;ç¬¬ä¸€ä¸ªæ˜¯ï¼Œæœªæäº¤è¯»ï¼ˆread uncommittedï¼‰å®ƒè§£å†³ä¸äº†åˆšæ‰æå‡ºçš„æ‰€æœ‰é—®é¢˜ï¼Œä¸€èˆ¬é¡¹ç›®ä¸­ä¹Ÿä¸ç”¨è¿™ä¸ªã€‚ç¬¬äºŒä¸ªæ˜¯è¯»å·²æäº¤ï¼ˆread committedï¼‰å®ƒèƒ½è§£å†³è„è¯»çš„é—®é¢˜çš„ï¼Œä½†æ˜¯è§£å†³ä¸äº†ä¸å¯é‡å¤è¯»å’Œå¹»è¯»ã€‚ç¬¬ä¸‰ä¸ªæ˜¯å¯é‡å¤è¯»ï¼ˆrepeatable readï¼‰å®ƒèƒ½è§£å†³è„è¯»å’Œä¸å¯é‡å¤è¯»ï¼Œä½†æ˜¯è§£å†³ä¸äº†å¹»è¯»ï¼Œè¿™ä¸ªä¹Ÿæ˜¯ mysql é»˜è®¤çš„éš”ç¦»çº§åˆ«ã€‚ç¬¬å››ä¸ªæ˜¯ä¸²è¡ŒåŒ–ï¼ˆserializableï¼‰å®ƒå¯ä»¥è§£å†³åˆšæ‰æå‡ºæ¥çš„æ‰€æœ‰é—®é¢˜ï¼Œä½†æ˜¯ç”±äºè®©æ˜¯äº‹åŠ¡ä¸²è¡Œæ‰§è¡Œçš„ï¼Œæ€§èƒ½æ¯”è¾ƒä½ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬ä¸€èˆ¬ä½¿ç”¨çš„éƒ½æ˜¯ mysql é»˜è®¤çš„éš”ç¦»çº§åˆ«ï¼šå¯é‡å¤è¯»&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜undo-logå’Œredo-logçš„åŒºåˆ«&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#é¢è¯•å®˜undo-logå’Œredo-logçš„åŒºåˆ«&#34;&gt;#&lt;/a&gt; é¢è¯•å®˜ï¼šundo log å’Œ redo log çš„åŒºåˆ«&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äºº&lt;/strong&gt;ï¼šå¥½çš„ï¼Œå…¶ä¸­ redo log æ—¥å¿—è®°å½•çš„æ˜¯æ•°æ®é¡µçš„ç‰©ç†å˜åŒ–ï¼ŒæœåŠ¡å®•æœºå¯ç”¨æ¥åŒæ­¥æ•°æ®ï¼Œè€Œ undo log ä¸åŒï¼Œå®ƒä¸»è¦è®°å½•çš„æ˜¯é€»è¾‘æ—¥å¿—ï¼Œå½“äº‹åŠ¡å›æ»šæ—¶ï¼Œé€šè¿‡é€†æ“ä½œæ¢å¤åŸæ¥çš„æ•°æ®ï¼Œæ¯”å¦‚æˆ‘ä»¬åˆ é™¤ä¸€æ¡æ•°æ®çš„æ—¶å€™ï¼Œå°±ä¼šåœ¨ undo log æ—¥å¿—æ–‡ä»¶ä¸­æ–°å¢ä¸€æ¡ delete è¯­å¥ï¼Œå¦‚æœå‘ç”Ÿå›æ»šå°±æ‰§è¡Œé€†æ“ä½œï¼›&lt;/p&gt;
&lt;p&gt;redo log ä¿è¯äº†äº‹åŠ¡çš„æŒä¹…æ€§ï¼Œundo log ä¿è¯äº†äº‹åŠ¡çš„åŸå­æ€§å’Œä¸€è‡´æ€§&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜äº‹åŠ¡ä¸­çš„éš”ç¦»æ€§æ˜¯å¦‚ä½•ä¿è¯çš„å‘¢ä½ è§£é‡Šä¸€ä¸‹mvcc&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#é¢è¯•å®˜äº‹åŠ¡ä¸­çš„éš”ç¦»æ€§æ˜¯å¦‚ä½•ä¿è¯çš„å‘¢ä½ è§£é‡Šä¸€ä¸‹mvcc&#34;&gt;#&lt;/a&gt; é¢è¯•å®˜ï¼šäº‹åŠ¡ä¸­çš„éš”ç¦»æ€§æ˜¯å¦‚ä½•ä¿è¯çš„å‘¢ï¼Ÿ(ä½ è§£é‡Šä¸€ä¸‹ MVCC)&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äºº&lt;/strong&gt;ï¼šäº‹åŠ¡çš„éš”ç¦»æ€§æ˜¯ç”±é”å’Œ mvcc å®ç°çš„ã€‚&lt;/p&gt;
&lt;p&gt;å…¶ä¸­ mvcc çš„æ„æ€æ˜¯å¤šç‰ˆæœ¬å¹¶å‘æ§åˆ¶ã€‚æŒ‡ç»´æŠ¤ä¸€ä¸ªæ•°æ®çš„å¤šä¸ªç‰ˆæœ¬ï¼Œä½¿å¾—è¯»å†™æ“ä½œæ²¡æœ‰å†²çªï¼Œå®ƒçš„åº•å±‚å®ç°ä¸»è¦æ˜¯åˆ†ä¸ºäº†ä¸‰ä¸ªéƒ¨åˆ†ï¼Œç¬¬ä¸€ä¸ªæ˜¯éšè—å­—æ®µï¼Œç¬¬äºŒä¸ªæ˜¯ undo log æ—¥å¿—ï¼Œç¬¬ä¸‰ä¸ªæ˜¯ readView è¯»è§†å›¾&lt;/p&gt;
&lt;p&gt;éšè—å­—æ®µæ˜¯æŒ‡ï¼šåœ¨ mysql ä¸­ç»™æ¯ä¸ªè¡¨éƒ½è®¾ç½®äº†éšè—å­—æ®µï¼Œæœ‰ä¸€ä¸ªæ˜¯ trx_id (äº‹åŠ¡ id)ï¼Œè®°å½•æ¯ä¸€æ¬¡æ“ä½œçš„äº‹åŠ¡ idï¼Œæ˜¯è‡ªå¢çš„ï¼›å¦ä¸€ä¸ªå­—æ®µæ˜¯ roll_pointer (å›æ»šæŒ‡é’ˆ)ï¼ŒæŒ‡å‘ä¸Šä¸€ä¸ªç‰ˆæœ¬çš„äº‹åŠ¡ç‰ˆæœ¬è®°å½•åœ°å€&lt;/p&gt;
&lt;p&gt;undo log ä¸»è¦çš„ä½œç”¨æ˜¯è®°å½•å›æ»šæ—¥å¿—ï¼Œå­˜å‚¨è€ç‰ˆæœ¬æ•°æ®ï¼Œåœ¨å†…éƒ¨ä¼šå½¢æˆä¸€ä¸ªç‰ˆæœ¬é“¾ï¼Œåœ¨å¤šä¸ªäº‹åŠ¡å¹¶è¡Œæ“ä½œæŸä¸€è¡Œè®°å½•ï¼Œè®°å½•ä¸åŒäº‹åŠ¡ä¿®æ”¹æ•°æ®çš„ç‰ˆæœ¬ï¼Œé€šè¿‡ roll_pointer æŒ‡é’ˆå½¢æˆä¸€ä¸ªé“¾è¡¨&lt;/p&gt;
&lt;p&gt;readView è§£å†³çš„æ˜¯ä¸€ä¸ªäº‹åŠ¡æŸ¥è¯¢é€‰æ‹©ç‰ˆæœ¬çš„é—®é¢˜ï¼Œåœ¨å†…éƒ¨å®šä¹‰äº†ä¸€äº›åŒ¹é…è§„åˆ™å’Œå½“å‰çš„ä¸€äº›äº‹åŠ¡ id åˆ¤æ–­è¯¥è®¿é—®é‚£ä¸ªç‰ˆæœ¬çš„æ•°æ®ï¼Œä¸åŒçš„éš”ç¦»çº§åˆ«å¿«ç…§è¯»æ˜¯ä¸ä¸€æ ·çš„ï¼Œæœ€ç»ˆçš„è®¿é—®çš„ç»“æœä¸ä¸€æ ·ã€‚å¦‚æœæ˜¯ rc éš”ç¦»çº§åˆ«ï¼Œæ¯ä¸€æ¬¡æ‰§è¡Œå¿«ç…§è¯»æ—¶ç”Ÿæˆ ReadViewï¼Œå¦‚æœæ˜¯ rr éš”ç¦»çº§åˆ«ä»…åœ¨äº‹åŠ¡ä¸­ç¬¬ä¸€æ¬¡æ‰§è¡Œå¿«ç…§è¯»æ—¶ç”Ÿæˆ ReadViewï¼Œåç»­å¤ç”¨&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜mysqlä¸»ä»åŒæ­¥åŸç†&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#é¢è¯•å®˜mysqlä¸»ä»åŒæ­¥åŸç†&#34;&gt;#&lt;/a&gt; é¢è¯•å®˜ï¼šMySQL ä¸»ä»åŒæ­¥åŸç†&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äºº&lt;/strong&gt;ï¼šMySQL ä¸»ä»å¤åˆ¶çš„æ ¸å¿ƒå°±æ˜¯äºŒè¿›åˆ¶æ—¥å¿— (DDLï¼ˆæ•°æ®å®šä¹‰è¯­è¨€ï¼‰è¯­å¥å’Œ DMLï¼ˆæ•°æ®æ“çºµè¯­è¨€ï¼‰è¯­å¥)ï¼Œå®ƒçš„æ­¥éª¤æ˜¯è¿™æ ·çš„ï¼š&lt;/p&gt;
&lt;p&gt;ç¬¬ä¸€ï¼šä¸»åº“åœ¨äº‹åŠ¡æäº¤æ—¶ï¼Œä¼šæŠŠæ•°æ®å˜æ›´è®°å½•åœ¨äºŒè¿›åˆ¶æ—¥å¿—æ–‡ä»¶ Binlog ä¸­ã€‚&lt;/p&gt;
&lt;p&gt;ç¬¬äºŒï¼šä»åº“è¯»å–ä¸»åº“çš„äºŒè¿›åˆ¶æ—¥å¿—æ–‡ä»¶ Binlog ï¼Œå†™å…¥åˆ°ä»åº“çš„ä¸­ç»§æ—¥å¿— Relay Log ã€‚&lt;/p&gt;
&lt;p&gt;ç¬¬ä¸‰ï¼šä»åº“é‡åšä¸­ç»§æ—¥å¿—ä¸­çš„äº‹ä»¶ï¼Œå°†æ”¹å˜åæ˜ å®ƒè‡ªå·±çš„æ•°æ®&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜ä½ ä»¬é¡¹ç›®ç”¨è¿‡mysqlçš„åˆ†åº“åˆ†è¡¨å—&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#é¢è¯•å®˜ä½ ä»¬é¡¹ç›®ç”¨è¿‡mysqlçš„åˆ†åº“åˆ†è¡¨å—&#34;&gt;#&lt;/a&gt; é¢è¯•å®˜ï¼šä½ ä»¬é¡¹ç›®ç”¨è¿‡ MySQL çš„åˆ†åº“åˆ†è¡¨å—ï¼Ÿ&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äºº&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;p&gt;å—¯ï¼Œå› ä¸ºæˆ‘ä»¬éƒ½æ˜¯å¾®æœåŠ¡å¼€å‘ï¼Œæ¯ä¸ªå¾®æœåŠ¡å¯¹åº”äº†ä¸€ä¸ªæ•°æ®åº“ï¼Œæ˜¯æ ¹æ®ä¸šåŠ¡è¿›è¡Œæ‹†åˆ†çš„ï¼Œè¿™ä¸ªå…¶å®å°±æ˜¯å‚ç›´æ‹†åˆ†ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜é‚£ä½ ä¹‹å‰ä½¿ç”¨è¿‡æ°´å¹³åˆ†åº“å—&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#é¢è¯•å®˜é‚£ä½ ä¹‹å‰ä½¿ç”¨è¿‡æ°´å¹³åˆ†åº“å—&#34;&gt;#&lt;/a&gt; é¢è¯•å®˜ï¼šé‚£ä½ ä¹‹å‰ä½¿ç”¨è¿‡æ°´å¹³åˆ†åº“å—ï¼Ÿ&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äºº&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;p&gt;å—¯ï¼Œè¿™ä¸ªæ˜¯ä½¿ç”¨è¿‡çš„ï¼Œæˆ‘ä»¬å½“æ—¶çš„ä¸šåŠ¡æ˜¯ (xxx)ï¼Œä¸€å¼€å§‹ï¼Œæˆ‘ä»¬ä¹Ÿæ˜¯å•åº“ï¼Œåæ¥è¿™ä¸ªä¸šåŠ¡é€æ¸å‘å±•ï¼Œä¸šåŠ¡é‡ä¸Šæ¥çš„å¾ˆè¿…é€Ÿï¼Œå…¶ä¸­ (xx) è¡¨å·²ç»å­˜æ”¾äº†è¶…è¿‡ 1000 ä¸‡çš„æ•°æ®ï¼Œæˆ‘ä»¬åšäº†å¾ˆå¤šä¼˜åŒ–ä¹Ÿä¸å¥½ä½¿ï¼Œæ€§èƒ½ä¾ç„¶å¾ˆæ…¢ï¼Œæ‰€ä»¥å½“æ—¶å°±ä½¿ç”¨äº†æ°´å¹³åˆ†åº“ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬ä¸€å¼€å§‹å…ˆåšäº† 3 å°æœåŠ¡å™¨å¯¹åº”äº† 3 ä¸ªæ•°æ®åº“ï¼Œç”±äºåº“å¤šäº†ï¼Œéœ€è¦åˆ†ç‰‡ï¼Œæˆ‘ä»¬å½“æ—¶é‡‡ç”¨çš„ mycat æ¥ä½œä¸ºæ•°æ®åº“çš„ä¸­é—´ä»¶ã€‚æ•°æ®éƒ½æ˜¯æŒ‰ç…§ idï¼ˆè‡ªå¢ï¼‰å–æ¨¡çš„æ–¹å¼æ¥å­˜å–çš„ã€‚&lt;/p&gt;
&lt;p&gt;å½“ç„¶ä¸€å¼€å§‹çš„æ—¶å€™ï¼Œé‚£äº›æ—§æ•°æ®ï¼Œæˆ‘ä»¬åšäº†ä¸€äº›æ¸…æ´—çš„å·¥ä½œï¼Œæˆ‘ä»¬ä¹Ÿæ˜¯æŒ‰ç…§ id å–æ¨¡è§„åˆ™åˆ†åˆ«å­˜å‚¨åˆ°äº†å„ä¸ªæ•°æ®åº“ä¸­ï¼Œå¥½å¤„å°±æ˜¯å¯ä»¥è®©å„ä¸ªæ•°æ®åº“åˆ†æ‘Šå­˜å‚¨å’Œè¯»å–çš„å‹åŠ›ï¼Œè§£å†³äº†æˆ‘ä»¬å½“æ—¶æ€§èƒ½çš„é—®é¢˜&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;æœ¬æ–‡å¼•è‡ª&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly93d3cuYmlsaWJpbGkuY29tL3ZpZGVvL0JWMXlUNDExSDdZSy8=&#34;&gt;é»‘é©¬ç¨‹åºå‘˜ Java é¢è¯•å®å…¸&lt;/span&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
        <category term="é¢ç»" scheme="https://anoxiahub.github.io/categories/interview/" />
        <category term="Mysql" scheme="https://anoxiahub.github.io/tags/Mysql/" />
        <updated>2023-08-05T16:00:00.000Z</updated>
    </entry>
    <entry>
        <id>https://anoxiahub.github.io/interview/Redis%E9%9D%A2%E8%AF%95%E9%A2%98-%E5%8F%82%E8%80%83%E5%9B%9E%E7%AD%94/</id>
        <title>Redisç›¸å…³é¢è¯•é¢˜</title>
        <link rel="alternate" href="https://anoxiahub.github.io/interview/Redis%E9%9D%A2%E8%AF%95%E9%A2%98-%E5%8F%82%E8%80%83%E5%9B%9E%E7%AD%94/"/>
        <content type="html">&lt;h3 id=&#34;é¢è¯•å®˜ä»€ä¹ˆæ˜¯ç¼“å­˜ç©¿é€-æ€ä¹ˆè§£å†³&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#é¢è¯•å®˜ä»€ä¹ˆæ˜¯ç¼“å­˜ç©¿é€-æ€ä¹ˆè§£å†³&#34;&gt;#&lt;/a&gt; é¢è¯•å®˜ï¼šä»€ä¹ˆæ˜¯ç¼“å­˜ç©¿é€ï¼Ÿæ€ä¹ˆè§£å†³ï¼Ÿ&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äºº&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;p&gt;å—¯ï½ï½ï¼Œæˆ‘æƒ³ä¸€ä¸‹&lt;/p&gt;
&lt;p&gt;ç¼“å­˜ç©¿é€æ˜¯æŒ‡æŸ¥è¯¢ä¸€ä¸ªä¸€å®š&lt;strong&gt;ä¸å­˜åœ¨&lt;/strong&gt;çš„æ•°æ®ï¼Œå¦‚æœä»å­˜å‚¨å±‚æŸ¥ä¸åˆ°æ•°æ®åˆ™ä¸å†™å…¥ç¼“å­˜ï¼Œè¿™å°†å¯¼è‡´è¿™ä¸ªä¸å­˜åœ¨çš„æ•°æ®æ¯æ¬¡è¯·æ±‚éƒ½è¦åˆ° DB å»æŸ¥è¯¢ï¼Œå¯èƒ½å¯¼è‡´ DB æŒ‚æ‰ã€‚è¿™ç§æƒ…å†µå¤§æ¦‚ç‡æ˜¯é­åˆ°äº†æ”»å‡»ã€‚&lt;/p&gt;
&lt;p&gt;è§£å†³æ–¹æ¡ˆçš„è¯ï¼Œæˆ‘ä»¬é€šå¸¸éƒ½ä¼šç”¨å¸ƒéš†è¿‡æ»¤å™¨æ¥è§£å†³å®ƒ&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜å¥½çš„ä½ èƒ½ä»‹ç»ä¸€ä¸‹å¸ƒéš†è¿‡æ»¤å™¨å—&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#é¢è¯•å®˜å¥½çš„ä½ èƒ½ä»‹ç»ä¸€ä¸‹å¸ƒéš†è¿‡æ»¤å™¨å—&#34;&gt;#&lt;/a&gt; é¢è¯•å®˜ï¼šå¥½çš„ï¼Œä½ èƒ½ä»‹ç»ä¸€ä¸‹å¸ƒéš†è¿‡æ»¤å™¨å—ï¼Ÿ&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äºº&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;p&gt;å—¯ï¼Œæ˜¯è¿™æ ·ï½&lt;/p&gt;
&lt;p&gt;å¸ƒéš†è¿‡æ»¤å™¨ä¸»è¦æ˜¯ç”¨äºæ£€ç´¢ä¸€ä¸ªå…ƒç´ æ˜¯å¦åœ¨ä¸€ä¸ªé›†åˆä¸­ã€‚æˆ‘ä»¬å½“æ—¶ä½¿ç”¨çš„æ˜¯ redisson å®ç°çš„å¸ƒéš†è¿‡æ»¤å™¨ã€‚&lt;/p&gt;
&lt;p&gt;å®ƒçš„åº•å±‚ä¸»è¦æ˜¯å…ˆå»åˆå§‹åŒ–ä¸€ä¸ªæ¯”è¾ƒå¤§æ•°ç»„ï¼Œé‡Œé¢å­˜æ”¾çš„äºŒè¿›åˆ¶ 0 æˆ– 1ã€‚åœ¨ä¸€å¼€å§‹éƒ½æ˜¯ 0ï¼Œå½“ä¸€ä¸ª key æ¥äº†ä¹‹åç»è¿‡ 3 æ¬¡ hash è®¡ç®—ï¼Œæ¨¡äºæ•°ç»„é•¿åº¦æ‰¾åˆ°æ•°æ®çš„ä¸‹æ ‡ç„¶åæŠŠæ•°ç»„ä¸­åŸæ¥çš„ 0 æ”¹ä¸º 1ï¼Œè¿™æ ·çš„è¯ï¼Œä¸‰ä¸ªæ•°ç»„çš„ä½ç½®å°±èƒ½æ ‡æ˜ä¸€ä¸ª key çš„å­˜åœ¨ã€‚æŸ¥æ‰¾çš„è¿‡ç¨‹ä¹Ÿæ˜¯ä¸€æ ·çš„ã€‚&lt;/p&gt;
&lt;p&gt;å½“ç„¶æ˜¯æœ‰ç¼ºç‚¹çš„ï¼Œå¸ƒéš†è¿‡æ»¤å™¨æœ‰å¯èƒ½ä¼šäº§ç”Ÿä¸€å®šçš„è¯¯åˆ¤ï¼Œæˆ‘ä»¬ä¸€èˆ¬å¯ä»¥è®¾ç½®è¿™ä¸ªè¯¯åˆ¤ç‡ï¼Œå¤§æ¦‚ä¸ä¼šè¶…è¿‡ 5%ï¼Œå…¶å®è¿™ä¸ªè¯¯åˆ¤æ˜¯å¿…ç„¶å­˜åœ¨çš„ï¼Œè¦ä¸å°±å¾—å¢åŠ æ•°ç»„çš„é•¿åº¦ï¼Œå…¶å®å·²ç»ç®—æ˜¯å¾ˆåˆ’åˆ†äº†ï¼Œ5% ä»¥å†…çš„è¯¯åˆ¤ç‡ä¸€èˆ¬çš„é¡¹ç›®ä¹Ÿèƒ½æ¥å—ï¼Œä¸è‡³äºé«˜å¹¶å‘ä¸‹å‹å€’æ•°æ®åº“ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜ä»€ä¹ˆæ˜¯ç¼“å­˜å‡»ç©¿-æ€ä¹ˆè§£å†³&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#é¢è¯•å®˜ä»€ä¹ˆæ˜¯ç¼“å­˜å‡»ç©¿-æ€ä¹ˆè§£å†³&#34;&gt;#&lt;/a&gt; é¢è¯•å®˜ï¼šä»€ä¹ˆæ˜¯ç¼“å­˜å‡»ç©¿ï¼Ÿæ€ä¹ˆè§£å†³ï¼Ÿ&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äºº&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;p&gt;å—¯ï¼ï¼&lt;/p&gt;
&lt;p&gt;ç¼“å­˜å‡»ç©¿çš„æ„æ€æ˜¯å¯¹äºè®¾ç½®äº†è¿‡æœŸæ—¶é—´çš„ keyï¼Œç¼“å­˜åœ¨æŸä¸ªæ—¶é—´ç‚¹è¿‡æœŸçš„æ—¶å€™ï¼Œæ°å¥½è¿™æ—¶é—´ç‚¹å¯¹è¿™ä¸ª Key æœ‰å¤§é‡çš„å¹¶å‘è¯·æ±‚è¿‡æ¥ï¼Œè¿™äº›è¯·æ±‚å‘ç°ç¼“å­˜è¿‡æœŸä¸€èˆ¬éƒ½ä¼šä»åç«¯ DB åŠ è½½æ•°æ®å¹¶å›è®¾åˆ°ç¼“å­˜ï¼Œè¿™ä¸ªæ—¶å€™å¤§å¹¶å‘çš„è¯·æ±‚å¯èƒ½ä¼šç¬é—´æŠŠ DB å‹å®ã€‚&lt;/p&gt;
&lt;p&gt;è§£å†³æ–¹æ¡ˆæœ‰ä¸¤ç§æ–¹å¼ï¼š&lt;/p&gt;
&lt;p&gt;ç¬¬ä¸€å¯ä»¥ä½¿ç”¨äº’æ–¥é”ï¼šå½“ç¼“å­˜å¤±æ•ˆæ—¶ï¼Œä¸ç«‹å³å» load dbï¼Œå…ˆä½¿ç”¨å¦‚ Redis çš„ setnx å»è®¾ç½®ä¸€ä¸ªäº’æ–¥é”ï¼Œå½“æ“ä½œæˆåŠŸè¿”å›æ—¶å†è¿›è¡Œ load db çš„æ“ä½œå¹¶å›è®¾ç¼“å­˜ï¼Œå¦åˆ™é‡è¯• get ç¼“å­˜çš„æ–¹æ³•&lt;/p&gt;
&lt;p&gt;ç¬¬äºŒç§æ–¹æ¡ˆå¯ä»¥è®¾ç½®å½“å‰ key é€»è¾‘è¿‡æœŸï¼Œå¤§æ¦‚æ˜¯æ€è·¯å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;â‘ ï¼šåœ¨è®¾ç½® key çš„æ—¶å€™ï¼Œè®¾ç½®ä¸€ä¸ªè¿‡æœŸæ—¶é—´å­—æ®µä¸€å—å­˜å…¥ç¼“å­˜ä¸­ï¼Œä¸ç»™å½“å‰ key è®¾ç½®è¿‡æœŸæ—¶é—´&lt;/p&gt;
&lt;p&gt;â‘¡ï¼šå½“æŸ¥è¯¢çš„æ—¶å€™ï¼Œä» redis å–å‡ºæ•°æ®ååˆ¤æ–­æ—¶é—´æ˜¯å¦è¿‡æœŸ&lt;/p&gt;
&lt;p&gt;â‘¢ï¼šå¦‚æœè¿‡æœŸåˆ™å¼€é€šå¦å¤–ä¸€ä¸ªçº¿ç¨‹è¿›è¡Œæ•°æ®åŒæ­¥ï¼Œå½“å‰çº¿ç¨‹æ­£å¸¸è¿”å›æ•°æ®ï¼Œè¿™ä¸ªæ•°æ®ä¸æ˜¯æœ€æ–°&lt;/p&gt;
&lt;p&gt;å½“ç„¶ä¸¤ç§æ–¹æ¡ˆå„æœ‰åˆ©å¼Šï¼š&lt;/p&gt;
&lt;p&gt;å¦‚æœé€‰æ‹©æ•°æ®çš„å¼ºä¸€è‡´æ€§ï¼Œå»ºè®®ä½¿ç”¨åˆ†å¸ƒå¼é”çš„æ–¹æ¡ˆï¼Œæ€§èƒ½ä¸Šå¯èƒ½æ²¡é‚£ä¹ˆé«˜ï¼Œé”éœ€è¦ç­‰ï¼Œä¹Ÿæœ‰å¯èƒ½äº§ç”Ÿæ­»é”çš„é—®é¢˜&lt;/p&gt;
&lt;p&gt;å¦‚æœé€‰æ‹© key çš„é€»è¾‘åˆ é™¤ï¼Œåˆ™ä¼˜å…ˆè€ƒè™‘çš„é«˜å¯ç”¨æ€§ï¼Œæ€§èƒ½æ¯”è¾ƒé«˜ï¼Œä½†æ˜¯æ•°æ®åŒæ­¥è¿™å—åšä¸åˆ°å¼ºä¸€è‡´ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜ä»€ä¹ˆæ˜¯ç¼“å­˜é›ªå´©-æ€ä¹ˆè§£å†³&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#é¢è¯•å®˜ä»€ä¹ˆæ˜¯ç¼“å­˜é›ªå´©-æ€ä¹ˆè§£å†³&#34;&gt;#&lt;/a&gt; é¢è¯•å®˜ï¼šä»€ä¹ˆæ˜¯ç¼“å­˜é›ªå´©ï¼Ÿæ€ä¹ˆè§£å†³ï¼Ÿ&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äºº&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;p&gt;å—¯ï¼ï¼&lt;/p&gt;
&lt;p&gt;ç¼“å­˜é›ªå´©æ„æ€æ˜¯è®¾ç½®ç¼“å­˜æ—¶é‡‡ç”¨äº†ç›¸åŒçš„è¿‡æœŸæ—¶é—´ï¼Œå¯¼è‡´ç¼“å­˜åœ¨æŸä¸€æ—¶åˆ»åŒæ—¶å¤±æ•ˆï¼Œè¯·æ±‚å…¨éƒ¨è½¬å‘åˆ° DBï¼ŒDB ç¬æ—¶å‹åŠ›è¿‡é‡é›ªå´©ã€‚ä¸ç¼“å­˜å‡»ç©¿çš„åŒºåˆ«ï¼šé›ªå´©æ˜¯å¾ˆå¤š keyï¼Œå‡»ç©¿æ˜¯æŸä¸€ä¸ª key ç¼“å­˜ã€‚&lt;/p&gt;
&lt;p&gt;è§£å†³æ–¹æ¡ˆä¸»è¦æ˜¯å¯ä»¥å°†ç¼“å­˜å¤±æ•ˆæ—¶é—´åˆ†æ•£å¼€ï¼Œæ¯”å¦‚å¯ä»¥åœ¨åŸæœ‰çš„å¤±æ•ˆæ—¶é—´åŸºç¡€ä¸Šå¢åŠ ä¸€ä¸ªéšæœºå€¼ï¼Œæ¯”å¦‚ 1-5 åˆ†é’Ÿéšæœºï¼Œè¿™æ ·æ¯ä¸€ä¸ªç¼“å­˜çš„è¿‡æœŸæ—¶é—´çš„é‡å¤ç‡å°±ä¼šé™ä½ï¼Œå°±å¾ˆéš¾å¼•å‘é›†ä½“å¤±æ•ˆçš„äº‹ä»¶ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜redisåšä¸ºç¼“å­˜mysqlçš„æ•°æ®å¦‚ä½•ä¸redisè¿›è¡ŒåŒæ­¥å‘¢åŒå†™ä¸€è‡´æ€§&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#é¢è¯•å®˜redisåšä¸ºç¼“å­˜mysqlçš„æ•°æ®å¦‚ä½•ä¸redisè¿›è¡ŒåŒæ­¥å‘¢åŒå†™ä¸€è‡´æ€§&#34;&gt;#&lt;/a&gt; é¢è¯•å®˜ï¼šredis åšä¸ºç¼“å­˜ï¼Œmysql çš„æ•°æ®å¦‚ä½•ä¸ redis è¿›è¡ŒåŒæ­¥å‘¢ï¼Ÿï¼ˆåŒå†™ä¸€è‡´æ€§ï¼‰&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äºº&lt;/strong&gt;ï¼šå—¯ï¼å°±è¯´æˆ‘æœ€è¿‘åšçš„è¿™ä¸ªé¡¹ç›®ï¼Œé‡Œé¢æœ‰ xxxxï¼ˆ&lt;strong&gt;æ ¹æ®è‡ªå·±çš„ç®€å†ä¸Šå†™&lt;/strong&gt;ï¼‰çš„åŠŸèƒ½ï¼Œéœ€è¦è®©æ•°æ®åº“ä¸ redis é«˜åº¦ä¿æŒä¸€è‡´ï¼Œå› ä¸ºè¦æ±‚æ—¶æ•ˆæ€§æ¯”è¾ƒé«˜ï¼Œæˆ‘ä»¬å½“æ—¶é‡‡ç”¨çš„è¯»å†™é”ä¿è¯çš„å¼ºä¸€è‡´æ€§ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬é‡‡ç”¨çš„æ˜¯ redisson å®ç°çš„è¯»å†™é”ï¼Œåœ¨è¯»çš„æ—¶å€™æ·»åŠ å…±äº«é”ï¼Œå¯ä»¥ä¿è¯è¯»è¯»ä¸äº’æ–¥ï¼Œè¯»å†™äº’æ–¥ã€‚å½“æˆ‘ä»¬æ›´æ–°æ•°æ®çš„æ—¶å€™ï¼Œæ·»åŠ æ’ä»–é”ï¼Œå®ƒæ˜¯è¯»å†™ï¼Œè¯»è¯»éƒ½äº’æ–¥ï¼Œè¿™æ ·å°±èƒ½ä¿è¯åœ¨å†™æ•°æ®çš„åŒæ—¶æ˜¯ä¸ä¼šè®©å…¶ä»–çº¿ç¨‹è¯»æ•°æ®çš„ï¼Œé¿å…äº†è„æ•°æ®ã€‚è¿™é‡Œé¢éœ€è¦æ³¨æ„çš„æ˜¯è¯»æ–¹æ³•å’Œå†™æ–¹æ³•ä¸Šéœ€è¦ä½¿ç”¨åŒä¸€æŠŠé”æ‰è¡Œã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜é‚£è¿™ä¸ªæ’ä»–é”æ˜¯å¦‚ä½•ä¿è¯è¯»å†™-è¯»è¯»äº’æ–¥çš„å‘¢&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#é¢è¯•å®˜é‚£è¿™ä¸ªæ’ä»–é”æ˜¯å¦‚ä½•ä¿è¯è¯»å†™-è¯»è¯»äº’æ–¥çš„å‘¢&#34;&gt;#&lt;/a&gt; é¢è¯•å®˜ï¼šé‚£è¿™ä¸ªæ’ä»–é”æ˜¯å¦‚ä½•ä¿è¯è¯»å†™ã€è¯»è¯»äº’æ–¥çš„å‘¢ï¼Ÿ&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äºº&lt;/strong&gt;ï¼šå…¶å®æ’ä»–é”åº•å±‚ä½¿ç”¨ä¹Ÿæ˜¯ setnxï¼Œä¿è¯äº†åŒæ—¶åªèƒ½æœ‰ä¸€ä¸ªçº¿ç¨‹æ“ä½œé”ä½çš„æ–¹æ³•&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜ä½ å¬è¯´è¿‡å»¶æ—¶åŒåˆ å—ä¸ºä»€ä¹ˆä¸ç”¨å®ƒå‘¢&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#é¢è¯•å®˜ä½ å¬è¯´è¿‡å»¶æ—¶åŒåˆ å—ä¸ºä»€ä¹ˆä¸ç”¨å®ƒå‘¢&#34;&gt;#&lt;/a&gt; é¢è¯•å®˜ï¼šä½ å¬è¯´è¿‡å»¶æ—¶åŒåˆ å—ï¼Ÿä¸ºä»€ä¹ˆä¸ç”¨å®ƒå‘¢ï¼Ÿ&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äºº&lt;/strong&gt;ï¼šå»¶è¿ŸåŒåˆ ï¼Œå¦‚æœæ˜¯å†™æ“ä½œï¼Œæˆ‘ä»¬å…ˆæŠŠç¼“å­˜ä¸­çš„æ•°æ®åˆ é™¤ï¼Œç„¶åæ›´æ–°æ•°æ®åº“ï¼Œæœ€åå†å»¶æ—¶åˆ é™¤ç¼“å­˜ä¸­çš„æ•°æ®ï¼Œå…¶ä¸­è¿™ä¸ªå»¶æ—¶å¤šä¹…ä¸å¤ªå¥½ç¡®å®šï¼Œåœ¨å»¶æ—¶çš„è¿‡ç¨‹ä¸­å¯èƒ½ä¼šå‡ºç°è„æ•°æ®ï¼Œå¹¶ä¸èƒ½ä¿è¯å¼ºä¸€è‡´æ€§ï¼Œæ‰€ä»¥æ²¡æœ‰é‡‡ç”¨å®ƒã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜redisåšä¸ºç¼“å­˜æ•°æ®çš„æŒä¹…åŒ–æ˜¯æ€ä¹ˆåšçš„&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#é¢è¯•å®˜redisåšä¸ºç¼“å­˜æ•°æ®çš„æŒä¹…åŒ–æ˜¯æ€ä¹ˆåšçš„&#34;&gt;#&lt;/a&gt; é¢è¯•å®˜ï¼šredis åšä¸ºç¼“å­˜ï¼Œæ•°æ®çš„æŒä¹…åŒ–æ˜¯æ€ä¹ˆåšçš„ï¼Ÿ&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äºº&lt;/strong&gt;ï¼šåœ¨ Redis ä¸­æä¾›äº†ä¸¤ç§æ•°æ®æŒä¹…åŒ–çš„æ–¹å¼ï¼š1ã€RDB  2ã€AOF&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜è¿™ä¸¤ç§æŒä¹…åŒ–æ–¹å¼æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#é¢è¯•å®˜è¿™ä¸¤ç§æŒä¹…åŒ–æ–¹å¼æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢&#34;&gt;#&lt;/a&gt; é¢è¯•å®˜ï¼šè¿™ä¸¤ç§æŒä¹…åŒ–æ–¹å¼æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿ&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äºº&lt;/strong&gt;ï¼šRDB æ˜¯ä¸€ä¸ªå¿«ç…§æ–‡ä»¶ï¼Œå®ƒæ˜¯æŠŠ redis å†…å­˜å­˜å‚¨çš„æ•°æ®å†™åˆ°ç£ç›˜ä¸Šï¼Œå½“ redis å®ä¾‹å®•æœºæ¢å¤æ•°æ®çš„æ—¶å€™ï¼Œæ–¹ä¾¿ä» RDB çš„å¿«ç…§æ–‡ä»¶ä¸­æ¢å¤æ•°æ®ã€‚&lt;/p&gt;
&lt;p&gt;AOF çš„å«ä¹‰æ˜¯è¿½åŠ æ–‡ä»¶ï¼Œå½“ redis æ“ä½œå†™å‘½ä»¤çš„æ—¶å€™ï¼Œéƒ½ä¼šå­˜å‚¨è¿™ä¸ªæ–‡ä»¶ä¸­ï¼Œå½“ redis å®ä¾‹å®•æœºæ¢å¤æ•°æ®çš„æ—¶å€™ï¼Œä¼šä»è¿™ä¸ªæ–‡ä»¶ä¸­å†æ¬¡æ‰§è¡Œä¸€éå‘½ä»¤æ¥æ¢å¤æ•°æ®&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜è¿™ä¸¤ç§æ–¹å¼å“ªç§æ¢å¤çš„æ¯”è¾ƒå¿«å‘¢&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#é¢è¯•å®˜è¿™ä¸¤ç§æ–¹å¼å“ªç§æ¢å¤çš„æ¯”è¾ƒå¿«å‘¢&#34;&gt;#&lt;/a&gt; é¢è¯•å®˜ï¼šè¿™ä¸¤ç§æ–¹å¼ï¼Œå“ªç§æ¢å¤çš„æ¯”è¾ƒå¿«å‘¢ï¼Ÿ&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äºº&lt;/strong&gt;ï¼šRDB å› ä¸ºæ˜¯äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œåœ¨ä¿å­˜çš„æ—¶å€™ä½“ç§¯ä¹Ÿæ˜¯æ¯”è¾ƒå°çš„ï¼Œå®ƒæ¢å¤çš„æ¯”è¾ƒå¿«ï¼Œä½†æ˜¯å®ƒæœ‰å¯èƒ½ä¼šä¸¢æ•°æ®ï¼Œæˆ‘ä»¬é€šå¸¸åœ¨é¡¹ç›®ä¸­ä¹Ÿä¼šä½¿ç”¨ AOF æ¥æ¢å¤æ•°æ®ï¼Œè™½ç„¶ AOF æ¢å¤çš„é€Ÿåº¦æ…¢ä¸€äº›ï¼Œä½†æ˜¯å®ƒä¸¢æ•°æ®çš„é£é™©è¦å°å¾ˆå¤šï¼Œåœ¨ AOF æ–‡ä»¶ä¸­å¯ä»¥è®¾ç½®åˆ·ç›˜ç­–ç•¥ï¼Œæˆ‘ä»¬å½“æ—¶è®¾ç½®çš„å°±æ˜¯æ¯ç§’æ‰¹é‡å†™å…¥ä¸€æ¬¡å‘½ä»¤&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜redisçš„æ•°æ®è¿‡æœŸç­–ç•¥æœ‰å“ªäº›&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#é¢è¯•å®˜redisçš„æ•°æ®è¿‡æœŸç­–ç•¥æœ‰å“ªäº›&#34;&gt;#&lt;/a&gt; é¢è¯•å®˜ï¼šRedis çš„æ•°æ®è¿‡æœŸç­–ç•¥æœ‰å“ªäº›ï¼Ÿ&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äºº&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;p&gt;å—¯ï½ï¼Œåœ¨ redis ä¸­æä¾›äº†ä¸¤ç§æ•°æ®è¿‡æœŸåˆ é™¤ç­–ç•¥&lt;/p&gt;
&lt;p&gt;ç¬¬ä¸€ç§æ˜¯æƒ°æ€§åˆ é™¤ï¼Œåœ¨è®¾ç½®è¯¥ key è¿‡æœŸæ—¶é—´åï¼Œæˆ‘ä»¬ä¸å»ç®¡å®ƒï¼Œå½“éœ€è¦è¯¥ key æ—¶ï¼Œæˆ‘ä»¬åœ¨æ£€æŸ¥å…¶æ˜¯å¦è¿‡æœŸï¼Œå¦‚æœè¿‡æœŸï¼Œæˆ‘ä»¬å°±åˆ æ‰å®ƒï¼Œåä¹‹è¿”å›è¯¥ keyã€‚&lt;/p&gt;
&lt;p&gt;ç¬¬äºŒç§æ˜¯ å®šæœŸåˆ é™¤ï¼Œå°±æ˜¯è¯´æ¯éš”ä¸€æ®µæ—¶é—´ï¼Œæˆ‘ä»¬å°±å¯¹ä¸€äº› key è¿›è¡Œæ£€æŸ¥ï¼Œåˆ é™¤é‡Œé¢è¿‡æœŸçš„ key&lt;/p&gt;
&lt;p&gt;å®šæœŸæ¸…ç†çš„ä¸¤ç§æ¨¡å¼ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;SLOW æ¨¡å¼æ˜¯å®šæ—¶ä»»åŠ¡ï¼Œæ‰§è¡Œé¢‘ç‡é»˜è®¤ä¸º 10hzï¼Œæ¯æ¬¡ä¸è¶…è¿‡ 25msï¼Œä»¥é€šè¿‡ä¿®æ”¹é…ç½®æ–‡ä»¶ redis.conf çš„ &lt;strong&gt;hz&lt;/strong&gt; é€‰é¡¹æ¥è°ƒæ•´è¿™ä¸ªæ¬¡æ•°&lt;/li&gt;
&lt;li&gt;FAST æ¨¡å¼æ‰§è¡Œé¢‘ç‡ä¸å›ºå®šï¼Œæ¯æ¬¡äº‹ä»¶å¾ªç¯ä¼šå°è¯•æ‰§è¡Œï¼Œä½†ä¸¤æ¬¡é—´éš”ä¸ä½äº 2msï¼Œæ¯æ¬¡è€—æ—¶ä¸è¶…è¿‡ 1ms&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Redis çš„è¿‡æœŸåˆ é™¤ç­–ç•¥ï¼š&lt;strong&gt;æƒ°æ€§åˆ é™¤ + å®šæœŸåˆ é™¤&lt;/strong&gt;ä¸¤ç§ç­–ç•¥è¿›è¡Œé…åˆä½¿ç”¨ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜redisçš„æ•°æ®æ·˜æ±°ç­–ç•¥æœ‰å“ªäº›&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#é¢è¯•å®˜redisçš„æ•°æ®æ·˜æ±°ç­–ç•¥æœ‰å“ªäº›&#34;&gt;#&lt;/a&gt; é¢è¯•å®˜ï¼šRedis çš„æ•°æ®æ·˜æ±°ç­–ç•¥æœ‰å“ªäº›ï¼Ÿ&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äºº&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;p&gt;å—¯ï¼Œè¿™ä¸ªåœ¨ redis ä¸­æä¾›äº†å¾ˆå¤šç§ï¼Œé»˜è®¤æ˜¯ noevictionï¼Œä¸åˆ é™¤ä»»ä½•æ•°æ®ï¼Œå†…éƒ¨ä¸è¶³ç›´æ¥æŠ¥é”™&lt;/p&gt;
&lt;p&gt;æ˜¯å¯ä»¥åœ¨ redis çš„é…ç½®æ–‡ä»¶ä¸­è¿›è¡Œè®¾ç½®çš„ï¼Œé‡Œé¢æœ‰ä¸¤ä¸ªéå¸¸é‡è¦çš„æ¦‚å¿µï¼Œä¸€ä¸ªæ˜¯ LRUï¼Œå¦å¤–ä¸€ä¸ªæ˜¯ LFU&lt;/p&gt;
&lt;p&gt;LRU çš„æ„æ€å°±æ˜¯æœ€å°‘æœ€è¿‘ä½¿ç”¨ï¼Œç”¨å½“å‰æ—¶é—´å‡å»æœ€åä¸€æ¬¡è®¿é—®æ—¶é—´ï¼Œè¿™ä¸ªå€¼è¶Šå¤§åˆ™æ·˜æ±°ä¼˜å…ˆçº§è¶Šé«˜ã€‚&lt;/p&gt;
&lt;p&gt;LFU çš„æ„æ€æ˜¯æœ€å°‘é¢‘ç‡ä½¿ç”¨ã€‚ä¼šç»Ÿè®¡æ¯ä¸ª key çš„è®¿é—®é¢‘ç‡ï¼Œå€¼è¶Šå°æ·˜æ±°ä¼˜å…ˆçº§è¶Šé«˜&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬åœ¨é¡¹ç›®è®¾ç½®çš„ allkeys-lruï¼ŒæŒ‘é€‰æœ€è¿‘æœ€å°‘ä½¿ç”¨çš„æ•°æ®æ·˜æ±°ï¼ŒæŠŠä¸€äº›ç»å¸¸è®¿é—®çš„ key ç•™åœ¨ redis ä¸­&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜æ•°æ®åº“æœ‰1000ä¸‡æ•°æ®-redisåªèƒ½ç¼“å­˜20wæ•°æ®-å¦‚ä½•ä¿è¯redisä¸­çš„æ•°æ®éƒ½æ˜¯çƒ­ç‚¹æ•°æ®&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#é¢è¯•å®˜æ•°æ®åº“æœ‰1000ä¸‡æ•°æ®-redisåªèƒ½ç¼“å­˜20wæ•°æ®-å¦‚ä½•ä¿è¯redisä¸­çš„æ•°æ®éƒ½æ˜¯çƒ­ç‚¹æ•°æ®&#34;&gt;#&lt;/a&gt; é¢è¯•å®˜ï¼šæ•°æ®åº“æœ‰ 1000 ä¸‡æ•°æ®ï¼ŒRedis åªèƒ½ç¼“å­˜ 20w æ•°æ®ï¼Œå¦‚ä½•ä¿è¯ Redis ä¸­çš„æ•°æ®éƒ½æ˜¯çƒ­ç‚¹æ•°æ®ï¼Ÿ&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äºº&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;p&gt;å—¯ï¼Œæˆ‘æƒ³ä¸€ä¸‹ï½ï½&lt;/p&gt;
&lt;p&gt;å¯ä»¥ä½¿ç”¨ allkeys-lru ï¼ˆæŒ‘é€‰æœ€è¿‘æœ€å°‘ä½¿ç”¨çš„æ•°æ®æ·˜æ±°ï¼‰æ·˜æ±°ç­–ç•¥ï¼Œé‚£ç•™ä¸‹æ¥çš„éƒ½æ˜¯ç»å¸¸è®¿é—®çš„çƒ­ç‚¹æ•°æ®&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜redisçš„å†…å­˜ç”¨å®Œäº†ä¼šå‘ç”Ÿä»€ä¹ˆ&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#é¢è¯•å®˜redisçš„å†…å­˜ç”¨å®Œäº†ä¼šå‘ç”Ÿä»€ä¹ˆ&#34;&gt;#&lt;/a&gt; é¢è¯•å®˜ï¼šRedis çš„å†…å­˜ç”¨å®Œäº†ä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿ&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äºº&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;p&gt;å—¯ï½ï¼Œè¿™ä¸ªè¦çœ‹ redis çš„æ•°æ®æ·˜æ±°ç­–ç•¥æ˜¯ä»€ä¹ˆï¼Œå¦‚æœæ˜¯é»˜è®¤çš„é…ç½®ï¼Œredis å†…å­˜ç”¨å®Œä»¥ååˆ™ç›´æ¥æŠ¥é”™ã€‚æˆ‘ä»¬å½“æ—¶è®¾ç½®çš„ allkeys-lru ç­–ç•¥ã€‚æŠŠæœ€è¿‘æœ€å¸¸è®¿é—®çš„æ•°æ®ç•™åœ¨ç¼“å­˜ä¸­ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜redisåˆ†å¸ƒå¼é”å¦‚ä½•å®ç°&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#é¢è¯•å®˜redisåˆ†å¸ƒå¼é”å¦‚ä½•å®ç°&#34;&gt;#&lt;/a&gt; é¢è¯•å®˜ï¼šRedis åˆ†å¸ƒå¼é”å¦‚ä½•å®ç°ï¼Ÿ&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äºº&lt;/strong&gt;ï¼šå—¯ï¼Œåœ¨ redis ä¸­æä¾›äº†ä¸€ä¸ªå‘½ä»¤ setnx (SET if not exists)&lt;/p&gt;
&lt;p&gt;ç”±äº redis çš„å•çº¿ç¨‹çš„ï¼Œç”¨äº†å‘½ä»¤ä¹‹åï¼Œåªèƒ½æœ‰ä¸€ä¸ªå®¢æˆ·ç«¯å¯¹æŸä¸€ä¸ª key è®¾ç½®å€¼ï¼Œåœ¨æ²¡æœ‰è¿‡æœŸæˆ–åˆ é™¤ key çš„æ—¶å€™æ˜¯å…¶ä»–å®¢æˆ·ç«¯æ˜¯ä¸èƒ½è®¾ç½®è¿™ä¸ª key çš„&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜å¥½çš„é‚£ä½ å¦‚ä½•æ§åˆ¶rediså®ç°åˆ†å¸ƒå¼é”æœ‰æ•ˆæ—¶é•¿å‘¢&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#é¢è¯•å®˜å¥½çš„é‚£ä½ å¦‚ä½•æ§åˆ¶rediså®ç°åˆ†å¸ƒå¼é”æœ‰æ•ˆæ—¶é•¿å‘¢&#34;&gt;#&lt;/a&gt; é¢è¯•å®˜ï¼šå¥½çš„ï¼Œé‚£ä½ å¦‚ä½•æ§åˆ¶ Redis å®ç°åˆ†å¸ƒå¼é”æœ‰æ•ˆæ—¶é•¿å‘¢ï¼Ÿ&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äºº&lt;/strong&gt;ï¼šå—¯ï¼Œçš„ç¡®ï¼Œredis çš„ setnx æŒ‡ä»¤ä¸å¥½æ§åˆ¶è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬å½“æ—¶é‡‡ç”¨çš„ redis çš„ä¸€ä¸ªæ¡†æ¶ redisson å®ç°çš„ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨ redisson ä¸­éœ€è¦æ‰‹åŠ¨åŠ é”ï¼Œå¹¶ä¸”å¯ä»¥æ§åˆ¶é”çš„å¤±æ•ˆæ—¶é—´å’Œç­‰å¾…æ—¶é—´ï¼Œå½“é”ä½çš„ä¸€ä¸ªä¸šåŠ¡è¿˜æ²¡æœ‰æ‰§è¡Œå®Œæˆçš„æ—¶å€™ï¼Œåœ¨ redisson ä¸­å¼•å…¥äº†ä¸€ä¸ªçœ‹é—¨ç‹—æœºåˆ¶ï¼Œå°±æ˜¯è¯´æ¯éš”ä¸€æ®µæ—¶é—´å°±æ£€æŸ¥å½“å‰ä¸šåŠ¡æ˜¯å¦è¿˜æŒæœ‰é”ï¼Œå¦‚æœæŒæœ‰å°±å¢åŠ åŠ é”çš„æŒæœ‰æ—¶é—´ï¼Œå½“ä¸šåŠ¡æ‰§è¡Œå®Œæˆä¹‹åéœ€è¦ä½¿ç”¨é‡Šæ”¾é”å°±å¯ä»¥äº†&lt;/p&gt;
&lt;p&gt;è¿˜æœ‰ä¸€ä¸ªå¥½å¤„å°±æ˜¯ï¼Œåœ¨é«˜å¹¶å‘ä¸‹ï¼Œä¸€ä¸ªä¸šåŠ¡æœ‰å¯èƒ½ä¼šæ‰§è¡Œå¾ˆå¿«ï¼Œå…ˆå®¢æˆ· 1 æŒæœ‰é”çš„æ—¶å€™ï¼Œå®¢æˆ· 2 æ¥äº†ä»¥åå¹¶ä¸ä¼šé©¬ä¸Šæ‹’ç»ï¼Œå®ƒä¼šè‡ªæ—‹ä¸æ–­å°è¯•è·å–é”ï¼Œå¦‚æœå®¢æˆ· 1 é‡Šæ”¾ä¹‹åï¼Œå®¢æˆ· 2 å°±å¯ä»¥é©¬ä¸ŠæŒæœ‰é”ï¼Œæ€§èƒ½ä¹Ÿå¾—åˆ°äº†æå‡ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜å¥½çš„redissonå®ç°çš„åˆ†å¸ƒå¼é”æ˜¯å¯é‡å…¥çš„å—&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#é¢è¯•å®˜å¥½çš„redissonå®ç°çš„åˆ†å¸ƒå¼é”æ˜¯å¯é‡å…¥çš„å—&#34;&gt;#&lt;/a&gt; é¢è¯•å®˜ï¼šå¥½çš„ï¼Œredisson å®ç°çš„åˆ†å¸ƒå¼é”æ˜¯å¯é‡å…¥çš„å—ï¼Ÿ&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äºº&lt;/strong&gt;ï¼šå—¯ï¼Œæ˜¯å¯ä»¥é‡å…¥çš„ã€‚è¿™æ ·åšæ˜¯ä¸ºäº†é¿å…æ­»é”çš„äº§ç”Ÿã€‚è¿™ä¸ªé‡å…¥å…¶å®åœ¨å†…éƒ¨å°±æ˜¯åˆ¤æ–­æ˜¯å¦æ˜¯å½“å‰çº¿ç¨‹æŒæœ‰çš„é”ï¼Œå¦‚æœæ˜¯å½“å‰çº¿ç¨‹æŒæœ‰çš„é”å°±ä¼šè®¡æ•°ï¼Œå¦‚æœé‡Šæ”¾é”å°±ä¼šåœ¨è®¡ç®—ä¸Šå‡ä¸€ã€‚åœ¨å­˜å‚¨æ•°æ®çš„æ—¶å€™é‡‡ç”¨çš„ hash ç»“æ„ï¼Œå¤§ key å¯ä»¥æŒ‰ç…§è‡ªå·±çš„ä¸šåŠ¡è¿›è¡Œå®šåˆ¶ï¼Œå…¶ä¸­å° key æ˜¯å½“å‰çº¿ç¨‹çš„å”¯ä¸€æ ‡è¯†ï¼Œvalue æ˜¯å½“å‰çº¿ç¨‹é‡å…¥çš„æ¬¡æ•°&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜redissonå®ç°çš„åˆ†å¸ƒå¼é”èƒ½è§£å†³ä¸»ä»ä¸€è‡´æ€§çš„é—®é¢˜å—&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#é¢è¯•å®˜redissonå®ç°çš„åˆ†å¸ƒå¼é”èƒ½è§£å†³ä¸»ä»ä¸€è‡´æ€§çš„é—®é¢˜å—&#34;&gt;#&lt;/a&gt; é¢è¯•å®˜ï¼šredisson å®ç°çš„åˆ†å¸ƒå¼é”èƒ½è§£å†³ä¸»ä»ä¸€è‡´æ€§çš„é—®é¢˜å—&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äºº&lt;/strong&gt;ï¼šè¿™ä¸ªæ˜¯ä¸èƒ½çš„ï¼Œæ¯”å¦‚ï¼Œå½“çº¿ç¨‹ 1 åŠ é”æˆåŠŸåï¼Œmaster èŠ‚ç‚¹æ•°æ®ä¼šå¼‚æ­¥å¤åˆ¶åˆ° slave èŠ‚ç‚¹ï¼Œæ­¤æ—¶å½“å‰æŒæœ‰ Redis é”çš„ master èŠ‚ç‚¹å®•æœºï¼Œslave èŠ‚ç‚¹è¢«æå‡ä¸ºæ–°çš„ master èŠ‚ç‚¹ï¼Œå‡å¦‚ç°åœ¨æ¥äº†ä¸€ä¸ªçº¿ç¨‹ 2ï¼Œå†æ¬¡åŠ é”ï¼Œä¼šåœ¨æ–°çš„ master èŠ‚ç‚¹ä¸ŠåŠ é”æˆåŠŸï¼Œè¿™ä¸ªæ—¶å€™å°±ä¼šå‡ºç°ä¸¤ä¸ªèŠ‚ç‚¹åŒæ—¶æŒæœ‰ä¸€æŠŠé”çš„é—®é¢˜ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬å¯ä»¥åˆ©ç”¨ redisson æä¾›çš„çº¢é”æ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå®ƒçš„ä¸»è¦ä½œç”¨æ˜¯ï¼Œä¸èƒ½åªåœ¨ä¸€ä¸ª redis å®ä¾‹ä¸Šåˆ›å»ºé”ï¼Œåº”è¯¥æ˜¯åœ¨å¤šä¸ª redis å®ä¾‹ä¸Šåˆ›å»ºé”ï¼Œå¹¶ä¸”è¦æ±‚åœ¨å¤§å¤šæ•° redis èŠ‚ç‚¹ä¸Šéƒ½æˆåŠŸåˆ›å»ºé”ï¼Œçº¢é”ä¸­è¦æ±‚æ˜¯ redis çš„èŠ‚ç‚¹æ•°é‡è¦è¿‡åŠã€‚è¿™æ ·å°±èƒ½é¿å…çº¿ç¨‹ 1 åŠ é”æˆåŠŸå master èŠ‚ç‚¹å®•æœºå¯¼è‡´çº¿ç¨‹ 2 æˆåŠŸåŠ é”åˆ°æ–°çš„ master èŠ‚ç‚¹ä¸Šçš„é—®é¢˜äº†ã€‚&lt;/p&gt;
&lt;p&gt;ä½†æ˜¯ï¼Œå¦‚æœä½¿ç”¨äº†çº¢é”ï¼Œå› ä¸ºéœ€è¦åŒæ—¶åœ¨å¤šä¸ªèŠ‚ç‚¹ä¸Šéƒ½æ·»åŠ é”ï¼Œæ€§èƒ½å°±å˜çš„å¾ˆä½äº†ï¼Œå¹¶ä¸”è¿ç»´ç»´æŠ¤æˆæœ¬ä¹Ÿéå¸¸é«˜ï¼Œæ‰€ä»¥ï¼Œæˆ‘ä»¬ä¸€èˆ¬åœ¨é¡¹ç›®ä¸­ä¹Ÿä¸ä¼šç›´æ¥ä½¿ç”¨çº¢é”ï¼Œå¹¶ä¸”å®˜æ–¹ä¹Ÿæš‚æ—¶åºŸå¼ƒäº†è¿™ä¸ªçº¢é”&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜å¥½çš„å¦‚æœä¸šåŠ¡éè¦ä¿è¯æ•°æ®çš„å¼ºä¸€è‡´æ€§è¿™ä¸ªè¯¥æ€ä¹ˆè§£å†³å‘¢&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#é¢è¯•å®˜å¥½çš„å¦‚æœä¸šåŠ¡éè¦ä¿è¯æ•°æ®çš„å¼ºä¸€è‡´æ€§è¿™ä¸ªè¯¥æ€ä¹ˆè§£å†³å‘¢&#34;&gt;#&lt;/a&gt; é¢è¯•å®˜ï¼šå¥½çš„ï¼Œå¦‚æœä¸šåŠ¡éè¦ä¿è¯æ•°æ®çš„å¼ºä¸€è‡´æ€§ï¼Œè¿™ä¸ªè¯¥æ€ä¹ˆè§£å†³å‘¢ï¼Ÿ&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;** å€™é€‰äººï¼š** å—¯ï½ï¼Œredis æœ¬èº«å°±æ˜¯æ”¯æŒé«˜å¯ç”¨çš„ï¼Œåšåˆ°å¼ºä¸€è‡´æ€§ï¼Œå°±éå¸¸å½±å“æ€§èƒ½ï¼Œæ‰€ä»¥ï¼Œå¦‚æœæœ‰å¼ºä¸€è‡´æ€§è¦æ±‚é«˜çš„ä¸šåŠ¡ï¼Œå»ºè®®ä½¿ç”¨ zookeeper å®ç°çš„åˆ†å¸ƒå¼é”ï¼Œå®ƒæ˜¯å¯ä»¥ä¿è¯å¼ºä¸€è‡´æ€§çš„ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜redisé›†ç¾¤æœ‰å“ªäº›æ–¹æ¡ˆ-çŸ¥é“å˜›&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#é¢è¯•å®˜redisé›†ç¾¤æœ‰å“ªäº›æ–¹æ¡ˆ-çŸ¥é“å˜›&#34;&gt;#&lt;/a&gt; é¢è¯•å®˜ï¼šRedis é›†ç¾¤æœ‰å“ªäº›æ–¹æ¡ˆï¼ŒçŸ¥é“å˜›ï¼Ÿ&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äºº&lt;/strong&gt;ï¼šå—¯ï½ï½ï¼Œåœ¨ Redis ä¸­æä¾›çš„é›†ç¾¤æ–¹æ¡ˆæ€»å…±æœ‰ä¸‰ç§ï¼šä¸»ä»å¤åˆ¶ã€å“¨å…µæ¨¡å¼ã€Redis åˆ†ç‰‡é›†ç¾¤&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜é‚£ä½ æ¥ä»‹ç»ä¸€ä¸‹ä¸»ä»åŒæ­¥&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#é¢è¯•å®˜é‚£ä½ æ¥ä»‹ç»ä¸€ä¸‹ä¸»ä»åŒæ­¥&#34;&gt;#&lt;/a&gt; é¢è¯•å®˜ï¼šé‚£ä½ æ¥ä»‹ç»ä¸€ä¸‹ä¸»ä»åŒæ­¥&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äºº&lt;/strong&gt;ï¼šå—¯ï¼Œæ˜¯è¿™æ ·çš„ï¼Œå•èŠ‚ç‚¹ Redis çš„å¹¶å‘èƒ½åŠ›æ˜¯æœ‰ä¸Šé™çš„ï¼Œè¦è¿›ä¸€æ­¥æé«˜ Redis çš„å¹¶å‘èƒ½åŠ›ï¼Œå¯ä»¥æ­å»ºä¸»ä»é›†ç¾¤ï¼Œå®ç°è¯»å†™åˆ†ç¦»ã€‚ä¸€èˆ¬éƒ½æ˜¯ä¸€ä¸»å¤šä»ï¼Œä¸»èŠ‚ç‚¹è´Ÿè´£å†™æ•°æ®ï¼Œä»èŠ‚ç‚¹è´Ÿè´£è¯»æ•°æ®ï¼Œä¸»èŠ‚ç‚¹å†™å…¥æ•°æ®ä¹‹åï¼Œéœ€è¦æŠŠæ•°æ®åŒæ­¥åˆ°ä»èŠ‚ç‚¹ä¸­&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜èƒ½è¯´ä¸€ä¸‹ä¸»ä»åŒæ­¥æ•°æ®çš„æµç¨‹&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#é¢è¯•å®˜èƒ½è¯´ä¸€ä¸‹ä¸»ä»åŒæ­¥æ•°æ®çš„æµç¨‹&#34;&gt;#&lt;/a&gt; é¢è¯•å®˜ï¼šèƒ½è¯´ä¸€ä¸‹ï¼Œä¸»ä»åŒæ­¥æ•°æ®çš„æµç¨‹&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äºº&lt;/strong&gt;ï¼šå—¯ï½ï½ï¼Œå¥½ï¼ä¸»ä»åŒæ­¥åˆ†ä¸ºäº†ä¸¤ä¸ªé˜¶æ®µï¼Œä¸€ä¸ªæ˜¯å…¨é‡åŒæ­¥ï¼Œä¸€ä¸ªæ˜¯å¢é‡åŒæ­¥&lt;/p&gt;
&lt;p&gt;å…¨é‡åŒæ­¥æ˜¯æŒ‡ä»èŠ‚ç‚¹ç¬¬ä¸€æ¬¡ä¸ä¸»èŠ‚ç‚¹å»ºç«‹è¿æ¥çš„æ—¶å€™ä½¿ç”¨å…¨é‡åŒæ­¥ï¼Œæµç¨‹æ˜¯è¿™æ ·çš„ï¼š&lt;/p&gt;
&lt;p&gt;ç¬¬ä¸€ï¼šä»èŠ‚ç‚¹è¯·æ±‚ä¸»èŠ‚ç‚¹åŒæ­¥æ•°æ®ï¼Œå…¶ä¸­ä»èŠ‚ç‚¹ä¼šæºå¸¦è‡ªå·±çš„ replication id å’Œ offset åç§»é‡ã€‚&lt;/p&gt;
&lt;p&gt;ç¬¬äºŒï¼šä¸»èŠ‚ç‚¹åˆ¤æ–­æ˜¯å¦æ˜¯ç¬¬ä¸€æ¬¡è¯·æ±‚ï¼Œä¸»è¦åˆ¤æ–­çš„ä¾æ®å°±æ˜¯ï¼Œä¸»èŠ‚ç‚¹ä¸ä»èŠ‚ç‚¹æ˜¯å¦æ˜¯åŒä¸€ä¸ª replication idï¼Œå¦‚æœä¸æ˜¯ï¼Œå°±è¯´æ˜æ˜¯ç¬¬ä¸€æ¬¡åŒæ­¥ï¼Œé‚£ä¸»èŠ‚ç‚¹å°±ä¼šæŠŠè‡ªå·±çš„ replication id å’Œ offset å‘é€ç»™ä»èŠ‚ç‚¹ï¼Œè®©ä»èŠ‚ç‚¹ä¸ä¸»èŠ‚ç‚¹çš„ä¿¡æ¯ä¿æŒä¸€è‡´ã€‚&lt;/p&gt;
&lt;p&gt;ç¬¬ä¸‰ï¼šåœ¨åŒæ—¶ä¸»èŠ‚ç‚¹ä¼šæ‰§è¡Œ bgsaveï¼Œç”Ÿæˆ rdb æ–‡ä»¶åï¼Œå‘é€ç»™ä»èŠ‚ç‚¹å»æ‰§è¡Œï¼Œä»èŠ‚ç‚¹å…ˆæŠŠè‡ªå·±çš„æ•°æ®æ¸…ç©ºï¼Œç„¶åæ‰§è¡Œä¸»èŠ‚ç‚¹å‘é€è¿‡æ¥çš„ rdb æ–‡ä»¶ï¼Œè¿™æ ·å°±ä¿æŒäº†ä¸€è‡´&lt;/p&gt;
&lt;p&gt;å½“ç„¶ï¼Œå¦‚æœåœ¨ rdb ç”Ÿæˆæ‰§è¡ŒæœŸé—´ï¼Œä¾ç„¶æœ‰è¯·æ±‚åˆ°äº†ä¸»èŠ‚ç‚¹ï¼Œè€Œä¸»èŠ‚ç‚¹ä¼šä»¥å‘½ä»¤çš„æ–¹å¼è®°å½•åˆ°ç¼“å†²åŒºï¼Œç¼“å†²åŒºæ˜¯ä¸€ä¸ªæ—¥å¿—æ–‡ä»¶ï¼Œæœ€åæŠŠè¿™ä¸ªæ—¥å¿—æ–‡ä»¶å‘é€ç»™ä»èŠ‚ç‚¹ï¼Œè¿™æ ·å°±èƒ½ä¿è¯ä¸»èŠ‚ç‚¹ä¸ä»èŠ‚ç‚¹å®Œå…¨ä¸€è‡´äº†ï¼ŒåæœŸå†åŒæ­¥æ•°æ®çš„æ—¶å€™ï¼Œéƒ½æ˜¯ä¾èµ–äºè¿™ä¸ªæ—¥å¿—æ–‡ä»¶ï¼Œè¿™ä¸ªå°±æ˜¯å…¨é‡åŒæ­¥&lt;/p&gt;
&lt;p&gt;å¢é‡åŒæ­¥æŒ‡çš„æ˜¯ï¼Œå½“ä»èŠ‚ç‚¹æœåŠ¡é‡å¯ä¹‹åï¼Œæ•°æ®å°±ä¸ä¸€è‡´äº†ï¼Œæ‰€ä»¥è¿™ä¸ªæ—¶å€™ï¼Œä»èŠ‚ç‚¹ä¼šè¯·æ±‚ä¸»èŠ‚ç‚¹åŒæ­¥æ•°æ®ï¼Œä¸»èŠ‚ç‚¹è¿˜æ˜¯åˆ¤æ–­ä¸æ˜¯ç¬¬ä¸€æ¬¡è¯·æ±‚ï¼Œä¸æ˜¯ç¬¬ä¸€æ¬¡å°±è·å–ä»èŠ‚ç‚¹çš„ offset å€¼ï¼Œç„¶åä¸»èŠ‚ç‚¹ä»å‘½ä»¤æ—¥å¿—ä¸­è·å– offset å€¼ä¹‹åçš„æ•°æ®ï¼Œå‘é€ç»™ä»èŠ‚ç‚¹è¿›è¡Œæ•°æ®åŒæ­¥&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜æ€ä¹ˆä¿è¯redisçš„é«˜å¹¶å‘é«˜å¯ç”¨&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#é¢è¯•å®˜æ€ä¹ˆä¿è¯redisçš„é«˜å¹¶å‘é«˜å¯ç”¨&#34;&gt;#&lt;/a&gt; é¢è¯•å®˜ï¼šæ€ä¹ˆä¿è¯ Redis çš„é«˜å¹¶å‘é«˜å¯ç”¨&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äºº&lt;/strong&gt;ï¼šé¦–å…ˆå¯ä»¥æ­å»ºä¸»ä»é›†ç¾¤ï¼Œå†åŠ ä¸Šä½¿ç”¨ redis ä¸­çš„å“¨å…µæ¨¡å¼ï¼Œå“¨å…µæ¨¡å¼å¯ä»¥å®ç°ä¸»ä»é›†ç¾¤çš„è‡ªåŠ¨æ•…éšœæ¢å¤ï¼Œé‡Œé¢å°±åŒ…å«äº†å¯¹ä¸»ä»æœåŠ¡çš„ç›‘æ§ã€è‡ªåŠ¨æ•…éšœæ¢å¤ã€é€šçŸ¥ï¼›å¦‚æœ master æ•…éšœï¼ŒSentinel ä¼šå°†ä¸€ä¸ª slave æå‡ä¸º masterã€‚å½“æ•…éšœå®ä¾‹æ¢å¤åä¹Ÿä»¥æ–°çš„ master ä¸ºä¸»ï¼›åŒæ—¶ Sentinel ä¹Ÿå……å½“ Redis å®¢æˆ·ç«¯çš„æœåŠ¡å‘ç°æ¥æºï¼Œå½“é›†ç¾¤å‘ç”Ÿæ•…éšœè½¬ç§»æ—¶ï¼Œä¼šå°†æœ€æ–°ä¿¡æ¯æ¨é€ç»™ Redis çš„å®¢æˆ·ç«¯ï¼Œæ‰€ä»¥ä¸€èˆ¬é¡¹ç›®éƒ½ä¼šé‡‡ç”¨å“¨å…µçš„æ¨¡å¼æ¥ä¿è¯ redis çš„é«˜å¹¶å‘é«˜å¯ç”¨&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜ä½ ä»¬ä½¿ç”¨redisæ˜¯å•ç‚¹è¿˜æ˜¯é›†ç¾¤å“ªç§é›†ç¾¤&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#é¢è¯•å®˜ä½ ä»¬ä½¿ç”¨redisæ˜¯å•ç‚¹è¿˜æ˜¯é›†ç¾¤å“ªç§é›†ç¾¤&#34;&gt;#&lt;/a&gt; é¢è¯•å®˜ï¼šä½ ä»¬ä½¿ç”¨ redis æ˜¯å•ç‚¹è¿˜æ˜¯é›†ç¾¤ï¼Œå“ªç§é›†ç¾¤&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äºº&lt;/strong&gt;ï¼šå—¯ï¼ï¼Œæˆ‘ä»¬å½“æ—¶ä½¿ç”¨çš„æ˜¯ä¸»ä»ï¼ˆ1 ä¸» 1 ä»ï¼‰åŠ å“¨å…µã€‚ä¸€èˆ¬å•èŠ‚ç‚¹ä¸è¶…è¿‡ 10G å†…å­˜ï¼Œå¦‚æœ Redis å†…å­˜ä¸è¶³åˆ™å¯ä»¥ç»™ä¸åŒæœåŠ¡åˆ†é…ç‹¬ç«‹çš„ Redis ä¸»ä»èŠ‚ç‚¹ã€‚å°½é‡ä¸åšåˆ†ç‰‡é›†ç¾¤ã€‚å› ä¸ºé›†ç¾¤ç»´æŠ¤èµ·æ¥æ¯”è¾ƒéº»çƒ¦ï¼Œå¹¶ä¸”é›†ç¾¤ä¹‹é—´çš„å¿ƒè·³æ£€æµ‹å’Œæ•°æ®é€šä¿¡ä¼šæ¶ˆè€—å¤§é‡çš„ç½‘ç»œå¸¦å®½ï¼Œä¹Ÿæ²¡æœ‰åŠæ³•ä½¿ç”¨ lua è„šæœ¬å’Œäº‹åŠ¡&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜redisé›†ç¾¤è„‘è£‚è¯¥æ€ä¹ˆè§£å†³å‘¢&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#é¢è¯•å®˜redisé›†ç¾¤è„‘è£‚è¯¥æ€ä¹ˆè§£å†³å‘¢&#34;&gt;#&lt;/a&gt; é¢è¯•å®˜ï¼šredis é›†ç¾¤è„‘è£‚ï¼Œè¯¥æ€ä¹ˆè§£å†³å‘¢ï¼Ÿ&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äºº&lt;/strong&gt;ï¼šå—¯ï¼ è¿™ä¸ªåœ¨é¡¹ç›®å¾ˆå°‘è§ï¼Œä¸è¿‡è„‘è£‚çš„é—®é¢˜æ˜¯è¿™æ ·çš„ï¼Œæˆ‘ä»¬ç°åœ¨ç”¨çš„æ˜¯ redis çš„å“¨å…µæ¨¡å¼é›†ç¾¤çš„&lt;/p&gt;
&lt;p&gt;æœ‰çš„æ—¶å€™ç”±äºç½‘ç»œç­‰åŸå› å¯èƒ½ä¼šå‡ºç°è„‘è£‚çš„æƒ…å†µï¼Œå°±æ˜¯è¯´ï¼Œç”±äº redis master èŠ‚ç‚¹å’Œ redis salve èŠ‚ç‚¹å’Œ sentinel å¤„äºä¸åŒçš„ç½‘ç»œåˆ†åŒºï¼Œä½¿å¾— sentinel æ²¡æœ‰èƒ½å¤Ÿå¿ƒè·³æ„ŸçŸ¥åˆ° masterï¼Œæ‰€ä»¥é€šè¿‡é€‰ä¸¾çš„æ–¹å¼æå‡äº†ä¸€ä¸ª salve ä¸º masterï¼Œè¿™æ ·å°±å­˜åœ¨äº†ä¸¤ä¸ª masterï¼Œå°±åƒå¤§è„‘åˆ†è£‚äº†ä¸€æ ·ï¼Œè¿™æ ·ä¼šå¯¼è‡´å®¢æˆ·ç«¯è¿˜åœ¨ old master é‚£é‡Œå†™å…¥æ•°æ®ï¼Œæ–°èŠ‚ç‚¹æ— æ³•åŒæ­¥æ•°æ®ï¼Œå½“ç½‘ç»œæ¢å¤åï¼Œsentinel ä¼šå°† old master é™ä¸º salveï¼Œè¿™æ—¶å†ä»æ–° master åŒæ­¥æ•°æ®ï¼Œè¿™ä¼šå¯¼è‡´ old master ä¸­çš„å¤§é‡æ•°æ®ä¸¢å¤±ã€‚&lt;/p&gt;
&lt;p&gt;å…³äºè§£å†³çš„è¯ï¼Œæˆ‘è®°å¾—åœ¨ redis çš„é…ç½®ä¸­å¯ä»¥è®¾ç½®ï¼šç¬¬ä¸€å¯ä»¥è®¾ç½®æœ€å°‘çš„ salve èŠ‚ç‚¹ä¸ªæ•°ï¼Œæ¯”å¦‚è®¾ç½®è‡³å°‘è¦æœ‰ä¸€ä¸ªä»èŠ‚ç‚¹æ‰èƒ½åŒæ­¥æ•°æ®ï¼Œç¬¬äºŒä¸ªå¯ä»¥è®¾ç½®ä¸»ä»æ•°æ®å¤åˆ¶å’ŒåŒæ­¥çš„å»¶è¿Ÿæ—¶é—´ï¼Œè¾¾ä¸åˆ°è¦æ±‚å°±æ‹’ç»è¯·æ±‚ï¼Œå°±å¯ä»¥é¿å…å¤§é‡çš„æ•°æ®ä¸¢å¤±&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜redisçš„åˆ†ç‰‡é›†ç¾¤æœ‰ä»€ä¹ˆä½œç”¨&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#é¢è¯•å®˜redisçš„åˆ†ç‰‡é›†ç¾¤æœ‰ä»€ä¹ˆä½œç”¨&#34;&gt;#&lt;/a&gt; é¢è¯•å®˜ï¼šredis çš„åˆ†ç‰‡é›†ç¾¤æœ‰ä»€ä¹ˆä½œç”¨&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äºº&lt;/strong&gt;ï¼šåˆ†ç‰‡é›†ç¾¤ä¸»è¦è§£å†³çš„æ˜¯ï¼Œæµ·é‡æ•°æ®å­˜å‚¨çš„é—®é¢˜ï¼Œé›†ç¾¤ä¸­æœ‰å¤šä¸ª masterï¼Œæ¯ä¸ª master ä¿å­˜ä¸åŒæ•°æ®ï¼Œå¹¶ä¸”è¿˜å¯ä»¥ç»™æ¯ä¸ª master è®¾ç½®å¤šä¸ª slave èŠ‚ç‚¹ï¼Œå°±å¯ä»¥ç»§ç»­å¢å¤§é›†ç¾¤çš„é«˜å¹¶å‘èƒ½åŠ›ã€‚åŒæ—¶æ¯ä¸ª master ä¹‹é—´é€šè¿‡ ping ç›‘æµ‹å½¼æ­¤å¥åº·çŠ¶æ€ï¼Œå°±ç±»ä¼¼äºå“¨å…µæ¨¡å¼äº†ã€‚å½“å®¢æˆ·ç«¯è¯·æ±‚å¯ä»¥è®¿é—®é›†ç¾¤ä»»æ„èŠ‚ç‚¹ï¼Œæœ€ç»ˆéƒ½ä¼šè¢«è½¬å‘åˆ°æ­£ç¡®èŠ‚ç‚¹&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜redisåˆ†ç‰‡é›†ç¾¤ä¸­æ•°æ®æ˜¯æ€ä¹ˆå­˜å‚¨å’Œè¯»å–çš„&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#é¢è¯•å®˜redisåˆ†ç‰‡é›†ç¾¤ä¸­æ•°æ®æ˜¯æ€ä¹ˆå­˜å‚¨å’Œè¯»å–çš„&#34;&gt;#&lt;/a&gt; é¢è¯•å®˜ï¼šRedis åˆ†ç‰‡é›†ç¾¤ä¸­æ•°æ®æ˜¯æ€ä¹ˆå­˜å‚¨å’Œè¯»å–çš„ï¼Ÿ&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äºº&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;p&gt;å—¯ï½ï¼Œåœ¨ redis é›†ç¾¤ä¸­æ˜¯è¿™æ ·çš„&lt;/p&gt;
&lt;p&gt;Redis é›†ç¾¤å¼•å…¥äº†å“ˆå¸Œæ§½çš„æ¦‚å¿µï¼Œæœ‰ 16384 ä¸ªå“ˆå¸Œæ§½ï¼Œé›†ç¾¤ä¸­æ¯ä¸ªä¸»èŠ‚ç‚¹ç»‘å®šäº†ä¸€å®šèŒƒå›´çš„å“ˆå¸Œæ§½èŒƒå›´ï¼Œ key é€šè¿‡ CRC16 æ ¡éªŒåå¯¹ 16384 å–æ¨¡æ¥å†³å®šæ”¾ç½®å“ªä¸ªæ§½ï¼Œé€šè¿‡æ§½æ‰¾åˆ°å¯¹åº”çš„èŠ‚ç‚¹è¿›è¡Œå­˜å‚¨ã€‚&lt;/p&gt;
&lt;p&gt;å–å€¼çš„é€»è¾‘æ˜¯ä¸€æ ·çš„&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜redisæ˜¯å•çº¿ç¨‹çš„ä½†æ˜¯ä¸ºä»€ä¹ˆè¿˜é‚£ä¹ˆå¿«&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#é¢è¯•å®˜redisæ˜¯å•çº¿ç¨‹çš„ä½†æ˜¯ä¸ºä»€ä¹ˆè¿˜é‚£ä¹ˆå¿«&#34;&gt;#&lt;/a&gt; é¢è¯•å®˜ï¼šRedis æ˜¯å•çº¿ç¨‹çš„ï¼Œä½†æ˜¯ä¸ºä»€ä¹ˆè¿˜é‚£ä¹ˆå¿«ï¼Ÿ&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äºº&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;p&gt;å—¯ï¼Œè¿™ä¸ªæœ‰å‡ ä¸ªåŸå› å§ï½ï½ï½&lt;/p&gt;
&lt;p&gt;1ã€å®Œå…¨åŸºäºå†…å­˜çš„ï¼ŒC è¯­è¨€ç¼–å†™&lt;/p&gt;
&lt;p&gt;2ã€é‡‡ç”¨å•çº¿ç¨‹ï¼Œé¿å…ä¸å¿…è¦çš„ä¸Šä¸‹æ–‡åˆ‡æ¢å¯ç«äº‰æ¡ä»¶&lt;/p&gt;
&lt;p&gt;3ã€ä½¿ç”¨å¤šè·¯ I/O å¤ç”¨æ¨¡å‹ï¼Œéé˜»å¡ IO&lt;/p&gt;
&lt;p&gt;ä¾‹å¦‚ï¼šbgsave å’Œ bgrewriteaof  éƒ½æ˜¯åœ¨&lt;strong&gt;åå°&lt;/strong&gt;æ‰§è¡Œæ“ä½œï¼Œä¸å½±å“ä¸»çº¿ç¨‹çš„æ­£å¸¸ä½¿ç”¨ï¼Œä¸ä¼šäº§ç”Ÿé˜»å¡&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é¢è¯•å®˜èƒ½è§£é‡Šä¸€ä¸‹ioå¤šè·¯å¤ç”¨æ¨¡å‹&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#é¢è¯•å®˜èƒ½è§£é‡Šä¸€ä¸‹ioå¤šè·¯å¤ç”¨æ¨¡å‹&#34;&gt;#&lt;/a&gt; é¢è¯•å®˜ï¼šèƒ½è§£é‡Šä¸€ä¸‹ I/O å¤šè·¯å¤ç”¨æ¨¡å‹ï¼Ÿ&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å€™é€‰äºº&lt;/strong&gt;ï¼šå—¯ï½ï½ï¼ŒI/O å¤šè·¯å¤ç”¨æ˜¯æŒ‡åˆ©ç”¨å•ä¸ªçº¿ç¨‹æ¥åŒæ—¶ç›‘å¬å¤šä¸ª Socket ï¼Œå¹¶åœ¨æŸä¸ª Socket å¯è¯»ã€å¯å†™æ—¶å¾—åˆ°é€šçŸ¥ï¼Œä»è€Œé¿å…æ— æ•ˆçš„ç­‰å¾…ï¼Œå……åˆ†åˆ©ç”¨ CPU èµ„æºã€‚ç›®å‰çš„ I/O å¤šè·¯å¤ç”¨éƒ½æ˜¯é‡‡ç”¨çš„ epoll æ¨¡å¼å®ç°ï¼Œå®ƒä¼šåœ¨é€šçŸ¥ç”¨æˆ·è¿›ç¨‹ Socket å°±ç»ªçš„åŒæ—¶ï¼ŒæŠŠå·²å°±ç»ªçš„ Socket å†™å…¥ç”¨æˆ·ç©ºé—´ï¼Œä¸éœ€è¦æŒ¨ä¸ªéå† Socket æ¥åˆ¤æ–­æ˜¯å¦å°±ç»ªï¼Œæå‡äº†æ€§èƒ½ã€‚&lt;/p&gt;
&lt;p&gt;å…¶ä¸­ Redis çš„ç½‘ç»œæ¨¡å‹å°±æ˜¯ä½¿ç”¨ I/O å¤šè·¯å¤ç”¨ç»“åˆäº‹ä»¶çš„å¤„ç†å™¨æ¥åº”å¯¹å¤šä¸ª Socket è¯·æ±‚ï¼Œæ¯”å¦‚ï¼Œæä¾›äº†è¿æ¥åº”ç­”å¤„ç†å™¨ã€å‘½ä»¤å›å¤å¤„ç†å™¨ï¼Œå‘½ä»¤è¯·æ±‚å¤„ç†å™¨ï¼›&lt;/p&gt;
&lt;p&gt;åœ¨ Redis6.0 ä¹‹åï¼Œä¸ºäº†æå‡æ›´å¥½çš„æ€§èƒ½ï¼Œåœ¨å‘½ä»¤å›å¤å¤„ç†å™¨ä½¿ç”¨äº†å¤šçº¿ç¨‹æ¥å¤„ç†å›å¤äº‹ä»¶ï¼Œåœ¨å‘½ä»¤è¯·æ±‚å¤„ç†å™¨ä¸­ï¼Œå°†å‘½ä»¤çš„è½¬æ¢ä½¿ç”¨äº†å¤šçº¿ç¨‹ï¼Œå¢åŠ å‘½ä»¤è½¬æ¢é€Ÿåº¦ï¼Œåœ¨å‘½ä»¤æ‰§è¡Œçš„æ—¶å€™ï¼Œä¾ç„¶æ˜¯å•çº¿ç¨‹&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;æœ¬æ–‡å¼•è‡ª&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly93d3cuYmlsaWJpbGkuY29tL3ZpZGVvL0JWMXlUNDExSDdZSy8=&#34;&gt;é»‘é©¬ç¨‹åºå‘˜ Java é¢è¯•å®å…¸&lt;/span&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
        <category term="é¢ç»" scheme="https://anoxiahub.github.io/categories/interview/" />
        <category term="Redis" scheme="https://anoxiahub.github.io/tags/Redis/" />
        <updated>2023-08-05T16:00:00.000Z</updated>
    </entry>
</feed>
